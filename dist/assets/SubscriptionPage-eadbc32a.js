import{u as L,e as _,a as F,b as E,f as H,r as R,j as e,H as u,B as t,A as j,m,C as r,g as l,c as S,h as c,i as o,k as d,l as p,n as M,o as B,Z as U}from"./index-459497b8.js";import{u as Z,G as O,H as V}from"./useStripe-4a22a2bd.js";import{C as x}from"./check-85d670a2.js";function K(){var w,y,C,P;const i=L(),[N]=_(),{profile:h}=F();E();const{createCheckoutSession:A,handlePaymentSuccess:g,handlePaymentCanceled:v,loading:b}=Z(),{subscription:s,loading:z,refetch:f}=H();if(R.useEffect(()=>{const a=N.get("payment");a==="success"?(g(),f(),i("/subscription",{replace:!0})):a==="canceled"&&(v(),i("/subscription",{replace:!0}))},[N,g,v,i,f]),(h==null?void 0:h.role)==="admin")return e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx("title",{children:"Abbonamento Premium - SardAI"}),e.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento Premium SardAI."})]}),e.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[e.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[e.jsxs(t,{variant:"ghost",onClick:()=>i("/dashboard"),className:"text-white hover:bg-white/10",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pannello Admin"}),e.jsx("div",{className:"w-32"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx(m.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(r,{className:"sardinian-card text-center",children:[e.jsxs(l,{children:[e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(S,{className:"w-8 h-8 text-white"})}),e.jsx(c,{className:"text-3xl text-white",children:"Accesso Amministratore 🛡️"}),e.jsx(o,{className:"text-gray-300 text-lg",children:"Come amministratore hai accesso completo a tutte le funzionalità di SardAI!"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white",children:"Il tuo ruolo di amministratore ti dà accesso a:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:["Tutte le funzionalità Premium","Chat in lingua sarda autentica","Pannello di amministrazione","Gestione utenti e segnalazioni","Statistiche e log di sistema","Gestione storage e file"].map((a,n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-300 text-sm",children:a})]},n))}),e.jsxs("div",{className:"flex space-x-4 mt-6",children:[e.jsxs(t,{onClick:()=>i("/admin"),className:"flex-1 bg-red-600 hover:bg-red-700",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Pannello Admin"]}),e.jsx(t,{onClick:()=>i("/chat"),className:"flex-1 sardinian-gradient hover:opacity-90",children:"Inizia Chat Premium"})]})]})})]})})})})]})]});if(s!=null&&s.isActive)return e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx("title",{children:"Abbonamento Premium - SardAI"}),e.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento Premium SardAI."})]}),e.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[e.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[e.jsxs(t,{variant:"ghost",onClick:()=>i("/dashboard"),className:"text-white hover:bg-white/10",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Abbonamento Premium"}),e.jsx("div",{className:"w-32"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx(m.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(r,{className:"sardinian-card premium-glow text-center",children:[e.jsxs(l,{children:[e.jsx("div",{className:"w-16 h-16 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(p,{className:"w-8 h-8 text-white"})}),e.jsx(c,{className:"text-3xl text-white",children:"Sei già Premium! 🎉"}),e.jsx(o,{className:"text-gray-300 text-lg",children:"Grazie per supportare SardAI. Goditi tutte le funzionalità premium!"})]}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Piano Attuale"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-400 font-medium",children:((w=s.product)==null?void 0:w.name)||"Abbonamento Premium"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[(y=s.product)==null?void 0:y.price," ",(C=s.product)==null?void 0:C.currency," / ",((P=s.product)==null?void 0:P.interval)==="month"?"mese":"anno"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Rinnovo"}),e.jsx("p",{className:"text-white text-sm",children:s.current_period_end?new Date(s.current_period_end*1e3).toLocaleDateString("it-IT"):"N/A"})]})]}),s.cancel_at_period_end&&e.jsx("div",{className:"mt-3 p-2 bg-yellow-900/30 border border-yellow-500/30 rounded",children:e.jsx("p",{className:"text-yellow-400 text-sm",children:"⚠️ L'abbonamento verrà cancellato alla fine del periodo corrente"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white",children:"Il tuo abbonamento Premium ti dà accesso a:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:["Chat in lingua sarda autentica","Dialetti: Logudorese, Campidanese","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle nuove funzionalità"].map((a,n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-300 text-sm",children:a})]},n))}),e.jsx(t,{onClick:()=>i("/chat"),className:"w-full sardinian-gradient hover:opacity-90 mt-6",children:"Inizia a Conversare in Sardo"})]})]})})]})})})})]})]});const k=a=>{A(a,"subscription")},I=["Chat in italiano con carattere sardo","Accesso alle informazioni base sulla Sardegna","Umorismo e calore tipico sardo","Supporto via email"],D=["Chat in lingua sarda autentica","Dialetti: Logudorese, Campidanese, Baronia","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle nuove funzionalità"];return z?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx("title",{children:"Diventa Premium - SardAI"}),e.jsx("meta",{name:"description",content:"Sblocca la modalità sarda autentica e funzionalità esclusive con SardAI Premium."})]}),e.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[e.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[e.jsxs(t,{variant:"ghost",onClick:()=>i("/dashboard"),className:"text-white hover:bg-white/10",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Diventa Premium"}),e.jsx("div",{className:"w-32"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(m.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Sblocca il Vero Potere di",e.jsx("span",{className:"block sardinian-gradient bg-clip-text text-transparent",children:"SardAI Premium"})]}),e.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Conversa in lingua sarda autentica e accedi a contenuti culturali esclusivi"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[e.jsx(m.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:e.jsxs(r,{className:"sardinian-card h-full",children:[e.jsxs(l,{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(M,{className:"w-6 h-6 text-white"})}),e.jsx(c,{className:"text-2xl text-white",children:"Gratuito"}),e.jsx(o,{className:"text-gray-300",children:"Perfetto per iniziare"}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-4",children:["€0",e.jsx("span",{className:"text-lg font-normal text-gray-400",children:"/mese"})]})]}),e.jsxs(d,{children:[e.jsx("div",{className:"space-y-3",children:I.map((a,n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-300 text-sm",children:a})]},n))}),e.jsx(t,{variant:"outline",className:"w-full mt-6 border-white/20 text-white hover:bg-white/10",disabled:!0,children:"Piano Attuale"})]})]})}),B.map((a,n)=>e.jsx(m.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4+n*.1},children:e.jsxs(r,{className:`sardinian-card premium-glow h-full relative ${a.interval==="month"?"border-yellow-500/30":""}`,children:[a.interval==="month"&&e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-yellow-500 text-black px-4 py-1 rounded-full text-sm font-medium",children:"Più Popolare"})}),e.jsxs(l,{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(p,{className:"w-6 h-6 text-white"})}),e.jsx(c,{className:"text-2xl text-white",children:a.name}),e.jsx(o,{className:"text-gray-300",children:a.description}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-4",children:[a.price," ",a.currency,e.jsxs("span",{className:"text-lg font-normal text-gray-400",children:["/",a.interval==="month"?"mese":"anno"]})]}),a.interval==="year"&&e.jsx("div",{className:"text-sm text-green-400 mt-2",children:"Risparmia il 17% rispetto al piano mensile!"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"space-y-3",children:D.map((G,T)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-300 text-sm",children:G})]},T))}),e.jsx(t,{onClick:()=>k(a.priceId),disabled:b,className:"w-full mt-6 sardinian-gradient hover:opacity-90 text-lg py-3",children:b?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Caricamento..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Diventa Premium"]})})]})]})},a.id))]}),e.jsxs(m.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-center",children:[e.jsx("h3",{className:"text-3xl font-bold text-white mb-8",children:"Perché Scegliere Premium?"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs(r,{className:"sardinian-card",children:[e.jsxs(l,{className:"text-center",children:[e.jsx(O,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),e.jsx(c,{className:"text-white",children:"Lingua Autentica"})]}),e.jsx(d,{children:e.jsx("p",{className:"text-gray-300",children:"Conversa in vero sardo con dialetti logudorese, campidanese e varianti locali"})})]}),e.jsxs(r,{className:"sardinian-card",children:[e.jsxs(l,{className:"text-center",children:[e.jsx(V,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),e.jsx(c,{className:"text-white",children:"Cultura Profonda"})]}),e.jsx(d,{children:e.jsx("p",{className:"text-gray-300",children:"Accedi a contenuti culturali esclusivi, tradizioni e storia sarda"})})]}),e.jsxs(r,{className:"sardinian-card",children:[e.jsxs(l,{className:"text-center",children:[e.jsx(U,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),e.jsx(c,{className:"text-white",children:"Funzionalità Esclusive"})]}),e.jsx(d,{children:e.jsx("p",{className:"text-gray-300",children:"Mini-corsi, traduzione, guida turistica e accesso anticipato alle novità"})})]})]})]})]})})]})]})}export{K as default};

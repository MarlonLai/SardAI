function yg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ss(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function d1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var wg={exports:{}},Dl={},jg={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),h1=Symbol.for("react.portal"),f1=Symbol.for("react.fragment"),m1=Symbol.for("react.strict_mode"),p1=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),v1=Symbol.for("react.forward_ref"),y1=Symbol.for("react.suspense"),w1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),sm=Symbol.iterator;function b1(e){return e===null||typeof e!="object"?null:(e=sm&&e[sm]||e["@@iterator"],typeof e=="function"?e:null)}var bg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ng=Object.assign,Sg={};function ni(e,t,n){this.props=e,this.context=t,this.refs=Sg,this.updater=n||bg}ni.prototype.isReactComponent={};ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cg(){}Cg.prototype=ni.prototype;function uh(e,t,n){this.props=e,this.context=t,this.refs=Sg,this.updater=n||bg}var dh=uh.prototype=new Cg;dh.constructor=uh;Ng(dh,ni.prototype);dh.isPureReactComponent=!0;var im=Array.isArray,_g=Object.prototype.hasOwnProperty,hh={current:null},Pg={key:!0,ref:!0,__self:!0,__source:!0};function Eg(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)_g.call(t,r)&&!Pg.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ta,type:e,key:a,ref:o,props:i,_owner:hh.current}}function N1(e,t){return{$$typeof:Ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ta}function S1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var am=/\/+/g;function bc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?S1(""+e.key):t.toString(36)}function Eo(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ta:case h1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+bc(o,0):r,im(i)?(n="",e!=null&&(n=e.replace(am,"$&/")+"/"),Eo(i,t,n,"",function(u){return u})):i!=null&&(fh(i)&&(i=N1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(am,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",im(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+bc(a,l);o+=Eo(a,t,n,c,i)}else if(c=b1(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+bc(a,l++),o+=Eo(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ka(e,t,n){if(e==null)return e;var r=[],i=0;return Eo(e,r,"","",function(a){return t.call(n,a,i++)}),r}function C1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},To={transition:null},_1={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:To,ReactCurrentOwner:hh};function Tg(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Ka,forEach:function(e,t,n){Ka(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ka(e,function(){t++}),t},toArray:function(e){return Ka(e,function(t){return t})||[]},only:function(e){if(!fh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=ni;te.Fragment=f1;te.Profiler=p1;te.PureComponent=uh;te.StrictMode=m1;te.Suspense=y1;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_1;te.act=Tg;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ng({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=hh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_g.call(t,c)&&!Pg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ta,type:e.type,key:i,ref:a,props:r,_owner:o}};te.createContext=function(e){return e={$$typeof:g1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x1,_context:e},e.Consumer=e};te.createElement=Eg;te.createFactory=function(e){var t=Eg.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:v1,render:e}};te.isValidElement=fh;te.lazy=function(e){return{$$typeof:j1,_payload:{_status:-1,_result:e},_init:C1}};te.memo=function(e,t){return{$$typeof:w1,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=To.transition;To.transition={};try{e()}finally{To.transition=t}};te.unstable_act=Tg;te.useCallback=function(e,t){return at.current.useCallback(e,t)};te.useContext=function(e){return at.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return at.current.useDeferredValue(e)};te.useEffect=function(e,t){return at.current.useEffect(e,t)};te.useId=function(){return at.current.useId()};te.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return at.current.useMemo(e,t)};te.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};te.useRef=function(e){return at.current.useRef(e)};te.useState=function(e){return at.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return at.current.useTransition()};te.version="18.3.1";jg.exports=te;var m=jg.exports;const X=ss(m),mh=yg({__proto__:null,default:X},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=m,E1=Symbol.for("react.element"),T1=Symbol.for("react.fragment"),k1=Object.prototype.hasOwnProperty,A1=P1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R1={key:!0,ref:!0,__self:!0,__source:!0};function kg(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)k1.call(t,r)&&!R1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:E1,type:e,key:a,ref:o,props:i,_owner:A1.current}}Dl.Fragment=T1;Dl.jsx=kg;Dl.jsxs=kg;wg.exports=Dl;var s=wg.exports,Pu={},Ag={exports:{}},Rt={},Rg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var z=A.length;A.push(O);e:for(;0<z;){var G=z-1>>>1,ee=A[G];if(0<i(ee,O))A[G]=O,A[z]=ee,z=G;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var O=A[0],z=A.pop();if(z!==O){A[0]=z;e:for(var G=0,ee=A.length,ue=ee>>>1;G<ue;){var ae=2*(G+1)-1,lt=A[ae],St=ae+1,Tr=A[St];if(0>i(lt,z))St<ee&&0>i(Tr,lt)?(A[G]=Tr,A[St]=z,G=St):(A[G]=lt,A[ae]=z,G=ae);else if(St<ee&&0>i(Tr,z))A[G]=Tr,A[St]=z,G=St;else break e}}return O}function i(A,O){var z=A.sortIndex-O.sortIndex;return z!==0?z:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,w=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(A){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=A)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function b(A){if(g=!1,j(A),!w)if(n(c)!==null)w=!0,k(C);else{var O=n(u);O!==null&&D(b,O.startTime-A)}}function C(A,O){w=!1,g&&(g=!1,x(N),N=-1),p=!0;var z=f;try{for(j(O),h=n(c);h!==null&&(!(h.expirationTime>O)||A&&!U());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var ee=G(h.expirationTime<=O);O=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(c)&&r(c),j(O)}else r(c);h=n(c)}if(h!==null)var ue=!0;else{var ae=n(u);ae!==null&&D(b,ae.startTime-O),ue=!1}return ue}finally{h=null,f=z,p=!1}}var E=!1,_=null,N=-1,P=5,R=-1;function U(){return!(e.unstable_now()-R<P)}function M(){if(_!==null){var A=e.unstable_now();R=A;var O=!0;try{O=_(!0,A)}finally{O?Z():(E=!1,_=null)}}else E=!1}var Z;if(typeof v=="function")Z=function(){v(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,S=L.port2;L.port1.onmessage=M,Z=function(){S.postMessage(null)}}else Z=function(){y(M,0)};function k(A){_=A,E||(E=!0,Z())}function D(A,O){N=y(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,k(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var z=f;f=O;try{return A()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=f;f=A;try{return O()}finally{f=z}},e.unstable_scheduleCallback=function(A,O,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=z+ee,A={id:d++,callback:O,priorityLevel:A,startTime:z,expirationTime:ee,sortIndex:-1},z>G?(A.sortIndex=z,t(u,A),n(c)===null&&A===n(u)&&(g?(x(N),N=-1):g=!0,D(b,z-G))):(A.sortIndex=ee,t(c,A),w||p||(w=!0,k(C))),A},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(A){var O=f;return function(){var z=f;f=O;try{return A.apply(this,arguments)}finally{f=z}}}})(Ig);Rg.exports=Ig;var I1=Rg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1=m,kt=I1;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dg=new Set,Xi={};function is(e,t){Gs(e,t),Gs(e+"Capture",t)}function Gs(e,t){for(Xi[e]=t,e=0;e<t.length;e++)Dg.add(t[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,O1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,om={},lm={};function L1(e){return Eu.call(lm,e)?!0:Eu.call(om,e)?!1:O1.test(e)?lm[e]=!0:(om[e]=!0,!1)}function M1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z1(e,t,n,r){if(t===null||typeof t>"u"||M1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var ph=/[\-:]([a-z])/g;function xh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ph,xh);Ke[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ph,xh);Ke[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ph,xh);Ke[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function gh(e,t,n,r){var i=Ke.hasOwnProperty(t)?Ke[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z1(t,n,i,r)&&(n=null),r||i===null?L1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $n=D1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qa=Symbol.for("react.element"),ys=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),vh=Symbol.for("react.strict_mode"),Tu=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),yh=Symbol.for("react.forward_ref"),ku=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),wh=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),Mg=Symbol.for("react.offscreen"),cm=Symbol.iterator;function ui(e){return e===null||typeof e!="object"?null:(e=cm&&e[cm]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Nc;function Pi(e){if(Nc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nc=t&&t[1]||""}return`
`+Nc+e}var Sc=!1;function Cc(e,t){if(!e||Sc)return"";Sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pi(e):""}function F1(e){switch(e.tag){case 5:return Pi(e.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 2:case 15:return e=Cc(e.type,!1),e;case 11:return e=Cc(e.type.render,!1),e;case 1:return e=Cc(e.type,!0),e;default:return""}}function Ru(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ws:return"Fragment";case ys:return"Portal";case Tu:return"Profiler";case vh:return"StrictMode";case ku:return"Suspense";case Au:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lg:return(e.displayName||"Context")+".Consumer";case Og:return(e._context.displayName||"Context")+".Provider";case yh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wh:return t=e.displayName||null,t!==null?t:Ru(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return Ru(e(t))}catch{}}return null}function $1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ru(t);case 8:return t===vh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U1(e){var t=zg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qa(e){e._valueTracker||(e._valueTracker=U1(e))}function Fg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Iu(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function um(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $g(e,t){t=t.checked,t!=null&&gh(e,"checked",t,!1)}function Du(e,t){$g(e,t);var n=xr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ou(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ou(e,t.type,xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ou(e,t,n){(t!=="number"||Wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ei=Array.isArray;function Ls(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Ei(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xr(n)}}function Ug(e,t){var n=xr(t.value),r=xr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ya,Bg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ya=Ya||document.createElement("div"),Ya.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ya.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ji(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V1=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(e){V1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ii[t]=Ii[e]})});function Hg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ii.hasOwnProperty(e)&&Ii[e]?(""+t).trim():t+"px"}function Gg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Hg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var B1=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(e,t){if(t){if(B1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=null;function jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uu=null,Ms=null,zs=null;function mm(e){if(e=Ra(e)){if(typeof Uu!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Fl(t),Uu(e.stateNode,e.type,t))}}function Wg(e){Ms?zs?zs.push(e):zs=[e]:Ms=e}function Kg(){if(Ms){var e=Ms,t=zs;if(zs=Ms=null,mm(e),t)for(e=0;e<t.length;e++)mm(t[e])}}function qg(e,t){return e(t)}function Qg(){}var _c=!1;function Yg(e,t,n){if(_c)return e(t,n);_c=!0;try{return qg(e,t,n)}finally{_c=!1,(Ms!==null||zs!==null)&&(Qg(),Kg())}}function Zi(e,t){var n=e.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Vu=!1;if(In)try{var di={};Object.defineProperty(di,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Vu=!1}function H1(e,t,n,r,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Di=!1,Ko=null,qo=!1,Bu=null,G1={onError:function(e){Di=!0,Ko=e}};function W1(e,t,n,r,i,a,o,l,c){Di=!1,Ko=null,H1.apply(G1,arguments)}function K1(e,t,n,r,i,a,o,l,c){if(W1.apply(this,arguments),Di){if(Di){var u=Ko;Di=!1,Ko=null}else throw Error(I(198));qo||(qo=!0,Bu=u)}}function as(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pm(e){if(as(e)!==e)throw Error(I(188))}function q1(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return pm(i),e;if(a===r)return pm(i),t;a=a.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Jg(e){return e=q1(e),e!==null?Zg(e):null}function Zg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zg(e);if(t!==null)return t;e=e.sibling}return null}var ev=kt.unstable_scheduleCallback,xm=kt.unstable_cancelCallback,Q1=kt.unstable_shouldYield,Y1=kt.unstable_requestPaint,Ie=kt.unstable_now,X1=kt.unstable_getCurrentPriorityLevel,bh=kt.unstable_ImmediatePriority,tv=kt.unstable_UserBlockingPriority,Qo=kt.unstable_NormalPriority,J1=kt.unstable_LowPriority,nv=kt.unstable_IdlePriority,Ol=null,ln=null;function Z1(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:nN,eN=Math.log,tN=Math.LN2;function nN(e){return e>>>=0,e===0?32:31-(eN(e)/tN|0)|0}var Xa=64,Ja=4194304;function Ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ti(l):(a&=o,a!==0&&(r=Ti(a)))}else o=n&~i,o!==0?r=Ti(o):a!==0&&(r=Ti(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Jt(t),i=1<<n,r|=e[n],t&=~i;return r}function rN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Jt(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=rN(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Hu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rv(){var e=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),e}function Pc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function iN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Jt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Nh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var de=0;function sv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iv,Sh,av,ov,lv,Gu=!1,Za=[],sr=null,ir=null,ar=null,ea=new Map,ta=new Map,Yn=[],aN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gm(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(t.pointerId)}}function hi(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ra(t),t!==null&&Sh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oN(e,t,n,r,i){switch(t){case"focusin":return sr=hi(sr,e,t,n,r,i),!0;case"dragenter":return ir=hi(ir,e,t,n,r,i),!0;case"mouseover":return ar=hi(ar,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ea.set(a,hi(ea.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ta.set(a,hi(ta.get(a)||null,e,t,n,r,i)),!0}return!1}function cv(e){var t=$r(e.target);if(t!==null){var n=as(t);if(n!==null){if(t=n.tag,t===13){if(t=Xg(n),t!==null){e.blockedOn=t,lv(e.priority,function(){av(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$u=r,n.target.dispatchEvent(r),$u=null}else return t=Ra(n),t!==null&&Sh(t),e.blockedOn=n,!1;t.shift()}return!0}function vm(e,t,n){ko(e)&&n.delete(t)}function lN(){Gu=!1,sr!==null&&ko(sr)&&(sr=null),ir!==null&&ko(ir)&&(ir=null),ar!==null&&ko(ar)&&(ar=null),ea.forEach(vm),ta.forEach(vm)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Gu||(Gu=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,lN)))}function na(e){function t(i){return fi(i,e)}if(0<Za.length){fi(Za[0],e);for(var n=1;n<Za.length;n++){var r=Za[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sr!==null&&fi(sr,e),ir!==null&&fi(ir,e),ar!==null&&fi(ar,e),ea.forEach(t),ta.forEach(t),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)cv(n),n.blockedOn===null&&Yn.shift()}var Fs=$n.ReactCurrentBatchConfig,Xo=!0;function cN(e,t,n,r){var i=de,a=Fs.transition;Fs.transition=null;try{de=1,Ch(e,t,n,r)}finally{de=i,Fs.transition=a}}function uN(e,t,n,r){var i=de,a=Fs.transition;Fs.transition=null;try{de=4,Ch(e,t,n,r)}finally{de=i,Fs.transition=a}}function Ch(e,t,n,r){if(Xo){var i=Wu(e,t,n,r);if(i===null)Mc(e,t,r,Jo,n),gm(e,r);else if(oN(i,e,t,n,r))r.stopPropagation();else if(gm(e,r),t&4&&-1<aN.indexOf(e)){for(;i!==null;){var a=Ra(i);if(a!==null&&iv(a),a=Wu(e,t,n,r),a===null&&Mc(e,t,r,Jo,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Mc(e,t,r,null,n)}}var Jo=null;function Wu(e,t,n,r){if(Jo=null,e=jh(r),e=$r(e),e!==null)if(t=as(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jo=e,null}function uv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X1()){case bh:return 1;case tv:return 4;case Qo:case J1:return 16;case nv:return 536870912;default:return 16}default:return 16}}var Jn=null,_h=null,Ao=null;function dv(){if(Ao)return Ao;var e,t=_h,n=t.length,r,i="value"in Jn?Jn.value:Jn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Ao=i.slice(e,1<r?1-r:void 0)}function Ro(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eo(){return!0}function ym(){return!1}function It(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?eo:ym,this.isPropagationStopped=ym,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ph=It(ri),Aa=ke({},ri,{view:0,detail:0}),dN=It(Aa),Ec,Tc,mi,Ll=ke({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(Ec=e.screenX-mi.screenX,Tc=e.screenY-mi.screenY):Tc=Ec=0,mi=e),Ec)},movementY:function(e){return"movementY"in e?e.movementY:Tc}}),wm=It(Ll),hN=ke({},Ll,{dataTransfer:0}),fN=It(hN),mN=ke({},Aa,{relatedTarget:0}),kc=It(mN),pN=ke({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=It(pN),gN=ke({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vN=It(gN),yN=ke({},ri,{data:0}),jm=It(yN),wN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bN[e])?!!t[e]:!1}function Eh(){return NN}var SN=ke({},Aa,{key:function(e){if(e.key){var t=wN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eh,charCode:function(e){return e.type==="keypress"?Ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CN=It(SN),_N=ke({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=It(_N),PN=ke({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eh}),EN=It(PN),TN=ke({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),kN=It(TN),AN=ke({},Ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RN=It(AN),IN=[9,13,27,32],Th=In&&"CompositionEvent"in window,Oi=null;In&&"documentMode"in document&&(Oi=document.documentMode);var DN=In&&"TextEvent"in window&&!Oi,hv=In&&(!Th||Oi&&8<Oi&&11>=Oi),Nm=String.fromCharCode(32),Sm=!1;function fv(e,t){switch(e){case"keyup":return IN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function ON(e,t){switch(e){case"compositionend":return mv(t);case"keypress":return t.which!==32?null:(Sm=!0,Nm);case"textInput":return e=t.data,e===Nm&&Sm?null:e;default:return null}}function LN(e,t){if(js)return e==="compositionend"||!Th&&fv(e,t)?(e=dv(),Ao=_h=Jn=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hv&&t.locale!=="ko"?null:t.data;default:return null}}var MN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MN[e.type]:t==="textarea"}function pv(e,t,n,r){Wg(r),t=Zo(t,"onChange"),0<t.length&&(n=new Ph("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Li=null,ra=null;function zN(e){_v(e,0)}function Ml(e){var t=Ss(e);if(Fg(t))return e}function FN(e,t){if(e==="change")return t}var xv=!1;if(In){var Ac;if(In){var Rc="oninput"in document;if(!Rc){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),Rc=typeof _m.oninput=="function"}Ac=Rc}else Ac=!1;xv=Ac&&(!document.documentMode||9<document.documentMode)}function Pm(){Li&&(Li.detachEvent("onpropertychange",gv),ra=Li=null)}function gv(e){if(e.propertyName==="value"&&Ml(ra)){var t=[];pv(t,ra,e,jh(e)),Yg(zN,t)}}function $N(e,t,n){e==="focusin"?(Pm(),Li=t,ra=n,Li.attachEvent("onpropertychange",gv)):e==="focusout"&&Pm()}function UN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(ra)}function VN(e,t){if(e==="click")return Ml(t)}function BN(e,t){if(e==="input"||e==="change")return Ml(t)}function HN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:HN;function sa(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eu.call(t,i)||!en(e[i],t[i]))return!1}return!0}function Em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tm(e,t){var n=Em(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Em(n)}}function vv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yv(){for(var e=window,t=Wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wo(e.document)}return t}function kh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GN(e){var t=yv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vv(n.ownerDocument.documentElement,n)){if(r!==null&&kh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Tm(n,a);var o=Tm(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WN=In&&"documentMode"in document&&11>=document.documentMode,bs=null,Ku=null,Mi=null,qu=!1;function km(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qu||bs==null||bs!==Wo(r)||(r=bs,"selectionStart"in r&&kh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&sa(Mi,r)||(Mi=r,r=Zo(Ku,"onSelect"),0<r.length&&(t=new Ph("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bs)))}function to(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ns={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},Ic={},wv={};In&&(wv=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function zl(e){if(Ic[e])return Ic[e];if(!Ns[e])return e;var t=Ns[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wv)return Ic[e]=t[n];return e}var jv=zl("animationend"),bv=zl("animationiteration"),Nv=zl("animationstart"),Sv=zl("transitionend"),Cv=new Map,Am="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Cv.set(e,t),is(t,[e])}for(var Dc=0;Dc<Am.length;Dc++){var Oc=Am[Dc],KN=Oc.toLowerCase(),qN=Oc[0].toUpperCase()+Oc.slice(1);jr(KN,"on"+qN)}jr(jv,"onAnimationEnd");jr(bv,"onAnimationIteration");jr(Nv,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(Sv,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function Rm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,K1(r,t,void 0,e),e.currentTarget=null}function _v(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Rm(i,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Rm(i,l,u),a=c}}}if(qo)throw e=Bu,qo=!1,Bu=null,e}function ve(e,t){var n=t[Zu];n===void 0&&(n=t[Zu]=new Set);var r=e+"__bubble";n.has(r)||(Pv(t,e,2,!1),n.add(r))}function Lc(e,t,n){var r=0;t&&(r|=4),Pv(n,e,r,t)}var no="_reactListening"+Math.random().toString(36).slice(2);function ia(e){if(!e[no]){e[no]=!0,Dg.forEach(function(n){n!=="selectionchange"&&(QN.has(n)||Lc(n,!1,e),Lc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[no]||(t[no]=!0,Lc("selectionchange",!1,t))}}function Pv(e,t,n,r){switch(uv(t)){case 1:var i=cN;break;case 4:i=uN;break;default:i=Ch}n=i.bind(null,t,n,e),i=void 0,!Vu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mc(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=$r(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Yg(function(){var u=a,d=jh(n),h=[];e:{var f=Cv.get(e);if(f!==void 0){var p=Ph,w=e;switch(e){case"keypress":if(Ro(n)===0)break e;case"keydown":case"keyup":p=CN;break;case"focusin":w="focus",p=kc;break;case"focusout":w="blur",p=kc;break;case"beforeblur":case"afterblur":p=kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=EN;break;case jv:case bv:case Nv:p=xN;break;case Sv:p=kN;break;case"scroll":p=dN;break;case"wheel":p=RN;break;case"copy":case"cut":case"paste":p=vN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bm}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,j;v!==null;){j=v;var b=j.stateNode;if(j.tag===5&&b!==null&&(j=b,x!==null&&(b=Zi(v,x),b!=null&&g.push(aa(v,b,j)))),y)break;v=v.return}0<g.length&&(f=new p(f,w,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==$u&&(w=n.relatedTarget||n.fromElement)&&($r(w)||w[Dn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?$r(w):null,w!==null&&(y=as(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(g=wm,b="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=bm,b="onPointerLeave",x="onPointerEnter",v="pointer"),y=p==null?f:Ss(p),j=w==null?f:Ss(w),f=new g(b,v+"leave",p,n,d),f.target=y,f.relatedTarget=j,b=null,$r(d)===u&&(g=new g(x,v+"enter",w,n,d),g.target=j,g.relatedTarget=y,b=g),y=b,p&&w)t:{for(g=p,x=w,v=0,j=g;j;j=hs(j))v++;for(j=0,b=x;b;b=hs(b))j++;for(;0<v-j;)g=hs(g),v--;for(;0<j-v;)x=hs(x),j--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=hs(g),x=hs(x)}g=null}else g=null;p!==null&&Im(h,f,p,g,!1),w!==null&&y!==null&&Im(h,y,w,g,!0)}}e:{if(f=u?Ss(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=FN;else if(Cm(f))if(xv)C=BN;else{C=UN;var E=$N}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=VN);if(C&&(C=C(e,u))){pv(h,C,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Ou(f,"number",f.value)}switch(E=u?Ss(u):window,e){case"focusin":(Cm(E)||E.contentEditable==="true")&&(bs=E,Ku=u,Mi=null);break;case"focusout":Mi=Ku=bs=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,km(h,n,d);break;case"selectionchange":if(WN)break;case"keydown":case"keyup":km(h,n,d)}var _;if(Th)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else js?fv(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(hv&&n.locale!=="ko"&&(js||N!=="onCompositionStart"?N==="onCompositionEnd"&&js&&(_=dv()):(Jn=d,_h="value"in Jn?Jn.value:Jn.textContent,js=!0)),E=Zo(u,N),0<E.length&&(N=new jm(N,e,null,n,d),h.push({event:N,listeners:E}),_?N.data=_:(_=mv(n),_!==null&&(N.data=_)))),(_=DN?ON(e,n):LN(e,n))&&(u=Zo(u,"onBeforeInput"),0<u.length&&(d=new jm("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=_))}_v(h,t)})}function aa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Zi(e,n),a!=null&&r.unshift(aa(e,a,i)),a=Zi(e,t),a!=null&&r.push(aa(e,a,i))),e=e.return}return r}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Im(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Zi(n,a),c!=null&&o.unshift(aa(n,c,l))):i||(c=Zi(n,a),c!=null&&o.push(aa(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YN=/\r\n?/g,XN=/\u0000|\uFFFD/g;function Dm(e){return(typeof e=="string"?e:""+e).replace(YN,`
`).replace(XN,"")}function ro(e,t,n){if(t=Dm(t),Dm(e)!==t&&n)throw Error(I(425))}function el(){}var Qu=null,Yu=null;function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,JN=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,ZN=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(e){return Om.resolve(null).then(e).catch(eS)}:Ju;function eS(e){setTimeout(function(){throw e})}function zc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),na(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);na(t)}function or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),an="__reactFiber$"+si,oa="__reactProps$"+si,Dn="__reactContainer$"+si,Zu="__reactEvents$"+si,tS="__reactListeners$"+si,nS="__reactHandles$"+si;function $r(e){var t=e[an];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[an]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lm(e);e!==null;){if(n=e[an])return n;e=Lm(e)}return t}e=n,n=e.parentNode}return null}function Ra(e){return e=e[an]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Fl(e){return e[oa]||null}var ed=[],Cs=-1;function br(e){return{current:e}}function we(e){0>Cs||(e.current=ed[Cs],ed[Cs]=null,Cs--)}function pe(e,t){Cs++,ed[Cs]=e.current,e.current=t}var gr={},tt=br(gr),yt=br(!1),Xr=gr;function Ws(e,t){var n=e.type.contextTypes;if(!n)return gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wt(e){return e=e.childContextTypes,e!=null}function tl(){we(yt),we(tt)}function Mm(e,t,n){if(tt.current!==gr)throw Error(I(168));pe(tt,t),pe(yt,n)}function Ev(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,$1(e)||"Unknown",i));return ke({},n,r)}function nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gr,Xr=tt.current,pe(tt,e),pe(yt,yt.current),!0}function zm(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Ev(e,t,Xr),r.__reactInternalMemoizedMergedChildContext=e,we(yt),we(tt),pe(tt,e)):we(yt),pe(yt,n)}var yn=null,$l=!1,Fc=!1;function Tv(e){yn===null?yn=[e]:yn.push(e)}function rS(e){$l=!0,Tv(e)}function Nr(){if(!Fc&&yn!==null){Fc=!0;var e=0,t=de;try{var n=yn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yn=null,$l=!1}catch(i){throw yn!==null&&(yn=yn.slice(e+1)),ev(bh,Nr),i}finally{de=t,Fc=!1}}return null}var _s=[],Ps=0,rl=null,sl=0,Lt=[],Mt=0,Jr=null,wn=1,jn="";function Ir(e,t){_s[Ps++]=sl,_s[Ps++]=rl,rl=e,sl=t}function kv(e,t,n){Lt[Mt++]=wn,Lt[Mt++]=jn,Lt[Mt++]=Jr,Jr=e;var r=wn;e=jn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var a=32-Jt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wn=1<<32-Jt(t)+i|n<<i|r,jn=a+e}else wn=1<<a|n<<i|r,jn=e}function Ah(e){e.return!==null&&(Ir(e,1),kv(e,1,0))}function Rh(e){for(;e===rl;)rl=_s[--Ps],_s[Ps]=null,sl=_s[--Ps],_s[Ps]=null;for(;e===Jr;)Jr=Lt[--Mt],Lt[Mt]=null,jn=Lt[--Mt],Lt[Mt]=null,wn=Lt[--Mt],Lt[Mt]=null}var Tt=null,Pt=null,Se=!1,Yt=null;function Av(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Pt=or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jr!==null?{id:wn,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Pt=null,!0):!1;default:return!1}}function td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nd(e){if(Se){var t=Pt;if(t){var n=t;if(!Fm(e,t)){if(td(e))throw Error(I(418));t=or(n.nextSibling);var r=Tt;t&&Fm(e,t)?Av(r,n):(e.flags=e.flags&-4097|2,Se=!1,Tt=e)}}else{if(td(e))throw Error(I(418));e.flags=e.flags&-4097|2,Se=!1,Tt=e}}}function $m(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function so(e){if(e!==Tt)return!1;if(!Se)return $m(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xu(e.type,e.memoizedProps)),t&&(t=Pt)){if(td(e))throw Rv(),Error(I(418));for(;t;)Av(e,t),t=or(t.nextSibling)}if($m(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=or(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Tt?or(e.stateNode.nextSibling):null;return!0}function Rv(){for(var e=Pt;e;)e=or(e.nextSibling)}function Ks(){Pt=Tt=null,Se=!1}function Ih(e){Yt===null?Yt=[e]:Yt.push(e)}var sS=$n.ReactCurrentBatchConfig;function pi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Um(e){var t=e._init;return t(e._payload)}function Iv(e){function t(x,v){if(e){var j=x.deletions;j===null?(x.deletions=[v],x.flags|=16):j.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=dr(x,v),x.index=0,x.sibling=null,x}function a(x,v,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<v?(x.flags|=2,v):j):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,j,b){return v===null||v.tag!==6?(v=Wc(j,x.mode,b),v.return=x,v):(v=i(v,j),v.return=x,v)}function c(x,v,j,b){var C=j.type;return C===ws?d(x,v,j.props.children,b,j.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kn&&Um(C)===v.type)?(b=i(v,j.props),b.ref=pi(x,v,j),b.return=x,b):(b=Fo(j.type,j.key,j.props,null,x.mode,b),b.ref=pi(x,v,j),b.return=x,b)}function u(x,v,j,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=Kc(j,x.mode,b),v.return=x,v):(v=i(v,j.children||[]),v.return=x,v)}function d(x,v,j,b,C){return v===null||v.tag!==7?(v=Wr(j,x.mode,b,C),v.return=x,v):(v=i(v,j),v.return=x,v)}function h(x,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Wc(""+v,x.mode,j),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qa:return j=Fo(v.type,v.key,v.props,null,x.mode,j),j.ref=pi(x,null,v),j.return=x,j;case ys:return v=Kc(v,x.mode,j),v.return=x,v;case Kn:var b=v._init;return h(x,b(v._payload),j)}if(Ei(v)||ui(v))return v=Wr(v,x.mode,j,null),v.return=x,v;io(x,v)}return null}function f(x,v,j,b){var C=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return C!==null?null:l(x,v,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qa:return j.key===C?c(x,v,j,b):null;case ys:return j.key===C?u(x,v,j,b):null;case Kn:return C=j._init,f(x,v,C(j._payload),b)}if(Ei(j)||ui(j))return C!==null?null:d(x,v,j,b,null);io(x,j)}return null}function p(x,v,j,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(j)||null,l(v,x,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qa:return x=x.get(b.key===null?j:b.key)||null,c(v,x,b,C);case ys:return x=x.get(b.key===null?j:b.key)||null,u(v,x,b,C);case Kn:var E=b._init;return p(x,v,j,E(b._payload),C)}if(Ei(b)||ui(b))return x=x.get(j)||null,d(v,x,b,C,null);io(v,b)}return null}function w(x,v,j,b){for(var C=null,E=null,_=v,N=v=0,P=null;_!==null&&N<j.length;N++){_.index>N?(P=_,_=null):P=_.sibling;var R=f(x,_,j[N],b);if(R===null){_===null&&(_=P);break}e&&_&&R.alternate===null&&t(x,_),v=a(R,v,N),E===null?C=R:E.sibling=R,E=R,_=P}if(N===j.length)return n(x,_),Se&&Ir(x,N),C;if(_===null){for(;N<j.length;N++)_=h(x,j[N],b),_!==null&&(v=a(_,v,N),E===null?C=_:E.sibling=_,E=_);return Se&&Ir(x,N),C}for(_=r(x,_);N<j.length;N++)P=p(_,x,N,j[N],b),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?N:P.key),v=a(P,v,N),E===null?C=P:E.sibling=P,E=P);return e&&_.forEach(function(U){return t(x,U)}),Se&&Ir(x,N),C}function g(x,v,j,b){var C=ui(j);if(typeof C!="function")throw Error(I(150));if(j=C.call(j),j==null)throw Error(I(151));for(var E=C=null,_=v,N=v=0,P=null,R=j.next();_!==null&&!R.done;N++,R=j.next()){_.index>N?(P=_,_=null):P=_.sibling;var U=f(x,_,R.value,b);if(U===null){_===null&&(_=P);break}e&&_&&U.alternate===null&&t(x,_),v=a(U,v,N),E===null?C=U:E.sibling=U,E=U,_=P}if(R.done)return n(x,_),Se&&Ir(x,N),C;if(_===null){for(;!R.done;N++,R=j.next())R=h(x,R.value,b),R!==null&&(v=a(R,v,N),E===null?C=R:E.sibling=R,E=R);return Se&&Ir(x,N),C}for(_=r(x,_);!R.done;N++,R=j.next())R=p(_,x,N,R.value,b),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?N:R.key),v=a(R,v,N),E===null?C=R:E.sibling=R,E=R);return e&&_.forEach(function(M){return t(x,M)}),Se&&Ir(x,N),C}function y(x,v,j,b){if(typeof j=="object"&&j!==null&&j.type===ws&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case qa:e:{for(var C=j.key,E=v;E!==null;){if(E.key===C){if(C=j.type,C===ws){if(E.tag===7){n(x,E.sibling),v=i(E,j.props.children),v.return=x,x=v;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kn&&Um(C)===E.type){n(x,E.sibling),v=i(E,j.props),v.ref=pi(x,E,j),v.return=x,x=v;break e}n(x,E);break}else t(x,E);E=E.sibling}j.type===ws?(v=Wr(j.props.children,x.mode,b,j.key),v.return=x,x=v):(b=Fo(j.type,j.key,j.props,null,x.mode,b),b.ref=pi(x,v,j),b.return=x,x=b)}return o(x);case ys:e:{for(E=j.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){n(x,v.sibling),v=i(v,j.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else t(x,v);v=v.sibling}v=Kc(j,x.mode,b),v.return=x,x=v}return o(x);case Kn:return E=j._init,y(x,v,E(j._payload),b)}if(Ei(j))return w(x,v,j,b);if(ui(j))return g(x,v,j,b);io(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,j),v.return=x,x=v):(n(x,v),v=Wc(j,x.mode,b),v.return=x,x=v),o(x)):n(x,v)}return y}var qs=Iv(!0),Dv=Iv(!1),il=br(null),al=null,Es=null,Dh=null;function Oh(){Dh=Es=al=null}function Lh(e){var t=il.current;we(il),e._currentValue=t}function rd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $s(e,t){al=e,Dh=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(Dh!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(al===null)throw Error(I(308));Es=e,al.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ur=null;function Mh(e){Ur===null?Ur=[e]:Ur.push(e)}function Ov(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Mh(t)):(n.next=i.next,i.next=n),t.interleaved=n,On(e,r)}function On(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qn=!1;function zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,On(e,n)}return i=r.interleaved,i===null?(t.next=t,Mh(r)):(t.next=i.next,i.next=t),r.interleaved=t,On(e,n)}function Io(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nh(e,n)}}function Vm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ol(e,t,n,r){var i=e.updateQueue;qn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(f=t,p=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=ke({},h,f);break e;case 2:qn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);es|=o,e.lanes=o,e.memoizedState=h}}function Bm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Ia={},cn=br(Ia),la=br(Ia),ca=br(Ia);function Vr(e){if(e===Ia)throw Error(I(174));return e}function Fh(e,t){switch(pe(ca,t),pe(la,e),pe(cn,Ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mu(t,e)}we(cn),pe(cn,t)}function Qs(){we(cn),we(la),we(ca)}function Mv(e){Vr(ca.current);var t=Vr(cn.current),n=Mu(t,e.type);t!==n&&(pe(la,e),pe(cn,n))}function $h(e){la.current===e&&(we(cn),we(la))}var _e=br(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $c=[];function Uh(){for(var e=0;e<$c.length;e++)$c[e]._workInProgressVersionPrimary=null;$c.length=0}var Do=$n.ReactCurrentDispatcher,Uc=$n.ReactCurrentBatchConfig,Zr=0,Te=null,Me=null,Ve=null,cl=!1,zi=!1,ua=0,iS=0;function Qe(){throw Error(I(321))}function Vh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Bh(e,t,n,r,i,a){if(Zr=a,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Do.current=e===null||e.memoizedState===null?cS:uS,e=n(r,i),zi){a=0;do{if(zi=!1,ua=0,25<=a)throw Error(I(301));a+=1,Ve=Me=null,t.updateQueue=null,Do.current=dS,e=n(r,i)}while(zi)}if(Do.current=ul,t=Me!==null&&Me.next!==null,Zr=0,Ve=Me=Te=null,cl=!1,t)throw Error(I(300));return e}function Hh(){var e=ua!==0;return ua=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Te.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Bt(){if(Me===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ve===null?Te.memoizedState:Ve.next;if(t!==null)Ve=t,Me=e;else{if(e===null)throw Error(I(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ve===null?Te.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function da(e,t){return typeof t=="function"?t(e):t}function Vc(e){var t=Bt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Me,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Zr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Te.lanes|=d,es|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,en(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Te.lanes|=a,es|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bc(e){var t=Bt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);en(a,t.memoizedState)||(vt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function zv(){}function Fv(e,t){var n=Te,r=Bt(),i=t(),a=!en(r.memoizedState,i);if(a&&(r.memoizedState=i,vt=!0),r=r.queue,Gh(Vv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,ha(9,Uv.bind(null,n,r,i,t),void 0,null),Be===null)throw Error(I(349));Zr&30||$v(n,t,i)}return i}function $v(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uv(e,t,n,r){t.value=n,t.getSnapshot=r,Bv(t)&&Hv(e)}function Vv(e,t,n){return n(function(){Bv(t)&&Hv(e)})}function Bv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function Hv(e){var t=On(e,1);t!==null&&Zt(t,e,1,-1)}function Hm(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t.queue=e,e=e.dispatch=lS.bind(null,Te,e),[t.memoizedState,e]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gv(){return Bt().memoizedState}function Oo(e,t,n,r){var i=sn();Te.flags|=e,i.memoizedState=ha(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var i=Bt();r=r===void 0?null:r;var a=void 0;if(Me!==null){var o=Me.memoizedState;if(a=o.destroy,r!==null&&Vh(r,o.deps)){i.memoizedState=ha(t,n,a,r);return}}Te.flags|=e,i.memoizedState=ha(1|t,n,a,r)}function Gm(e,t){return Oo(8390656,8,e,t)}function Gh(e,t){return Ul(2048,8,e,t)}function Wv(e,t){return Ul(4,2,e,t)}function Kv(e,t){return Ul(4,4,e,t)}function qv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qv(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,qv.bind(null,t,e),n)}function Wh(){}function Yv(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xv(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jv(e,t,n){return Zr&21?(en(n,t)||(n=rv(),Te.lanes|=n,es|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function aS(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=Uc.transition;Uc.transition={};try{e(!1),t()}finally{de=n,Uc.transition=r}}function Zv(){return Bt().memoizedState}function oS(e,t,n){var r=ur(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},e0(e))t0(t,n);else if(n=Ov(e,t,n,r),n!==null){var i=it();Zt(n,e,r,i),n0(n,t,r)}}function lS(e,t,n){var r=ur(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(e0(e))t0(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,en(l,o)){var c=t.interleaved;c===null?(i.next=i,Mh(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Ov(e,t,i,r),n!==null&&(i=it(),Zt(n,e,r,i),n0(n,t,r))}}function e0(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function t0(e,t){zi=cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function n0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nh(e,n)}}var ul={readContext:Vt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},cS={readContext:Vt,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:Gm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oo(4194308,4,qv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oS.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:Hm,useDebugValue:Wh,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=Hm(!1),t=e[0];return e=aS.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,i=sn();if(Se){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Be===null)throw Error(I(349));Zr&30||$v(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Gm(Vv.bind(null,r,a,e),[e]),r.flags|=2048,ha(9,Uv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=sn(),t=Be.identifierPrefix;if(Se){var n=jn,r=wn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ua++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uS={readContext:Vt,useCallback:Yv,useContext:Vt,useEffect:Gh,useImperativeHandle:Qv,useInsertionEffect:Wv,useLayoutEffect:Kv,useMemo:Xv,useReducer:Vc,useRef:Gv,useState:function(){return Vc(da)},useDebugValue:Wh,useDeferredValue:function(e){var t=Bt();return Jv(t,Me.memoizedState,e)},useTransition:function(){var e=Vc(da)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:zv,useSyncExternalStore:Fv,useId:Zv,unstable_isNewReconciler:!1},dS={readContext:Vt,useCallback:Yv,useContext:Vt,useEffect:Gh,useImperativeHandle:Qv,useInsertionEffect:Wv,useLayoutEffect:Kv,useMemo:Xv,useReducer:Bc,useRef:Gv,useState:function(){return Bc(da)},useDebugValue:Wh,useDeferredValue:function(e){var t=Bt();return Me===null?t.memoizedState=e:Jv(t,Me.memoizedState,e)},useTransition:function(){var e=Bc(da)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:zv,useSyncExternalStore:Fv,useId:Zv,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vl={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),i=ur(e),a=kn(r,i);a.payload=t,n!=null&&(a.callback=n),t=lr(e,a,i),t!==null&&(Zt(t,e,i,r),Io(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),i=ur(e),a=kn(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=lr(e,a,i),t!==null&&(Zt(t,e,i,r),Io(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=ur(e),i=kn(n,r);i.tag=2,t!=null&&(i.callback=t),t=lr(e,i,r),t!==null&&(Zt(t,e,r,n),Io(t,e,r))}};function Wm(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!sa(n,r)||!sa(i,a):!0}function r0(e,t,n){var r=!1,i=gr,a=t.contextType;return typeof a=="object"&&a!==null?a=Vt(a):(i=wt(t)?Xr:tt.current,r=t.contextTypes,a=(r=r!=null)?Ws(e,i):gr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Km(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vl.enqueueReplaceState(t,t.state,null)}function id(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zh(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Vt(a):(a=wt(t)?Xr:tt.current,i.context=Ws(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sd(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vl.enqueueReplaceState(i,i.state,null),ol(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ys(e,t){try{var n="",r=t;do n+=F1(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Hc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ad(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hS=typeof WeakMap=="function"?WeakMap:Map;function s0(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hl||(hl=!0,xd=r),ad(e,t)},n}function i0(e,t,n){n=kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ad(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ad(e,t),typeof r!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function qm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_S.bind(null,e,t,n),t.then(e,e))}function Qm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ym(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,lr(n,t,1))),n.lanes|=1),e)}var fS=$n.ReactCurrentOwner,vt=!1;function st(e,t,n,r){t.child=e===null?Dv(t,null,n,r):qs(t,e.child,n,r)}function Xm(e,t,n,r,i){n=n.render;var a=t.ref;return $s(t,i),r=Bh(e,t,n,r,a,i),n=Hh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(Se&&n&&Ah(t),t.flags|=1,st(e,t,r,i),t.child)}function Jm(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!ef(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,a0(e,t,a,r,i)):(e=Fo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(o,r)&&e.ref===t.ref)return Ln(e,t,i)}return t.flags|=1,e=dr(a,r),e.ref=t.ref,e.return=t,t.child=e}function a0(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(sa(a,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Ln(e,t,i)}return od(e,t,n,r,i)}function o0(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(ks,Ct),Ct|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(ks,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,pe(ks,Ct),Ct|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,pe(ks,Ct),Ct|=r;return st(e,t,i,n),t.child}function l0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function od(e,t,n,r,i){var a=wt(n)?Xr:tt.current;return a=Ws(t,a),$s(t,i),n=Bh(e,t,n,r,a,i),r=Hh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(Se&&r&&Ah(t),t.flags|=1,st(e,t,n,i),t.child)}function Zm(e,t,n,r,i){if(wt(n)){var a=!0;nl(t)}else a=!1;if($s(t,i),t.stateNode===null)Lo(e,t),r0(t,n,r),id(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vt(u):(u=wt(n)?Xr:tt.current,u=Ws(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Km(t,o,r,u),qn=!1;var f=t.memoizedState;o.state=f,ol(t,r,o,i),c=t.memoizedState,l!==r||f!==c||yt.current||qn?(typeof d=="function"&&(sd(t,n,d,r),c=t.memoizedState),(l=qn||Wm(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Lv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Kt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vt(c):(c=wt(n)?Xr:tt.current,c=Ws(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Km(t,o,r,c),qn=!1,f=t.memoizedState,o.state=f,ol(t,r,o,i);var w=t.memoizedState;l!==h||f!==w||yt.current||qn?(typeof p=="function"&&(sd(t,n,p,r),w=t.memoizedState),(u=qn||Wm(t,n,u,r,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ld(e,t,n,r,a,i)}function ld(e,t,n,r,i,a){l0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&zm(t,n,!1),Ln(e,t,a);r=t.stateNode,fS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=qs(t,e.child,null,a),t.child=qs(t,null,l,a)):st(e,t,l,a),t.memoizedState=r.state,i&&zm(t,n,!0),t.child}function c0(e){var t=e.stateNode;t.pendingContext?Mm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mm(e,t.context,!1),Fh(e,t.containerInfo)}function ep(e,t,n,r,i){return Ks(),Ih(i),t.flags|=256,st(e,t,n,r),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function u0(e,t,n){var r=t.pendingProps,i=_e.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pe(_e,i&1),e===null)return nd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Gl(o,r,0,null),e=Wr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ud(n),t.memoizedState=cd,e):Kh(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return mS(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=dr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=dr(l,a):(a=Wr(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?ud(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=cd,r}return a=e.child,e=a.sibling,r=dr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kh(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ao(e,t,n,r){return r!==null&&Ih(r),qs(t,e.child,null,n),e=Kh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mS(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Hc(Error(I(422))),ao(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Gl({mode:"visible",children:r.children},i,0,null),a=Wr(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&qs(t,e.child,null,o),t.child.memoizedState=ud(o),t.memoizedState=cd,a);if(!(t.mode&1))return ao(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(I(419)),r=Hc(a,r,void 0),ao(e,t,o,r)}if(l=(o&e.childLanes)!==0,vt||l){if(r=Be,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,On(e,i),Zt(r,e,i,-1))}return Zh(),r=Hc(Error(I(421))),ao(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=PS.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Pt=or(i.nextSibling),Tt=t,Se=!0,Yt=null,e!==null&&(Lt[Mt++]=wn,Lt[Mt++]=jn,Lt[Mt++]=Jr,wn=e.id,jn=e.overflow,Jr=t),t=Kh(t,r.children),t.flags|=4096,t)}function tp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rd(e.return,t,n)}function Gc(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function d0(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(st(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tp(e,n,t);else if(e.tag===19)tp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(_e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ll(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gc(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ll(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gc(t,!0,n,null,a);break;case"together":Gc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),es|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pS(e,t,n){switch(t.tag){case 3:c0(t),Ks();break;case 5:Mv(t);break;case 1:wt(t.type)&&nl(t);break;case 4:Fh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;pe(il,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?u0(e,t,n):(pe(_e,_e.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);pe(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return d0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,o0(e,t,n)}return Ln(e,t,n)}var h0,dd,f0,m0;h0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dd=function(){};f0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vr(cn.current);var a=null;switch(n){case"input":i=Iu(e,i),r=Iu(e,r),a=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),a=[];break;case"textarea":i=Lu(e,i),r=Lu(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=el)}zu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};m0=function(e,t,n,r){n!==r&&(t.flags|=4)};function xi(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xS(e,t,n){var r=t.pendingProps;switch(Rh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return wt(t.type)&&tl(),Ye(t),null;case 3:return r=t.stateNode,Qs(),we(yt),we(tt),Uh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(so(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(yd(Yt),Yt=null))),dd(e,t),Ye(t),null;case 5:$h(t);var i=Vr(ca.current);if(n=t.type,e!==null&&t.stateNode!=null)f0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ye(t),null}if(e=Vr(cn.current),so(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[an]=t,r[oa]=a,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<ki.length;i++)ve(ki[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":um(r,a),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ve("invalid",r);break;case"textarea":hm(r,a),ve("invalid",r)}zu(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ro(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ro(r.textContent,l,e),i=["children",""+l]):Xi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Qa(r),dm(r,a,!0);break;case"textarea":Qa(r),fm(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=el)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[an]=t,e[oa]=r,h0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),i=r;break;case"iframe":case"object":case"embed":ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<ki.length;i++)ve(ki[i],e);i=r;break;case"source":ve("error",e),i=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=r;break;case"details":ve("toggle",e),i=r;break;case"input":um(e,r),i=Iu(e,r),ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":hm(e,r),i=Lu(e,r),ve("invalid",e);break;default:i=r}zu(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Gg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bg(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ji(e,c):typeof c=="number"&&Ji(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ve("scroll",e):c!=null&&gh(e,a,c,o))}switch(n){case"input":Qa(e),dm(e,r,!1);break;case"textarea":Qa(e),fm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ls(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)m0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=Vr(ca.current),Vr(cn.current),so(t)){if(r=t.stateNode,n=t.memoizedProps,r[an]=t,(a=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:ro(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ro(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=t,t.stateNode=r}return Ye(t),null;case 13:if(we(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&Pt!==null&&t.mode&1&&!(t.flags&128))Rv(),Ks(),t.flags|=98560,a=!1;else if(a=so(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[an]=t}else Ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),a=!1}else Yt!==null&&(yd(Yt),Yt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?ze===0&&(ze=3):Zh())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Qs(),dd(e,t),e===null&&ia(t.stateNode.containerInfo),Ye(t),null;case 10:return Lh(t.type._context),Ye(t),null;case 17:return wt(t.type)&&tl(),Ye(t),null;case 19:if(we(_e),a=t.memoizedState,a===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)xi(a,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ll(e),o!==null){for(t.flags|=128,xi(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(_e,_e.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ie()>Xs&&(t.flags|=128,r=!0,xi(a,!1),t.lanes=4194304)}else{if(!r)if(e=ll(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Se)return Ye(t),null}else 2*Ie()-a.renderingStartTime>Xs&&n!==1073741824&&(t.flags|=128,r=!0,xi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ie(),t.sibling=null,n=_e.current,pe(_e,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Jh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ct&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function gS(e,t){switch(Rh(t),t.tag){case 1:return wt(t.type)&&tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qs(),we(yt),we(tt),Uh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $h(t),null;case 13:if(we(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(_e),null;case 4:return Qs(),null;case 10:return Lh(t.type._context),null;case 22:case 23:return Jh(),null;case 24:return null;default:return null}}var oo=!1,Je=!1,vS=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function hd(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var np=!1;function yS(e,t){if(Qu=Xo,e=yv(),kh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},Xo=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,y=w.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Kt(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){Ae(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=np,np=!1,w}function Fi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&hd(t,n,a)}i=i.next}while(i!==r)}}function Bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function p0(e){var t=e.alternate;t!==null&&(e.alternate=null,p0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[oa],delete t[Zu],delete t[tS],delete t[nS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x0(e){return e.tag===5||e.tag===3||e.tag===4}function rp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function md(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=el));else if(r!==4&&(e=e.child,e!==null))for(md(e,t,n),e=e.sibling;e!==null;)md(e,t,n),e=e.sibling}function pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}var Ge=null,qt=!1;function Vn(e,t,n){for(n=n.child;n!==null;)g0(e,t,n),n=n.sibling}function g0(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:Je||Ts(n,t);case 6:var r=Ge,i=qt;Ge=null,Vn(e,t,n),Ge=r,qt=i,Ge!==null&&(qt?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(qt?(e=Ge,n=n.stateNode,e.nodeType===8?zc(e.parentNode,n):e.nodeType===1&&zc(e,n),na(e)):zc(Ge,n.stateNode));break;case 4:r=Ge,i=qt,Ge=n.stateNode.containerInfo,qt=!0,Vn(e,t,n),Ge=r,qt=i;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&hd(n,t,o),i=i.next}while(i!==r)}Vn(e,t,n);break;case 1:if(!Je&&(Ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ae(n,t,l)}Vn(e,t,n);break;case 21:Vn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,Vn(e,t,n),Je=r):Vn(e,t,n);break;default:Vn(e,t,n)}}function sp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vS),t.forEach(function(r){var i=ES.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ge=l.stateNode,qt=!1;break e;case 3:Ge=l.stateNode.containerInfo,qt=!0;break e;case 4:Ge=l.stateNode.containerInfo,qt=!0;break e}l=l.return}if(Ge===null)throw Error(I(160));g0(a,o,i),Ge=null,qt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ae(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)v0(t,e),t=t.sibling}function v0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),rn(e),r&4){try{Fi(3,e,e.return),Bl(3,e)}catch(g){Ae(e,e.return,g)}try{Fi(5,e,e.return)}catch(g){Ae(e,e.return,g)}}break;case 1:Gt(t,e),rn(e),r&512&&n!==null&&Ts(n,n.return);break;case 5:if(Gt(t,e),rn(e),r&512&&n!==null&&Ts(n,n.return),e.flags&32){var i=e.stateNode;try{Ji(i,"")}catch(g){Ae(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&$g(i,a),Fu(l,o);var u=Fu(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Gg(i,h):d==="dangerouslySetInnerHTML"?Bg(i,h):d==="children"?Ji(i,h):gh(i,d,h,u)}switch(l){case"input":Du(i,a);break;case"textarea":Ug(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ls(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ls(i,!!a.multiple,a.defaultValue,!0):Ls(i,!!a.multiple,a.multiple?[]:"",!1))}i[oa]=a}catch(g){Ae(e,e.return,g)}}break;case 6:if(Gt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ae(e,e.return,g)}}break;case 3:if(Gt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{na(t.containerInfo)}catch(g){Ae(e,e.return,g)}break;case 4:Gt(t,e),rn(e);break;case 13:Gt(t,e),rn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Yh=Ie())),r&4&&sp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||d,Gt(t,e),Je=u):Gt(t,e),rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(h=H=d;H!==null;){switch(f=H,p=f.child,f.tag){case 0:case 11:case 14:case 15:Fi(4,f,f.return);break;case 1:Ts(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Ae(r,n,g)}}break;case 5:Ts(f,f.return);break;case 22:if(f.memoizedState!==null){ap(h);continue}}p!==null?(p.return=f,H=p):ap(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Hg("display",o))}catch(g){Ae(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ae(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gt(t,e),rn(e),r&4&&sp(e);break;case 21:break;default:Gt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(x0(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ji(i,""),r.flags&=-33);var a=rp(e);pd(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=rp(e);md(e,l,o);break;default:throw Error(I(161))}}catch(c){Ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wS(e,t,n){H=e,y0(e)}function y0(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var i=H,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oo;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Je;l=oo;var u=Je;if(oo=o,(Je=c)&&!u)for(H=i;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?op(i):c!==null?(c.return=o,H=c):op(i);for(;a!==null;)H=a,y0(a),a=a.sibling;H=i,oo=l,Je=u}ip(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,H=a):ip(e)}}function ip(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Bm(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bm(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&na(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Je||t.flags&512&&fd(t)}catch(f){Ae(t,t.return,f)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function ap(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function op(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bl(4,t)}catch(c){Ae(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Ae(t,i,c)}}var a=t.return;try{fd(t)}catch(c){Ae(t,a,c)}break;case 5:var o=t.return;try{fd(t)}catch(c){Ae(t,o,c)}}}catch(c){Ae(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var jS=Math.ceil,dl=$n.ReactCurrentDispatcher,qh=$n.ReactCurrentOwner,Ut=$n.ReactCurrentBatchConfig,se=0,Be=null,Le=null,We=0,Ct=0,ks=br(0),ze=0,fa=null,es=0,Hl=0,Qh=0,$i=null,ht=null,Yh=0,Xs=1/0,xn=null,hl=!1,xd=null,cr=null,lo=!1,Zn=null,fl=0,Ui=0,gd=null,Mo=-1,zo=0;function it(){return se&6?Ie():Mo!==-1?Mo:Mo=Ie()}function ur(e){return e.mode&1?se&2&&We!==0?We&-We:sS.transition!==null?(zo===0&&(zo=rv()),zo):(e=de,e!==0||(e=window.event,e=e===void 0?16:uv(e.type)),e):1}function Zt(e,t,n,r){if(50<Ui)throw Ui=0,gd=null,Error(I(185));ka(e,n,r),(!(se&2)||e!==Be)&&(e===Be&&(!(se&2)&&(Hl|=n),ze===4&&Xn(e,We)),jt(e,r),n===1&&se===0&&!(t.mode&1)&&(Xs=Ie()+500,$l&&Nr()))}function jt(e,t){var n=e.callbackNode;sN(e,t);var r=Yo(e,e===Be?We:0);if(r===0)n!==null&&xm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xm(n),t===1)e.tag===0?rS(lp.bind(null,e)):Tv(lp.bind(null,e)),ZN(function(){!(se&6)&&Nr()}),n=null;else{switch(sv(r)){case 1:n=bh;break;case 4:n=tv;break;case 16:n=Qo;break;case 536870912:n=nv;break;default:n=Qo}n=P0(n,w0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function w0(e,t){if(Mo=-1,zo=0,se&6)throw Error(I(327));var n=e.callbackNode;if(Us()&&e.callbackNode!==n)return null;var r=Yo(e,e===Be?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ml(e,r);else{t=r;var i=se;se|=2;var a=b0();(Be!==e||We!==t)&&(xn=null,Xs=Ie()+500,Gr(e,t));do try{SS();break}catch(l){j0(e,l)}while(1);Oh(),dl.current=a,se=i,Le!==null?t=0:(Be=null,We=0,t=ze)}if(t!==0){if(t===2&&(i=Hu(e),i!==0&&(r=i,t=vd(e,i))),t===1)throw n=fa,Gr(e,0),Xn(e,r),jt(e,Ie()),n;if(t===6)Xn(e,r);else{if(i=e.current.alternate,!(r&30)&&!bS(i)&&(t=ml(e,r),t===2&&(a=Hu(e),a!==0&&(r=a,t=vd(e,a))),t===1))throw n=fa,Gr(e,0),Xn(e,r),jt(e,Ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:Dr(e,ht,xn);break;case 3:if(Xn(e,r),(r&130023424)===r&&(t=Yh+500-Ie(),10<t)){if(Yo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ju(Dr.bind(null,e,ht,xn),t);break}Dr(e,ht,xn);break;case 4:if(Xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Jt(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jS(r/1960))-r,10<r){e.timeoutHandle=Ju(Dr.bind(null,e,ht,xn),r);break}Dr(e,ht,xn);break;case 5:Dr(e,ht,xn);break;default:throw Error(I(329))}}}return jt(e,Ie()),e.callbackNode===n?w0.bind(null,e):null}function vd(e,t){var n=$i;return e.current.memoizedState.isDehydrated&&(Gr(e,t).flags|=256),e=ml(e,t),e!==2&&(t=ht,ht=n,t!==null&&yd(t)),e}function yd(e){ht===null?ht=e:ht.push.apply(ht,e)}function bS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!en(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~Qh,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),r=1<<n;e[n]=-1,t&=~r}}function lp(e){if(se&6)throw Error(I(327));Us();var t=Yo(e,0);if(!(t&1))return jt(e,Ie()),null;var n=ml(e,t);if(e.tag!==0&&n===2){var r=Hu(e);r!==0&&(t=r,n=vd(e,r))}if(n===1)throw n=fa,Gr(e,0),Xn(e,t),jt(e,Ie()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dr(e,ht,xn),jt(e,Ie()),null}function Xh(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Xs=Ie()+500,$l&&Nr())}}function ts(e){Zn!==null&&Zn.tag===0&&!(se&6)&&Us();var t=se;se|=1;var n=Ut.transition,r=de;try{if(Ut.transition=null,de=1,e)return e()}finally{de=r,Ut.transition=n,se=t,!(se&6)&&Nr()}}function Jh(){Ct=ks.current,we(ks)}function Gr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,JN(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Rh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tl();break;case 3:Qs(),we(yt),we(tt),Uh();break;case 5:$h(r);break;case 4:Qs();break;case 13:we(_e);break;case 19:we(_e);break;case 10:Lh(r.type._context);break;case 22:case 23:Jh()}n=n.return}if(Be=e,Le=e=dr(e.current,null),We=Ct=t,ze=0,fa=null,Qh=Hl=es=0,ht=$i=null,Ur!==null){for(t=0;t<Ur.length;t++)if(n=Ur[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Ur=null}return e}function j0(e,t){do{var n=Le;try{if(Oh(),Do.current=ul,cl){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cl=!1}if(Zr=0,Ve=Me=Te=null,zi=!1,ua=0,qh.current=null,n===null||n.return===null){ze=1,fa=t,Le=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=We,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Qm(o);if(p!==null){p.flags&=-257,Ym(p,o,l,a,t),p.mode&1&&qm(a,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){qm(a,u,t),Zh();break e}c=Error(I(426))}}else if(Se&&l.mode&1){var y=Qm(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Ym(y,o,l,a,t),Ih(Ys(c,l));break e}}a=c=Ys(c,l),ze!==4&&(ze=2),$i===null?$i=[a]:$i.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=s0(a,c,t);Vm(a,x);break e;case 1:l=c;var v=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(cr===null||!cr.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=i0(a,l,t);Vm(a,b);break e}}a=a.return}while(a!==null)}S0(n)}catch(C){t=C,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function b0(){var e=dl.current;return dl.current=ul,e===null?ul:e}function Zh(){(ze===0||ze===3||ze===2)&&(ze=4),Be===null||!(es&268435455)&&!(Hl&268435455)||Xn(Be,We)}function ml(e,t){var n=se;se|=2;var r=b0();(Be!==e||We!==t)&&(xn=null,Gr(e,t));do try{NS();break}catch(i){j0(e,i)}while(1);if(Oh(),se=n,dl.current=r,Le!==null)throw Error(I(261));return Be=null,We=0,ze}function NS(){for(;Le!==null;)N0(Le)}function SS(){for(;Le!==null&&!Q1();)N0(Le)}function N0(e){var t=_0(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?S0(e):Le=t,qh.current=null}function S0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gS(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Le=null;return}}else if(n=xS(n,t,Ct),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ze===0&&(ze=5)}function Dr(e,t,n){var r=de,i=Ut.transition;try{Ut.transition=null,de=1,CS(e,t,n,r)}finally{Ut.transition=i,de=r}return null}function CS(e,t,n,r){do Us();while(Zn!==null);if(se&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(iN(e,a),e===Be&&(Le=Be=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lo||(lo=!0,P0(Qo,function(){return Us(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ut.transition,Ut.transition=null;var o=de;de=1;var l=se;se|=4,qh.current=null,yS(e,n),v0(n,e),GN(Yu),Xo=!!Qu,Yu=Qu=null,e.current=n,wS(n),Y1(),se=l,de=o,Ut.transition=a}else e.current=n;if(lo&&(lo=!1,Zn=e,fl=i),a=e.pendingLanes,a===0&&(cr=null),Z1(n.stateNode),jt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hl)throw hl=!1,e=xd,xd=null,e;return fl&1&&e.tag!==0&&Us(),a=e.pendingLanes,a&1?e===gd?Ui++:(Ui=0,gd=e):Ui=0,Nr(),null}function Us(){if(Zn!==null){var e=sv(fl),t=Ut.transition,n=de;try{if(Ut.transition=null,de=16>e?16:e,Zn===null)var r=!1;else{if(e=Zn,Zn=null,fl=0,se&6)throw Error(I(331));var i=se;for(se|=4,H=e.current;H!==null;){var a=H,o=a.child;if(H.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Fi(8,d,a)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var f=d.sibling,p=d.return;if(p0(d),d===u){H=null;break}if(f!==null){f.return=p,H=f;break}H=p}}}var w=a.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}H=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,H=o;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fi(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,H=x;break e}H=a.return}}var v=e.current;for(H=v;H!==null;){o=H;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,H=j;else e:for(o=v;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bl(9,l)}}catch(C){Ae(l,l.return,C)}if(l===o){H=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,H=b;break e}H=l.return}}if(se=i,Nr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ol,e)}catch{}r=!0}return r}finally{de=n,Ut.transition=t}}return!1}function cp(e,t,n){t=Ys(n,t),t=s0(e,t,1),e=lr(e,t,1),t=it(),e!==null&&(ka(e,1,t),jt(e,t))}function Ae(e,t,n){if(e.tag===3)cp(e,e,n);else for(;t!==null;){if(t.tag===3){cp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cr===null||!cr.has(r))){e=Ys(n,e),e=i0(t,e,1),t=lr(t,e,1),e=it(),t!==null&&(ka(t,1,e),jt(t,e));break}}t=t.return}}function _S(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(We&n)===n&&(ze===4||ze===3&&(We&130023424)===We&&500>Ie()-Yh?Gr(e,0):Qh|=n),jt(e,t)}function C0(e,t){t===0&&(e.mode&1?(t=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):t=1);var n=it();e=On(e,t),e!==null&&(ka(e,t,n),jt(e,n))}function PS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),C0(e,n)}function ES(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),C0(e,n)}var _0;_0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,pS(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Se&&t.flags&1048576&&kv(t,sl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lo(e,t),e=t.pendingProps;var i=Ws(t,tt.current);$s(t,n),i=Bh(null,t,r,e,i,n);var a=Hh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(a=!0,nl(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zh(t),i.updater=Vl,t.stateNode=i,i._reactInternals=t,id(t,r,e,n),t=ld(null,t,r,!0,a,n)):(t.tag=0,Se&&a&&Ah(t),st(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=kS(r),e=Kt(r,e),i){case 0:t=od(null,t,r,e,n);break e;case 1:t=Zm(null,t,r,e,n);break e;case 11:t=Xm(null,t,r,e,n);break e;case 14:t=Jm(null,t,r,Kt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),od(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Zm(e,t,r,i,n);case 3:e:{if(c0(t),e===null)throw Error(I(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Lv(e,t),ol(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ys(Error(I(423)),t),t=ep(e,t,r,n,i);break e}else if(r!==i){i=Ys(Error(I(424)),t),t=ep(e,t,r,n,i);break e}else for(Pt=or(t.stateNode.containerInfo.firstChild),Tt=t,Se=!0,Yt=null,n=Dv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ks(),r===i){t=Ln(e,t,n);break e}st(e,t,r,n)}t=t.child}return t;case 5:return Mv(t),e===null&&nd(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Xu(r,i)?o=null:a!==null&&Xu(r,a)&&(t.flags|=32),l0(e,t),st(e,t,o,n),t.child;case 6:return e===null&&nd(t),null;case 13:return u0(e,t,n);case 4:return Fh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qs(t,null,r,n):st(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Xm(e,t,r,i,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,pe(il,r._currentValue),r._currentValue=o,a!==null)if(en(a.value,o)){if(a.children===i.children&&!yt.current){t=Ln(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=kn(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),rd(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),rd(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}st(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$s(t,n),i=Vt(i),r=r(i),t.flags|=1,st(e,t,r,n),t.child;case 14:return r=t.type,i=Kt(r,t.pendingProps),i=Kt(r.type,i),Jm(e,t,r,i,n);case 15:return a0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Lo(e,t),t.tag=1,wt(r)?(e=!0,nl(t)):e=!1,$s(t,n),r0(t,r,i),id(t,r,i,n),ld(null,t,r,!0,e,n);case 19:return d0(e,t,n);case 22:return o0(e,t,n)}throw Error(I(156,t.tag))};function P0(e,t){return ev(e,t)}function TS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,r){return new TS(e,t,n,r)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kS(e){if(typeof e=="function")return ef(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yh)return 11;if(e===wh)return 14}return 2}function dr(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fo(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")ef(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ws:return Wr(n.children,i,a,t);case vh:o=8,i|=8;break;case Tu:return e=zt(12,n,t,i|2),e.elementType=Tu,e.lanes=a,e;case ku:return e=zt(13,n,t,i),e.elementType=ku,e.lanes=a,e;case Au:return e=zt(19,n,t,i),e.elementType=Au,e.lanes=a,e;case Mg:return Gl(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Og:o=10;break e;case Lg:o=9;break e;case yh:o=11;break e;case wh:o=14;break e;case Kn:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=zt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Wr(e,t,n,r){return e=zt(7,e,r,t),e.lanes=n,e}function Gl(e,t,n,r){return e=zt(22,e,r,t),e.elementType=Mg,e.lanes=n,e.stateNode={isHidden:!1},e}function Wc(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Kc(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function AS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tf(e,t,n,r,i,a,o,l,c){return e=new AS(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=zt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zh(a),e}function RS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function E0(e){if(!e)return gr;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(wt(n))return Ev(e,n,t)}return t}function T0(e,t,n,r,i,a,o,l,c){return e=tf(n,r,!0,e,i,a,o,l,c),e.context=E0(null),n=e.current,r=it(),i=ur(n),a=kn(r,i),a.callback=t??null,lr(n,a,i),e.current.lanes=i,ka(e,i,r),jt(e,r),e}function Wl(e,t,n,r){var i=t.current,a=it(),o=ur(i);return n=E0(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=lr(i,t,o),e!==null&&(Zt(e,i,o,a),Io(e,i,o)),o}function pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nf(e,t){up(e,t),(e=e.alternate)&&up(e,t)}function IS(){return null}var k0=typeof reportError=="function"?reportError:function(e){console.error(e)};function rf(e){this._internalRoot=e}Kl.prototype.render=rf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Wl(e,t,null,null)};Kl.prototype.unmount=rf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ts(function(){Wl(null,e,null,null)}),t[Dn]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&cv(e)}};function sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dp(){}function DS(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=pl(o);a.call(u)}}var o=T0(t,r,e,0,null,!1,!1,"",dp);return e._reactRootContainer=o,e[Dn]=o.current,ia(e.nodeType===8?e.parentNode:e),ts(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=pl(c);l.call(u)}}var c=tf(e,0,!1,null,null,!1,!1,"",dp);return e._reactRootContainer=c,e[Dn]=c.current,ia(e.nodeType===8?e.parentNode:e),ts(function(){Wl(t,c,n,r)}),c}function Ql(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=pl(o);l.call(c)}}Wl(t,o,e,i)}else o=DS(n,t,e,i,r);return pl(o)}iv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ti(t.pendingLanes);n!==0&&(Nh(t,n|1),jt(t,Ie()),!(se&6)&&(Xs=Ie()+500,Nr()))}break;case 13:ts(function(){var r=On(e,1);if(r!==null){var i=it();Zt(r,e,1,i)}}),nf(e,1)}};Sh=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var n=it();Zt(t,e,134217728,n)}nf(e,134217728)}};av=function(e){if(e.tag===13){var t=ur(e),n=On(e,t);if(n!==null){var r=it();Zt(n,e,t,r)}nf(e,t)}};ov=function(){return de};lv=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Uu=function(e,t,n){switch(t){case"input":if(Du(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fl(r);if(!i)throw Error(I(90));Fg(r),Du(r,i)}}}break;case"textarea":Ug(e,n);break;case"select":t=n.value,t!=null&&Ls(e,!!n.multiple,t,!1)}};qg=Xh;Qg=ts;var OS={usingClientEntryPoint:!1,Events:[Ra,Ss,Fl,Wg,Kg,Xh]},gi={findFiberByHostInstance:$r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LS={bundleType:gi.bundleType,version:gi.version,rendererPackageName:gi.rendererPackageName,rendererConfig:gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jg(e),e===null?null:e.stateNode},findFiberByHostInstance:gi.findFiberByHostInstance||IS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{Ol=co.inject(LS),ln=co}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OS;Rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sf(t))throw Error(I(200));return RS(e,t,null,n)};Rt.createRoot=function(e,t){if(!sf(e))throw Error(I(299));var n=!1,r="",i=k0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tf(e,1,!1,null,null,n,!1,r,i),e[Dn]=t.current,ia(e.nodeType===8?e.parentNode:e),new rf(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Jg(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return ts(e)};Rt.hydrate=function(e,t,n){if(!ql(t))throw Error(I(200));return Ql(null,e,t,!0,n)};Rt.hydrateRoot=function(e,t,n){if(!sf(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=k0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=T0(t,null,e,1,n??null,i,!1,a,o),e[Dn]=t.current,ia(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kl(t)};Rt.render=function(e,t,n){if(!ql(t))throw Error(I(200));return Ql(null,e,t,!1,n)};Rt.unmountComponentAtNode=function(e){if(!ql(e))throw Error(I(40));return e._reactRootContainer?(ts(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};Rt.unstable_batchedUpdates=Xh;Rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ql(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Ql(e,t,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function A0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A0)}catch(e){console.error(e)}}A0(),Ag.exports=Rt;var Yl=Ag.exports;const MS=ss(Yl);var hp=Yl;Pu.createRoot=hp.createRoot,Pu.hydrateRoot=hp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ma.apply(this,arguments)}var er;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(er||(er={}));const fp="popstate";function zS(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return wd("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xl(i)}return $S(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FS(){return Math.random().toString(36).substr(2,8)}function mp(e,t){return{usr:e.state,key:e.key,idx:t}}function wd(e,t,n,r){return n===void 0&&(n=null),ma({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ii(t):t,{state:n,key:t&&t.key||r||FS()})}function xl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ii(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $S(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=er.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ma({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=er.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:x})}function f(y,x){l=er.Push;let v=wd(g.location,y,x);n&&n(v,y),u=d()+1;let j=mp(v,u),b=g.createHref(v);try{o.pushState(j,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(b)}a&&c&&c({action:l,location:g.location,delta:1})}function p(y,x){l=er.Replace;let v=wd(g.location,y,x);n&&n(v,y),u=d();let j=mp(v,u),b=g.createHref(v);o.replaceState(j,"",b),a&&c&&c({action:l,location:g.location,delta:0})}function w(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:xl(y);return v=v.replace(/ $/,"%20"),De(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(fp,h),c=y,()=>{i.removeEventListener(fp,h),c=null}},createHref(y){return t(i,y)},createURL:w,encodeLocation(y){let x=w(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(y){return o.go(y)}};return g}var pp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pp||(pp={}));function US(e,t,n){return n===void 0&&(n="/"),VS(e,t,n,!1)}function VS(e,t,n,r){let i=typeof t=="string"?ii(t):t,a=af(i.pathname||"/",n);if(a==null)return null;let o=I0(e);BS(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=e2(a);l=JS(o[c],u,r)}return l}function I0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(De(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=hr([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(De(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),I0(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:YS(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of D0(a.path))i(a,o,c)}),t}function D0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=D0(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function BS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HS=/^:[\w-]+$/,GS=3,WS=2,KS=1,qS=10,QS=-2,xp=e=>e==="*";function YS(e,t){let n=e.split("/"),r=n.length;return n.some(xp)&&(r+=QS),t&&(r+=WS),n.filter(i=>!xp(i)).reduce((i,a)=>i+(HS.test(a)?GS:a===""?KS:qS),r)}function XS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function JS(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=gp({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=gp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:hr([a,h.pathname]),pathnameBase:s2(hr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=hr([a,h.pathnameBase]))}return o}function gp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ZS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function ZS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),R0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function e2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return R0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function af(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function t2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ii(e):e;return{pathname:n?n.startsWith("/")?n:n2(n,t):t,search:i2(r),hash:a2(i)}}function n2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function of(e,t){let n=r2(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lf(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ii(e):(i=ma({},e),De(!i.pathname||!i.pathname.includes("?"),qc("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),qc("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),qc("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=t2(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hr=e=>e.join("/").replace(/\/\/+/g,"/"),s2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function o2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const O0=["post","put","patch","delete"];new Set(O0);const l2=["get",...O0];new Set(l2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(this,arguments)}const cf=m.createContext(null),c2=m.createContext(null),Sr=m.createContext(null),Xl=m.createContext(null),Cr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),L0=m.createContext(null);function u2(e,t){let{relative:n}=t===void 0?{}:t;ai()||De(!1);let{basename:r,navigator:i}=m.useContext(Sr),{hash:a,pathname:o,search:l}=z0(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:hr([r,o])),i.createHref({pathname:c,search:l,hash:a})}function ai(){return m.useContext(Xl)!=null}function _r(){return ai()||De(!1),m.useContext(Xl).location}function M0(e){m.useContext(Sr).static||m.useLayoutEffect(e)}function ce(){let{isDataRoute:e}=m.useContext(Cr);return e?N2():d2()}function d2(){ai()||De(!1);let e=m.useContext(cf),{basename:t,future:n,navigator:r}=m.useContext(Sr),{matches:i}=m.useContext(Cr),{pathname:a}=_r(),o=JSON.stringify(of(i,n.v7_relativeSplatPath)),l=m.useRef(!1);return M0(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=lf(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:hr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,a,e])}function z0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Sr),{matches:i}=m.useContext(Cr),{pathname:a}=_r(),o=JSON.stringify(of(i,r.v7_relativeSplatPath));return m.useMemo(()=>lf(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function h2(e,t){return f2(e,t)}function f2(e,t,n,r){ai()||De(!1);let{navigator:i}=m.useContext(Sr),{matches:a}=m.useContext(Cr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_r(),d;if(t){var h;let y=typeof t=="string"?ii(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||De(!1),d=y}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=US(e,{pathname:p}),g=v2(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:hr([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:hr([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&g?m.createElement(Xl.Provider,{value:{location:pa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:er.Pop}},g):g}function m2(){let e=b2(),t=o2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,a)}const p2=m.createElement(m2,null);class x2 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Cr.Provider,{value:this.props.routeContext},m.createElement(L0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g2(e){let{routeContext:t,match:n,children:r}=e,i=m.useContext(cf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Cr.Provider,{value:t},r)}function v2(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||De(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,w=!1,g=null,y=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||p2,c&&(u<0&&f===0?(S2("route-fallback",!1),w=!0,y=null):u===f&&(w=!0,y=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),v=()=>{let j;return p?j=g:w?j=y:h.route.Component?j=m.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,m.createElement(g2,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(x2,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var F0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(F0||{}),gl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gl||{});function y2(e){let t=m.useContext(cf);return t||De(!1),t}function w2(e){let t=m.useContext(c2);return t||De(!1),t}function j2(e){let t=m.useContext(Cr);return t||De(!1),t}function $0(e){let t=j2(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}function b2(){var e;let t=m.useContext(L0),n=w2(gl.UseRouteError),r=$0(gl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function N2(){let{router:e}=y2(F0.UseNavigateStable),t=$0(gl.UseNavigateStable),n=m.useRef(!1);return M0(()=>{n.current=!0}),m.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,pa({fromRouteId:t},a)))},[e,t])}const vp={};function S2(e,t,n){!t&&!vp[e]&&(vp[e]=!0)}function C2(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function U0(e){let{to:t,replace:n,state:r,relative:i}=e;ai()||De(!1);let{future:a,static:o}=m.useContext(Sr),{matches:l}=m.useContext(Cr),{pathname:c}=_r(),u=ce(),d=lf(t,of(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function ye(e){De(!1)}function _2(e){let{basename:t="/",children:n=null,location:r,navigationType:i=er.Pop,navigator:a,static:o=!1,future:l}=e;ai()&&De(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:pa({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=ii(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:w="default"}=r,g=m.useMemo(()=>{let y=af(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:w},navigationType:i}},[c,d,h,f,p,w,i]);return g==null?null:m.createElement(Sr.Provider,{value:u},m.createElement(Xl.Provider,{children:n,value:g}))}function P2(e){let{children:t,location:n}=e;return h2(jd(t),n)}new Promise(()=>{});function jd(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,i)=>{if(!m.isValidElement(r))return;let a=[...t,i];if(r.type===m.Fragment){n.push.apply(n,jd(r.props.children,a));return}r.type!==ye&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jd(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd.apply(this,arguments)}function E2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function T2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k2(e,t){return e.button===0&&(!t||t==="_self")&&!T2(e)}function Nd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function A2(e,t){let n=Nd(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const R2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I2="6";try{window.__reactRouterVersion=I2}catch{}const D2="startTransition",yp=mh[D2];function O2(e){let{basename:t,children:n,future:r,window:i}=e,a=m.useRef();a.current==null&&(a.current=zS({window:i,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=m.useCallback(h=>{u&&yp?yp(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>C2(r),[r]),m.createElement(_2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const L2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=m.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=E2(t,R2),{basename:p}=m.useContext(Sr),w,g=!1;if(typeof u=="string"&&M2.test(u)&&(w=u,L2))try{let j=new URL(window.location.href),b=u.startsWith("//")?new URL(j.protocol+u):new URL(u),C=af(b.pathname,p);b.origin===j.origin&&C!=null?u=C+b.search+b.hash:g=!0}catch{}let y=u2(u,{relative:i}),x=z2(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function v(j){r&&r(j),j.defaultPrevented||x(j)}return m.createElement("a",bd({},f,{href:w||y,onClick:g||a?r:v,ref:n,target:c}))});var wp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wp||(wp={}));var jp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jp||(jp={}));function z2(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=ce(),u=_r(),d=z0(e,{relative:o});return m.useCallback(h=>{if(k2(h,n)){h.preventDefault();let f=r!==void 0?r:xl(u)===xl(d);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,i,n,e,a,o,l])}function hn(e){let t=m.useRef(Nd(e)),n=m.useRef(!1),r=_r(),i=m.useMemo(()=>A2(r.search,n.current?null:t.current),[r.search]),a=ce(),o=m.useCallback((l,c)=>{const u=Nd(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var V0={exports:{}},F2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$2=F2,U2=$2;function B0(){}function H0(){}H0.resetWarningCache=B0;var V2=function(){function e(r,i,a,o,l,c){if(c!==U2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H0,resetWarningCache:B0};return n.PropTypes=n,n};V0.exports=V2();var B2=V0.exports;const be=ss(B2);function H2(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var G0=m,G2=H2(G0);function bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var K2=!!(typeof window<"u"&&window.document&&window.document.createElement);function q2(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(d){return d.props})),u.canUseDOM?t(l):n&&(l=n(l))}var u=function(d){W2(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=l;return l=void 0,o=[],w};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var w=o.indexOf(this);o.splice(w,1),c()},f.render=function(){return G2.createElement(a,this.props)},h}(G0.PureComponent);return bp(u,"displayName","SideEffect("+r(a)+")"),bp(u,"canUseDOM",K2),u}}var Q2=q2;const Y2=ss(Q2);var X2=typeof Element<"u",J2=typeof Map=="function",Z2=typeof Set=="function",eC=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function $o(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!$o(e[r],t[r]))return!1;return!0}var a;if(J2&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!$o(r.value[1],t.get(r.value[0])))return!1;return!0}if(Z2&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(eC&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(X2&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!$o(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var tC=function(t,n){try{return $o(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const nC=ss(tC);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Np=Object.getOwnPropertySymbols,rC=Object.prototype.hasOwnProperty,sC=Object.prototype.propertyIsEnumerable;function iC(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function aC(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var oC=aC()?Object.assign:function(e,t){for(var n,r=iC(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)rC.call(n,o)&&(r[o]=n[o]);if(Np){i=Np(n);for(var l=0;l<i.length;l++)sC.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};const lC=ss(oC);var Kr={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},J={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(J).map(function(e){return J[e]});var Ne={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},vl={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},xa={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},cC=Object.keys(vl).reduce(function(e,t){return e[vl[t]]=t,e},{}),uC=[J.NOSCRIPT,J.SCRIPT,J.STYLE],Xt="data-react-helmet",dC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hC=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},fC=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mC=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Sp=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},pC=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Sd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},xC=function(t){var n=Vs(t,J.TITLE),r=Vs(t,xa.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Vs(t,xa.DEFAULT_TITLE);return n||i||void 0},gC=function(t){return Vs(t,xa.ON_CHANGE_CLIENT_STATE)||function(){}},Qc=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return dt({},r,i)},{})},vC=function(t,n){return n.filter(function(r){return typeof r[J.BASE]<"u"}).map(function(r){return r[J.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var a=Object.keys(i),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},vi=function(t,n,r){var i={};return r.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&bC("Helmet: "+t+' should be of type "Array". Instead found type "'+dC(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var l={};o.filter(function(f){for(var p=void 0,w=Object.keys(f),g=0;g<w.length;g++){var y=w[g],x=y.toLowerCase();n.indexOf(x)!==-1&&!(p===Ne.REL&&f[p].toLowerCase()==="canonical")&&!(x===Ne.REL&&f[x].toLowerCase()==="stylesheet")&&(p=x),n.indexOf(y)!==-1&&(y===Ne.INNER_HTML||y===Ne.CSS_TEXT||y===Ne.ITEM_PROP)&&(p=y)}if(!p||!f[p])return!1;var v=f[p].toLowerCase();return i[p]||(i[p]={}),l[p]||(l[p]={}),i[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(f){return a.push(f)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=lC({},i[d],l[d]);i[d]=h}return a},[]).reverse()},Vs=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},yC=function(t){return{baseTag:vC([Ne.HREF,Ne.TARGET],t),bodyAttributes:Qc(Kr.BODY,t),defer:Vs(t,xa.DEFER),encode:Vs(t,xa.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Qc(Kr.HTML,t),linkTags:vi(J.LINK,[Ne.REL,Ne.HREF],t),metaTags:vi(J.META,[Ne.NAME,Ne.CHARSET,Ne.HTTPEQUIV,Ne.PROPERTY,Ne.ITEM_PROP],t),noscriptTags:vi(J.NOSCRIPT,[Ne.INNER_HTML],t),onChangeClientState:gC(t),scriptTags:vi(J.SCRIPT,[Ne.SRC,Ne.INNER_HTML],t),styleTags:vi(J.STYLE,[Ne.CSS_TEXT],t),title:xC(t),titleAttributes:Qc(Kr.TITLE,t)}},Cd=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Cd(t)},0)}}(),Cp=function(t){return clearTimeout(t)},wC=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Cd:global.requestAnimationFrame||Cd,jC=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Cp:global.cancelAnimationFrame||Cp,bC=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},yi=null,NC=function(t){yi&&jC(yi),t.defer?yi=wC(function(){_p(t,function(){yi=null})}):(_p(t),yi=null)},_p=function(t,n){var r=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,h=t.styleTags,f=t.title,p=t.titleAttributes;_d(J.BODY,i),_d(J.HTML,a),SC(f,p);var w={baseTag:fs(J.BASE,r),linkTags:fs(J.LINK,o),metaTags:fs(J.META,l),noscriptTags:fs(J.NOSCRIPT,c),scriptTags:fs(J.SCRIPT,d),styleTags:fs(J.STYLE,h)},g={},y={};Object.keys(w).forEach(function(x){var v=w[x],j=v.newTags,b=v.oldTags;j.length&&(g[x]=j),b.length&&(y[x]=w[x].oldTags)}),n&&n(),u(t,g,y)},W0=function(t){return Array.isArray(t)?t.join(""):t},SC=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=W0(t)),_d(J.TITLE,n)},_d=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Xt),a=i?i.split(","):[],o=[].concat(a),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),a.indexOf(u)===-1&&a.push(u);var h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);a.length===o.length?r.removeAttribute(Xt):r.getAttribute(Xt)!==l.join(",")&&r.setAttribute(Xt,l.join(","))}},fs=function(t,n){var r=document.head||document.querySelector(J.HEAD),i=r.querySelectorAll(t+"["+Xt+"]"),a=Array.prototype.slice.call(i),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===Ne.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Ne.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(Xt,"true"),a.some(function(f,p){return l=p,u.isEqualNode(f)})?a.splice(l,1):o.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:a,newTags:o}},K0=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},CC=function(t,n,r,i){var a=K0(r),o=W0(n);return a?"<"+t+" "+Xt+'="true" '+a+">"+Sd(o,i)+"</"+t+">":"<"+t+" "+Xt+'="true">'+Sd(o,i)+"</"+t+">"},_C=function(t,n,r){return n.reduce(function(i,a){var o=Object.keys(a).filter(function(u){return!(u===Ne.INNER_HTML||u===Ne.CSS_TEXT)}).reduce(function(u,d){var h=typeof a[d]>"u"?d:d+'="'+Sd(a[d],r)+'"';return u?u+" "+h:h},""),l=a.innerHTML||a.cssText||"",c=uC.indexOf(t)===-1;return i+"<"+t+" "+Xt+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},q0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[vl[i]||i]=t[i],r},n)},PC=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[cC[i]||i]=t[i],r},n)},EC=function(t,n,r){var i,a=(i={key:n},i[Xt]=!0,i),o=q0(r,a);return[X.createElement(J.TITLE,o,n)]},TC=function(t,n){return n.map(function(r,i){var a,o=(a={key:i},a[Xt]=!0,a);return Object.keys(r).forEach(function(l){var c=vl[l]||l;if(c===Ne.INNER_HTML||c===Ne.CSS_TEXT){var u=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=r[l]}),X.createElement(t,o)})},fn=function(t,n,r){switch(t){case J.TITLE:return{toComponent:function(){return EC(t,n.title,n.titleAttributes)},toString:function(){return CC(t,n.title,n.titleAttributes,r)}};case Kr.BODY:case Kr.HTML:return{toComponent:function(){return q0(n)},toString:function(){return K0(n)}};default:return{toComponent:function(){return TC(t,n)},toString:function(){return _C(t,n,r)}}}},Q0=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,h=t.title,f=h===void 0?"":h,p=t.titleAttributes;return{base:fn(J.BASE,n,i),bodyAttributes:fn(Kr.BODY,r,i),htmlAttributes:fn(Kr.HTML,a,i),link:fn(J.LINK,o,i),meta:fn(J.META,l,i),noscript:fn(J.NOSCRIPT,c,i),script:fn(J.SCRIPT,u,i),style:fn(J.STYLE,d,i),title:fn(J.TITLE,{title:f,titleAttributes:p},i)}},kC=function(t){var n,r;return r=n=function(i){mC(a,i);function a(){return hC(this,a),pC(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!nC(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case J.SCRIPT:case J.NOSCRIPT:return{innerHTML:c};case J.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return dt({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[dt({},h,this.mapNestedChildrenToProps(u,f))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(d.type){case J.TITLE:return dt({},h,(c={},c[d.type]=p,c.titleAttributes=dt({},f),c));case J.BODY:return dt({},h,{bodyAttributes:dt({},f)});case J.HTML:return dt({},h,{htmlAttributes:dt({},f)})}return dt({},h,(u={},u[d.type]=dt({},f),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=dt({},c);return Object.keys(l).forEach(function(d){var h;u=dt({},u,(h={},h[d]=l[d],h))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return X.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,w=Sp(f,["children"]),g=PC(w);switch(u.warnOnInvalidChildren(h,p),h.type){case J.LINK:case J.META:case J.NOSCRIPT:case J.SCRIPT:case J.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:g,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:g,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=Sp(l,["children"]),d=dt({},u);return c&&(d=this.mapChildrenToProps(c,d)),X.createElement(t,d)},fC(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(X.Component),n.propTypes={base:be.object,bodyAttributes:be.object,children:be.oneOfType([be.arrayOf(be.node),be.node]),defaultTitle:be.string,defer:be.bool,encodeSpecialCharacters:be.bool,htmlAttributes:be.object,link:be.arrayOf(be.object),meta:be.arrayOf(be.object),noscript:be.arrayOf(be.object),onChangeClientState:be.func,script:be.arrayOf(be.object),style:be.arrayOf(be.object),title:be.string,titleAttributes:be.object,titleTemplate:be.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=Q0({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},AC=function(){return null},RC=Y2(yC,NC,Q0)(AC),le=kC(RC);le.renderStatic=le.rewind;function Y0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Y0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function X0(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Y0(e))&&(r&&(r+=" "),r+=t);return r}function IC(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=J0(t))&&(r&&(r+=" "),r+=n);return r}function J0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=J0(e[r]))&&(n&&(n+=" "),n+=t);return n}var uf="-";function DC(e){var t=LC(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function a(l){var c=l.split(uf);return c[0]===""&&c.length!==1&&c.shift(),Z0(c,t)||OC(l)}function o(l,c){var u=n[l]||[];return c&&i[l]?[].concat(u,i[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function Z0(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?Z0(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var a=e.join(uf);return(o=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:o.classGroupId}}var Pp=/^\[(.+)\]$/;function OC(e){if(Pp.test(e)){var t=Pp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function LC(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=zC(Object.entries(e.classGroups),n);return i.forEach(function(a){var o=a[0],l=a[1];Pd(l,r,o,t)}),r}function Pd(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var a=i===""?t:Ep(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(MC(i)){Pd(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var l=o[0],c=o[1];Pd(c,Ep(t,l),n,r)})})}function Ep(e,t){var n=e;return t.split(uf).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function MC(e){return e.isThemeGetter}function zC(e,t){return t?e.map(function(n){var r=n[0],i=n[1],a=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[r,a]}):e}function FC(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(a,o){n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):i(o,l)}}}var ey="!";function $C(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(o){for(var l=[],c=0,u=0,d,h=0;h<o.length;h++){var f=o[h];if(c===0){if(f===r&&(n||o.slice(h,h+i)===t)){l.push(o.slice(u,h)),u=h+i;continue}if(f==="/"){d=h;continue}}f==="["?c++:f==="]"&&c--}var p=l.length===0?o:o.substring(u),w=p.startsWith(ey),g=w?p.substring(1):p,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:y}}}function UC(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function VC(e){return{cache:FC(e.cacheSize),splitModifiers:$C(e),...DC(e)}}var BC=/\s+/;function HC(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(BC).map(function(o){var l=n(o),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,h=l.maybePostfixModifierPosition,f=r(h?d.substring(0,h):d),p=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:o};if(f=r(d),!f)return{isTailwindClass:!1,originalClassName:o};p=!1}var w=UC(c).join(":"),g=u?w+ey:w;return{isTailwindClass:!0,modifierId:g,classGroupId:f,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=l+c;return a.has(d)?!1:(a.add(d),i(c,u).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function GC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,a,o=l;function l(u){var d=t[0],h=t.slice(1),f=h.reduce(function(p,w){return w(p)},d());return r=VC(f),i=r.cache.get,a=r.cache.set,o=c,c(u)}function c(u){var d=i(u);if(d)return d;var h=HC(u,r);return a(u,h),h}return function(){return o(IC.apply(null,arguments))}}function ge(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var ty=/^\[(?:([a-z-]+):)?(.+)\]$/i,WC=/^\d+\/\d+$/,KC=new Set(["px","full","screen"]),qC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YC=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Wt(e){return Br(e)||KC.has(e)||WC.test(e)||Ed(e)}function Ed(e){return os(e,"length",n_)}function XC(e){return os(e,"size",ny)}function JC(e){return os(e,"position",ny)}function ZC(e){return os(e,"url",r_)}function uo(e){return os(e,"number",Br)}function Br(e){return!Number.isNaN(Number(e))}function e_(e){return e.endsWith("%")&&Br(e.slice(0,-1))}function wi(e){return Tp(e)||os(e,"number",Tp)}function ne(e){return ty.test(e)}function ji(){return!0}function Bn(e){return qC.test(e)}function t_(e){return os(e,"",s_)}function os(e,t,n){var r=ty.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function n_(e){return QC.test(e)}function ny(){return!1}function r_(e){return e.startsWith("url(")}function Tp(e){return Number.isInteger(Number(e))}function s_(e){return YC.test(e)}function i_(){var e=ge("colors"),t=ge("spacing"),n=ge("blur"),r=ge("brightness"),i=ge("borderColor"),a=ge("borderRadius"),o=ge("borderSpacing"),l=ge("borderWidth"),c=ge("contrast"),u=ge("grayscale"),d=ge("hueRotate"),h=ge("invert"),f=ge("gap"),p=ge("gradientColorStops"),w=ge("gradientColorStopPositions"),g=ge("inset"),y=ge("margin"),x=ge("opacity"),v=ge("padding"),j=ge("saturate"),b=ge("scale"),C=ge("sepia"),E=ge("skew"),_=ge("space"),N=ge("translate"),P=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},U=function(){return["auto",ne,t]},M=function(){return[ne,t]},Z=function(){return["",Wt]},L=function(){return["auto",Br,ne]},S=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},k=function(){return["solid","dashed","dotted","double","none"]},D=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},O=function(){return["","0",ne]},z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},G=function(){return[Br,uo]},ee=function(){return[Br,ne]};return{cacheSize:500,theme:{colors:[ji],spacing:[Wt],blur:["none","",Bn,ne],brightness:G(),borderColor:[e],borderRadius:["none","","full",Bn,ne],borderSpacing:M(),borderWidth:Z(),contrast:G(),grayscale:O(),hueRotate:ee(),invert:O(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[e_,Ed],inset:U(),margin:U(),opacity:G(),padding:M(),saturate:G(),scale:G(),sepia:O(),skew:ee(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[Bn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(S(),[ne])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wi]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",wi]}],"grid-cols":[{"grid-cols":[ji]}],"col-start-end":[{col:["auto",{span:["full",wi]},ne]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[ji]}],"row-start-end":[{row:["auto",{span:[wi]},ne]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ne,t]}],"min-w":[{"min-w":["min","max","fit",ne,Wt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Bn]},Bn,ne]}],h:[{h:[ne,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ne,Wt]}],"max-h":[{"max-h":[ne,t,"min","max","fit"]}],"font-size":[{text:["base",Bn,Ed]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uo]}],"font-family":[{font:[ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",Br,uo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ne,Wt]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(k(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Wt]}],"underline-offset":[{"underline-offset":["auto",ne,Wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(S(),[JC])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(k(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:k()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(k())}],"outline-offset":[{"outline-offset":[ne,Wt]}],"outline-w":[{outline:[Wt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Wt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bn,t_]}],"shadow-color":[{shadow:[ji]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":D()}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bn,ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[wi,ne]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wt,uo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var a_=GC(i_);function ie(...e){return a_(X0(e))}function he(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function kp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ry(...e){return t=>{let n=!1;const r=e.map(i=>{const a=kp(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():kp(e[i],null)}}}}function bt(...e){return m.useCallback(ry(...e),e)}function o_(e,t){const n=m.createContext(t),r=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Pr(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:p,...w}=h,g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,y=m.useMemo(()=>w,Object.values(w));return s.jsx(g.Provider,{value:y,children:p})};u.displayName=a+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,w=m.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,l_(i,...t)]}function l_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ga(e){const t=u_(e),n=m.forwardRef((r,i)=>{const{children:a,...o}=r,l=m.Children.toArray(a),c=l.find(h_);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var c_=ga("Slot");function u_(e){const t=m.forwardRef((n,r)=>{const{children:i,...a}=n;if(m.isValidElement(i)){const o=m_(i),l=f_(a,i.props);return i.type!==m.Fragment&&(l.ref=r?ry(r,o):o),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sy=Symbol("radix.slottable");function d_(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=sy,t}function h_(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sy}function f_(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function m_(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function iy(e){const t=e+"CollectionProvider",[n,r]=Pr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:x}=g,v=X.useRef(null),j=X.useRef(new Map).current;return s.jsx(i,{scope:y,itemMap:j,collectionRef:v,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=ga(l),u=X.forwardRef((g,y)=>{const{scope:x,children:v}=g,j=a(l,x),b=bt(y,j.collectionRef);return s.jsx(c,{ref:b,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=ga(d),p=X.forwardRef((g,y)=>{const{scope:x,children:v,...j}=g,b=X.useRef(null),C=bt(y,b),E=a(d,x);return X.useEffect(()=>(E.itemMap.set(b,{ref:b,...j}),()=>void E.itemMap.delete(b))),s.jsx(f,{[h]:"",ref:C,children:v})});p.displayName=d;function w(g){const y=a(e+"CollectionConsumer",g);return X.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((E,_)=>j.indexOf(E.ref.current)-j.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},w,r]}var p_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=p_.reduce((e,t)=>{const n=ga(`Primitive.${t}`),r=m.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ay(e,t){e&&Yl.flushSync(()=>e.dispatchEvent(t))}function tn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function x_(e,t=globalThis==null?void 0:globalThis.document){const n=tn(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var g_="DismissableLayer",Td="dismissableLayer.update",v_="dismissableLayer.pointerDownOutside",y_="dismissableLayer.focusOutside",Ap,oy=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),df=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(oy),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=bt(t,_=>h(_)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),v=d?g.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=x,C=j_(_=>{const N=_.target,P=[...u.branches].some(R=>R.contains(N));!b||P||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},f),E=b_(_=>{const N=_.target;[...u.branches].some(R=>R.contains(N))||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},f);return x_(_=>{v===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ap=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Rp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ap)}},[d,f,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Rp())},[d,u]),m.useEffect(()=>{const _=()=>p({});return document.addEventListener(Td,_),()=>document.removeEventListener(Td,_)},[]),s.jsx(fe.div,{...c,ref:w,style:{pointerEvents:j?b?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,E.onFocusCapture),onBlurCapture:he(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,C.onPointerDownCapture)})});df.displayName=g_;var w_="DismissableLayerBranch",ly=m.forwardRef((e,t)=>{const n=m.useContext(oy),r=m.useRef(null),i=bt(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(fe.div,{...e,ref:i})});ly.displayName=w_;function j_(e,t=globalThis==null?void 0:globalThis.document){const n=tn(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){cy(v_,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function b_(e,t=globalThis==null?void 0:globalThis.document){const n=tn(e),r=m.useRef(!1);return m.useEffect(()=>{const i=a=>{a.target&&!r.current&&cy(y_,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rp(){const e=new CustomEvent(Td);document.dispatchEvent(e)}function cy(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ay(i,a):i.dispatchEvent(a)}var N_=df,S_=ly,Mn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},C_="Portal",hf=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=m.useState(!1);Mn(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?MS.createPortal(s.jsx(fe.div,{...r,ref:t}),o):null});hf.displayName=C_;function __(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var oi=e=>{const{present:t,children:n}=e,r=P_(t),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=bt(r.ref,E_(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:a}):null};oi.displayName="Presence";function P_(e){const[t,n]=m.useState(),r=m.useRef(null),i=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=__(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=ho(r.current);a.current=l==="mounted"?u:"none"},[l]),Mn(()=>{const u=r.current,d=i.current;if(d!==e){const f=a.current,p=ho(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Mn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=ho(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=p=>{p.target===t&&(a.current=ho(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ho(e){return(e==null?void 0:e.animationName)||"none"}function E_(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var T_=mh[" useInsertionEffect ".trim().toString()]||Mn;function Jl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=k_({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var h;if(l){const f=A_(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else a(d)},[l,e,a,o]);return[c,u]}function k_({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),i=m.useRef(n),a=m.useRef(t);return T_(()=>{a.current=t},[t]),m.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function A_(e){return typeof e=="function"}var R_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),I_="VisuallyHidden",ff=m.forwardRef((e,t)=>s.jsx(fe.span,{...e,ref:t,style:{...R_,...e.style}}));ff.displayName=I_;var mf="ToastProvider",[pf,D_,O_]=iy("Toast"),[uy,HD]=Pr("Toast",[O_]),[L_,Zl]=uy(mf),dy=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mf}\`. Expected non-empty \`string\`.`),s.jsx(pf.Provider,{scope:t,children:s.jsx(L_,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};dy.displayName=mf;var hy="ToastViewport",M_=["F8"],kd="toast.viewportPause",Ad="toast.viewportResume",fy=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=M_,label:i="Notifications ({hotkey})",...a}=e,o=Zl(hy,n),l=D_(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=bt(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const y=x=>{var j;r.length!==0&&r.every(b=>x[b]||x.code===b)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),m.useEffect(()=>{const y=c.current,x=h.current;if(w&&y&&x){const v=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(kd);x.dispatchEvent(E),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Ad);x.dispatchEvent(E),o.isClosePausedRef.current=!1}},b=E=>{!y.contains(E.relatedTarget)&&j()},C=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",v),y.addEventListener("focusout",b),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",C),window.addEventListener("blur",v),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",v),window.removeEventListener("focus",j)}}},[w,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:y})=>{const v=l().map(j=>{const b=j.ref.current,C=[b,...Y_(b)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const y=h.current;if(y){const x=v=>{var C,E,_;const j=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!j){const N=document.activeElement,P=v.shiftKey;if(v.target===y&&P){(C=u.current)==null||C.focus();return}const M=g({tabbingDirection:P?"backwards":"forwards"}),Z=M.findIndex(L=>L===N);Yc(M.slice(Z+1))?v.preventDefault():P?(E=u.current)==null||E.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),s.jsxs(S_,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(Rd,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Yc(y)}}),s.jsx(pf.Slot,{scope:n,children:s.jsx(fe.ol,{tabIndex:-1,...a,ref:f})}),w&&s.jsx(Rd,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Yc(y)}})]})});fy.displayName=hy;var my="ToastFocusProxy",Rd=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Zl(my,n);return s.jsx(ff,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Rd.displayName=my;var Da="Toast",z_="toast.swipeStart",F_="toast.swipeMove",$_="toast.swipeCancel",U_="toast.swipeEnd",py=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=Jl({prop:r,defaultProp:i??!0,onChange:a,caller:Da});return s.jsx(oi,{present:n||l,children:s.jsx(H_,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:tn(e.onPause),onResume:tn(e.onResume),onSwipeStart:he(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:he(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});py.displayName=Da;var[V_,B_]=uy(Da,{onClose(){}}),H_=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...w}=e,g=Zl(Da,n),[y,x]=m.useState(null),v=bt(t,L=>x(L)),j=m.useRef(null),b=m.useRef(null),C=i||g.duration,E=m.useRef(0),_=m.useRef(C),N=m.useRef(0),{onToastAdd:P,onToastRemove:R}=g,U=tn(()=>{var S;(y==null?void 0:y.contains(document.activeElement))&&((S=g.viewport)==null||S.focus()),o()}),M=m.useCallback(L=>{!L||L===1/0||(window.clearTimeout(N.current),E.current=new Date().getTime(),N.current=window.setTimeout(U,L))},[U]);m.useEffect(()=>{const L=g.viewport;if(L){const S=()=>{M(_.current),u==null||u()},k=()=>{const D=new Date().getTime()-E.current;_.current=_.current-D,window.clearTimeout(N.current),c==null||c()};return L.addEventListener(kd,k),L.addEventListener(Ad,S),()=>{L.removeEventListener(kd,k),L.removeEventListener(Ad,S)}}},[g.viewport,C,c,u,M]),m.useEffect(()=>{a&&!g.isClosePausedRef.current&&M(C)},[a,C,g.isClosePausedRef,M]),m.useEffect(()=>(P(),()=>R()),[P,R]);const Z=m.useMemo(()=>y?by(y):null,[y]);return g.viewport?s.jsxs(s.Fragment,{children:[Z&&s.jsx(G_,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),s.jsx(V_,{scope:n,onClose:U,children:Yl.createPortal(s.jsx(pf.ItemSlot,{scope:n,children:s.jsx(N_,{asChild:!0,onEscapeKeyDown:he(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||U(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:he(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:he(e.onPointerDown,L=>{L.button===0&&(j.current={x:L.clientX,y:L.clientY})}),onPointerMove:he(e.onPointerMove,L=>{if(!j.current)return;const S=L.clientX-j.current.x,k=L.clientY-j.current.y,D=!!b.current,A=["left","right"].includes(g.swipeDirection),O=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=A?O(0,S):0,G=A?0:O(0,k),ee=L.pointerType==="touch"?10:2,ue={x:z,y:G},ae={originalEvent:L,delta:ue};D?(b.current=ue,fo(F_,h,ae,{discrete:!1})):Ip(ue,g.swipeDirection,ee)?(b.current=ue,fo(z_,d,ae,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(S)>ee||Math.abs(k)>ee)&&(j.current=null)}),onPointerUp:he(e.onPointerUp,L=>{const S=b.current,k=L.target;if(k.hasPointerCapture(L.pointerId)&&k.releasePointerCapture(L.pointerId),b.current=null,j.current=null,S){const D=L.currentTarget,A={originalEvent:L,delta:S};Ip(S,g.swipeDirection,g.swipeThreshold)?fo(U_,p,A,{discrete:!0}):fo($_,f,A,{discrete:!0}),D.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),G_=e=>{const{__scopeToast:t,children:n,...r}=e,i=Zl(Da,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return q_(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(hf,{asChild:!0,children:s.jsx(ff,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},W_="ToastTitle",xy=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(fe.div,{...r,ref:t})});xy.displayName=W_;var K_="ToastDescription",gy=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(fe.div,{...r,ref:t})});gy.displayName=K_;var vy="ToastAction",yy=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(jy,{altText:n,asChild:!0,children:s.jsx(xf,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${vy}\`. Expected non-empty \`string\`.`),null)});yy.displayName=vy;var wy="ToastClose",xf=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=B_(wy,n);return s.jsx(jy,{asChild:!0,children:s.jsx(fe.button,{type:"button",...r,ref:t,onClick:he(e.onClick,i.onClose)})})});xf.displayName=wy;var jy=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function by(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Q_(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...by(r))}}),t}function fo(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ay(i,a):i.dispatchEvent(a)}var Ip=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function q_(e=()=>{}){const t=tn(e);Mn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Q_(e){return e.nodeType===e.ELEMENT_NODE}function Y_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yc(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var X_=dy,Ny=fy,Sy=py,Cy=xy,_y=gy,Py=yy,Ey=xf;const Dp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Op=X0,ec=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Op(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=Dp(d)||Dp(h);return i[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(w=>{let[g,y]=w;return Array.isArray(y)?y.includes({...a,...l}[g]):{...a,...l}[g]===y})?[...u,h,f]:u},[]);return Op(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};var J_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},u)=>m.createElement("svg",{ref:u,...J_,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${Z_(e)}`,...c},[...t.map(([d,h])=>m.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},eP=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),tP=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),gt=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),$e=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ty=V("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),nP=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),ky=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Xc=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),mo=V("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),rP=V("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),ns=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ay=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),fr=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),As=V("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),zn=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),va=V("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),W=V("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Id=V("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),gf=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Lp=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Dd=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sP=V("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),vf=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),yl=V("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),ya=V("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),wl=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Od=V("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),iP=V("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Vi=V("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Ry=V("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Iy=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Mp=V("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),aP=V("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]),oP=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),lP=V("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),cP=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),wa=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),qr=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ld=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),uP=V("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]),vr=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zp=V("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),tc=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Fe=V("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Md=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),dP=V("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),hP=V("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Bi=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dn=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),zd=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Oa=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),jl=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ja=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Dy=V("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),et=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),fP=V("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Ce=V("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Jc=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),mP=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ba=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Oy=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),pP=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),xP=V("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Ht=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Qr=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),gP=V("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),yf=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Na=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nc=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),vP=X_,Ly=X.forwardRef(({className:e,...t},n)=>s.jsx(Ny,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ly.displayName=Ny.displayName;const yP=ec("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),My=X.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(Sy,{ref:r,className:ie(yP({variant:t}),e),...n}));My.displayName=Sy.displayName;const wP=X.forwardRef(({className:e,...t},n)=>s.jsx(Py,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));wP.displayName=Py.displayName;const zy=X.forwardRef(({className:e,...t},n)=>s.jsx(Ey,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Na,{className:"h-4 w-4"})}));zy.displayName=Ey.displayName;const Fy=X.forwardRef(({className:e,...t},n)=>s.jsx(Cy,{ref:n,className:ie("text-sm font-semibold",e),...t}));Fy.displayName=Cy.displayName;const $y=X.forwardRef(({className:e,...t},n)=>s.jsx(_y,{ref:n,className:ie("text-sm opacity-90",e),...t}));$y.displayName=_y.displayName;const jP=1;let Zc=0;function bP(){return Zc=(Zc+1)%Number.MAX_VALUE,Zc.toString()}const nt={state:{toasts:[]},listeners:[],getState:()=>nt.state,setState:e=>{typeof e=="function"?nt.state=e(nt.state):nt.state={...nt.state,...e},nt.listeners.forEach(t=>t(nt.state))},subscribe:e=>(nt.listeners.push(e),()=>{nt.listeners=nt.listeners.filter(t=>t!==e)})},NP=({...e})=>{const t=bP(),n=i=>nt.setState(a=>({...a,toasts:a.toasts.map(o=>o.id===t?{...o,...i}:o)})),r=()=>nt.setState(i=>({...i,toasts:i.toasts.filter(a=>a.id!==t)}));return nt.setState(i=>({...i,toasts:[{...e,id:t,dismiss:r},...i.toasts].slice(0,jP)})),{id:t,dismiss:r,update:n}};function je(){const[e,t]=m.useState(nt.getState());return m.useEffect(()=>nt.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:NP,toasts:e.toasts}}function SP(){const{toasts:e}=je();return s.jsxs(vP,{children:[e.map(({id:t,title:n,description:r,action:i,...a})=>s.jsxs(My,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(Fy,{children:n}),r&&s.jsx($y,{children:r})]}),i,s.jsx(zy,{})]},t)),s.jsx(Ly,{})]})}const CP="modulepreload",_P=function(e){return"/"+e},Fp={},La=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=_P(a),a in Fp)return;Fp[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":CP,o||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},PP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>La(()=>Promise.resolve().then(()=>za),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class wf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class EP extends wf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $p extends wf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Up extends wf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fd||(Fd={}));var TP=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class kP{constructor(t,{headers:n={},customFetch:r,region:i=Fd.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=PP(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return TP(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(g=>{throw new EP(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new $p(h);if(!h.ok)throw new Up(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield h.json():p==="application/octet-stream"?w=yield h.blob():p==="text/event-stream"?w=h:p==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Up||i instanceof $p?i.context:void 0}}})}}var ft={},jf={},rc={},Ma={},sc={},ic={},AP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Js=AP();const RP=Js.fetch,IP=Js.fetch.bind(Js),DP=Js.Headers,OP=Js.Request,LP=Js.Response,za=Object.freeze(Object.defineProperty({__proto__:null,Headers:DP,Request:OP,Response:LP,default:IP,fetch:RP},Symbol.toStringTag,{value:"Module"})),MP=d1(za);var ac={};Object.defineProperty(ac,"__esModule",{value:!0});let zP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ac.default=zP;var Uy=Ze&&Ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ic,"__esModule",{value:!0});const FP=Uy(MP),$P=Uy(ac);let UP=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=FP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,h=null,f=null,p=a.status,w=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=v:h=JSON.parse(v))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(h=[],d=null,p=200,w="OK")}catch{a.status===404&&y===""?(p=204,w="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,w="OK"),d&&this.shouldThrowOnError)throw new $P.default(d)}return{error:d,data:h,count:f,status:p,statusText:w}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};ic.default=UP;var VP=Ze&&Ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sc,"__esModule",{value:!0});const BP=VP(ic);let HP=class extends BP.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};sc.default=HP;var GP=Ze&&Ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ma,"__esModule",{value:!0});const WP=GP(sc);let KP=class extends WP.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ma.default=KP;var qP=Ze&&Ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rc,"__esModule",{value:!0});const bi=qP(Ma);let QP=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new bi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new bi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new bi.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new bi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new bi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};rc.default=QP;var Vy=Ze&&Ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jf,"__esModule",{value:!0});const YP=Vy(rc),XP=Vy(Ma);let JP=class By{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new YP.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new By(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new XP.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};jf.default=JP;var li=Ze&&Ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const Hy=li(jf);ft.PostgrestClient=Hy.default;const Gy=li(rc);ft.PostgrestQueryBuilder=Gy.default;const Wy=li(Ma);ft.PostgrestFilterBuilder=Wy.default;const Ky=li(sc);ft.PostgrestTransformBuilder=Ky.default;const qy=li(ic);ft.PostgrestBuilder=qy.default;const Qy=li(ac);ft.PostgrestError=Qy.default;var ZP=ft.default={PostgrestClient:Hy.default,PostgrestQueryBuilder:Gy.default,PostgrestFilterBuilder:Wy.default,PostgrestTransformBuilder:Ky.default,PostgrestBuilder:qy.default,PostgrestError:Qy.default};const{PostgrestClient:eE,PostgrestQueryBuilder:YD,PostgrestFilterBuilder:XD,PostgrestTransformBuilder:JD,PostgrestBuilder:ZD,PostgrestError:eO}=ZP;function tE(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const nE=tE(),rE="2.12.1",sE=`realtime-js/${rE}`,iE="1.0.0",Yy=1e4,aE=1e3;var Hi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hi||(Hi={}));var He;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(He||(He={}));var Qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qt||(Qt={}));var $d;(function(e){e.websocket="websocket"})($d||($d={}));var zr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zr||(zr={}));class oE{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Xy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(me||(me={}));const Vp=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=lE(o,e,t,i),a),{})},lE=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?Jy(a,o):Ud(o)},Jy=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return hE(t,n)}switch(e){case me.bool:return cE(t);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return uE(t);case me.json:case me.jsonb:return dE(t);case me.timestamp:return fE(t);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return Ud(t);default:return Ud(t)}},Ud=e=>e,cE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Jy(t,l))}return e},fE=e=>typeof e=="string"?e.replace(" ","T"):e,Zy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class eu{constructor(t,n,r={},i=Yy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bp||(Bp={}));class Gi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gi.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Gi.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gi.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),w=d.filter(y=>p.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);w.length>0&&(l[u]=w),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hp||(Hp={}));var bl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bl||(bl={}));var gn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class bf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new eu(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new Xy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Gi(this),this.broadcastEndpointURL=Zy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[bl.PRESENCE],d={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(gn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t==null||t(gn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,g=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,y=[];for(let x=0;x<g;x++){const v=w[x],{filter:{event:j,schema:b,table:C,filter:E}}=v,_=f&&f[x];if(_&&_.event===j&&_.schema===b&&_.table===C&&_.filter===E)y.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=He.errored,t==null||t(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(gn.SUBSCRIBED);return}}).receive("error",f=>{this.state=He.errored,t==null||t(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===He.joined&&t===bl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=He.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new eu(this,Qt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new eu(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Qt;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var w,g,y;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var w,g,y,x,v,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,C=(w=p.filter)===null||w===void 0?void 0:w.event;return b&&((g=n.ids)===null||g===void 0?void 0:g.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(v=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:g,table:y,commit_timestamp:x,type:v,errors:j}=w;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:v,new:{},old:{},errors:j}),this._getPayloadRecords(w))}p.callback(f,r)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&bf.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Vp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Vp(t.columns,t.old_record)),n}}const Gp=()=>{},mE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pE{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gp,this.ref=0,this.logger=Gp,this.conn=null,this.sendBuffer=[],this.serializer=new oE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>La(()=>Promise.resolve().then(()=>za),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${$d.websocket}`,this.httpEndpoint=Zy(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=nE),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection(),setTimeout(()=>{this.setAuth().catch(t=>{this.log("error","error setting auth",t)})},0)}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iE}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hi.connecting:return zr.Connecting;case Hi.open:return zr.Open;case Hi.closing:return zr.Closing;default:return zr.Closed}}isConnected(){return this.connectionState()===zr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new bf(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:sE};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Qt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(aE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:a,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([mE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Nf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class xE extends Nf{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vd extends Nf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var gE=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ew=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>La(()=>Promise.resolve().then(()=>za),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},vE=()=>gE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield La(()=>Promise.resolve().then(()=>za),void 0)).Response:Response}),Bd=e=>{if(Array.isArray(e))return e.map(n=>Bd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Bd(r)}),t},yE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ls=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const tu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wE=(e,t,n)=>ls(void 0,void 0,void 0,function*(){const r=yield vE();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new xE(tu(i),a,o))}).catch(i=>{t(new Vd(tu(i),i))}):t(new Vd(tu(e),e))}),jE=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(yE(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Fa(e,t,n,r,i,a){return ls(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,jE(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>wE(c,l,r))})})}function Nl(e,t,n,r){return ls(this,void 0,void 0,function*(){return Fa(e,"GET",t,n,r)})}function vn(e,t,n,r,i){return ls(this,void 0,void 0,function*(){return Fa(e,"POST",t,r,i,n)})}function Hd(e,t,n,r,i){return ls(this,void 0,void 0,function*(){return Fa(e,"PUT",t,r,i,n)})}function bE(e,t,n,r){return ls(this,void 0,void 0,function*(){return Fa(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tw(e,t,n,r,i){return ls(this,void 0,void 0,function*(){return Fa(e,"DELETE",t,r,i,n)})}var ct=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const NE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SE{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ew(i)}uploadOrUpdate(t,n,r,i){return ct(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Wp),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?Hd:vn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(Ue(a))return{data:null,error:a};throw a}})}upload(t,n,r){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ct(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Wp.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Hd(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(Ue(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ct(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Nf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}update(t,n,r){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ct(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ct(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield vn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ct(this,void 0,void 0,function*(){try{const i=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}download(t,n){return ct(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Nl(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ue(l))return{data:null,error:l};throw l}})}info(t){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Nl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Bd(r),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}exists(t){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield bE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ue(r)&&r instanceof Vd){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ct(this,void 0,void 0,function*(){try{return{data:yield tw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}list(t,n,r){return ct(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},NE),n),{prefix:t||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const CE="2.10.1",_E={"X-Client-Info":`storage-js/${CE}`};var ms=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class PE{constructor(t,n={},r,i){const a=new URL(t);if(i!=null&&i.useNewHostname){const o=/supabase\.(co|in|red)$/.test(a.hostname),l="/storage";o&&!a.hostname.includes("storage.supabase.")&&a.pathname.startsWith(l)&&(a.pathname=a.pathname.substring(l.length),a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},_E),n),this.fetch=ew(r)}listBuckets(){return ms(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}getBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ms(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ms(this,void 0,void 0,function*(){try{return{data:yield Hd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield tw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}}class EE extends PE{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new SE(this.url,this.headers,t,this.fetch)}}const TE="2.30.0",kE={"X-Client-Info":`supabase-js/${TE}`};var Gd={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ze<"u"&&Ze,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(o){var l=typeof a<"u"&&a||typeof self<"u"&&self||typeof Ze<"u"&&Ze||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(S){return S&&DataView.prototype.isPrototypeOf(S)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(S){return S&&d.indexOf(Object.prototype.toString.call(S))>-1};function f(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function p(S){return typeof S!="string"&&(S=String(S)),S}function w(S){var k={next:function(){var D=S.shift();return{done:D===void 0,value:D}}};return c.iterable&&(k[Symbol.iterator]=function(){return k}),k}function g(S){this.map={},S instanceof g?S.forEach(function(k,D){this.append(D,k)},this):Array.isArray(S)?S.forEach(function(k){if(k.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+k.length);this.append(k[0],k[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(k){this.append(k,S[k])},this)}g.prototype.append=function(S,k){S=f(S),k=p(k);var D=this.map[S];this.map[S]=D?D+", "+k:k},g.prototype.delete=function(S){delete this.map[f(S)]},g.prototype.get=function(S){return S=f(S),this.has(S)?this.map[S]:null},g.prototype.has=function(S){return this.map.hasOwnProperty(f(S))},g.prototype.set=function(S,k){this.map[f(S)]=p(k)},g.prototype.forEach=function(S,k){for(var D in this.map)this.map.hasOwnProperty(D)&&S.call(k,this.map[D],D,this)},g.prototype.keys=function(){var S=[];return this.forEach(function(k,D){S.push(D)}),w(S)},g.prototype.values=function(){var S=[];return this.forEach(function(k){S.push(k)}),w(S)},g.prototype.entries=function(){var S=[];return this.forEach(function(k,D){S.push([D,k])}),w(S)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(S){if(!S._noBody){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}}function x(S){return new Promise(function(k,D){S.onload=function(){k(S.result)},S.onerror=function(){D(S.error)}})}function v(S){var k=new FileReader,D=x(k);return k.readAsArrayBuffer(S),D}function j(S){var k=new FileReader,D=x(k),A=/charset=([A-Za-z0-9_-]+)/.exec(S.type),O=A?A[1]:"utf-8";return k.readAsText(S,O),D}function b(S){for(var k=new Uint8Array(S),D=new Array(k.length),A=0;A<k.length;A++)D[A]=String.fromCharCode(k[A]);return D.join("")}function C(S){if(S.slice)return S.slice(0);var k=new Uint8Array(S.byteLength);return k.set(new Uint8Array(S)),k.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:c.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:c.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():c.arrayBuffer&&c.blob&&u(S)?(this._bodyArrayBuffer=C(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||h(S))?this._bodyArrayBuffer=C(S):this._bodyText=S=Object.prototype.toString.call(S):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var S=y(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=y(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var S=y(this);if(S)return S;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(S){var k=S.toUpperCase();return _.indexOf(k)>-1?k:S}function P(S,k){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');k=k||{};var D=k.body;if(S instanceof P){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,k.headers||(this.headers=new g(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!D&&S._bodyInit!=null&&(D=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=k.credentials||this.credentials||"same-origin",(k.headers||!this.headers)&&(this.headers=new g(k.headers)),this.method=N(k.method||this.method||"GET"),this.mode=k.mode||this.mode||null,this.signal=k.signal||this.signal||function(){if("AbortController"in l){var z=new AbortController;return z.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(k.cache==="no-store"||k.cache==="no-cache")){var A=/([?&])_=[^&]*/;if(A.test(this.url))this.url=this.url.replace(A,"$1_="+new Date().getTime());else{var O=/\?/;this.url+=(O.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function R(S){var k=new FormData;return S.trim().split("&").forEach(function(D){if(D){var A=D.split("="),O=A.shift().replace(/\+/g," "),z=A.join("=").replace(/\+/g," ");k.append(decodeURIComponent(O),decodeURIComponent(z))}}),k}function U(S){var k=new g,D=S.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(A){return A.indexOf(`
`)===0?A.substr(1,A.length):A}).forEach(function(A){var O=A.split(":"),z=O.shift().trim();if(z){var G=O.join(":").trim();try{k.append(z,G)}catch(ee){console.warn("Response "+ee.message)}}}),k}E.call(P.prototype);function M(S,k){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(k||(k={}),this.type="default",this.status=k.status===void 0?200:k.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=k.statusText===void 0?"":""+k.statusText,this.headers=new g(k.headers),this.url=k.url||"",this._initBody(S)}E.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},M.error=function(){var S=new M(null,{status:200,statusText:""});return S.ok=!1,S.status=0,S.type="error",S};var Z=[301,302,303,307,308];M.redirect=function(S,k){if(Z.indexOf(k)===-1)throw new RangeError("Invalid status code");return new M(null,{status:k,headers:{location:S}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(k,D){this.message=k,this.name=D;var A=Error(k);this.stack=A.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function L(S,k){return new Promise(function(D,A){var O=new P(S,k);if(O.signal&&O.signal.aborted)return A(new o.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function G(){z.abort()}z.onload=function(){var ae={statusText:z.statusText,headers:U(z.getAllResponseHeaders()||"")};O.url.indexOf("file://")===0&&(z.status<200||z.status>599)?ae.status=200:ae.status=z.status,ae.url="responseURL"in z?z.responseURL:ae.headers.get("X-Request-URL");var lt="response"in z?z.response:z.responseText;setTimeout(function(){D(new M(lt,ae))},0)},z.onerror=function(){setTimeout(function(){A(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){A(new TypeError("Network request timed out"))},0)},z.onabort=function(){setTimeout(function(){A(new o.DOMException("Aborted","AbortError"))},0)};function ee(ae){try{return ae===""&&l.location.href?l.location.href:ae}catch{return ae}}if(z.open(O.method,ee(O.url),!0),O.credentials==="include"?z.withCredentials=!0:O.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(c.blob?z.responseType="blob":c.arrayBuffer&&(z.responseType="arraybuffer")),k&&typeof k.headers=="object"&&!(k.headers instanceof g||l.Headers&&k.headers instanceof l.Headers)){var ue=[];Object.getOwnPropertyNames(k.headers).forEach(function(ae){ue.push(f(ae)),z.setRequestHeader(ae,p(k.headers[ae]))}),O.headers.forEach(function(ae,lt){ue.indexOf(lt)===-1&&z.setRequestHeader(lt,ae)})}else O.headers.forEach(function(ae,lt){z.setRequestHeader(lt,ae)});O.signal&&(O.signal.addEventListener("abort",G),z.onreadystatechange=function(){z.readyState===4&&O.signal.removeEventListener("abort",G)}),z.send(typeof O._bodyInit>"u"?null:O._bodyInit)})}return L.polyfill=!0,l.fetch||(l.fetch=L,l.Headers=g,l.Request=P,l.Response=M),o.Headers=g,o.Request=P,o.Response=M,o.fetch=L,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(Gd,Gd.exports);var Sf=Gd.exports;const nw=ss(Sf),AE=yg({__proto__:null,default:nw},[Sf]);var RE=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const IE=e=>{let t;return e?t=e:typeof fetch>"u"?t=nw:t=fetch,(...n)=>t(...n)},DE=()=>typeof Headers>"u"?Sf.Headers:Headers,OE=(e,t,n)=>{const r=IE(n),i=DE();return(a,o)=>RE(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};function LE(e){return e.replace(/\/$/,"")}function ME(e,t){const{db:n,auth:r,realtime:i,global:a}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),a)}}function zE(e){return Math.round(Date.now()/1e3)+e}function FE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const pn=()=>typeof document<"u",Ar={tested:!1,writable:!1},Uo=()=>{if(!pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function ut(e,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const rw=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...n)=>await(await La(()=>Promise.resolve().then(()=>AE),void 0)).fetch(...n):t=fetch,(...n)=>t(...n)},$E=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ni=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},po=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nu=async(e,t)=>{await e.removeItem(t)};function UE(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,a,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,i=(l&15)<<4|c>>2,a=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class oc{constructor(){this.promise=new oc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}oc.promiseConstructor=Promise;function Kp(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(UE(r))}function VE(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function BE(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function HE(e){return("0"+e.toString(16)).substr(-2)}function xo(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,HE).join("")}async function GE(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function WE(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await GE(e);return WE(t)}const KE="__stack_guard__",qE="__",QE=/__stack_guard__([a-zA-Z0-9_-]+)__/;let qp=!1,Cf;function Wd(e){var t,n;Cf();let r;try{throw new Error}catch(a){r=a}const i=(n=(t=r.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&n!==void 0?n:[];for(let a=0;a<i.length;a+=1){const l=i[a].match(QE);if(l&&l[1]===e)return!0}return!1}async function Kd(e,t){await Cf();const n=`${KE}${e}${qE}`;return await{[n]:async()=>await t()}[n]()}Cf=async()=>{qp||(qp=!0,await Kd("ENV_CHECK",async()=>{const e=Wd("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class _f extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class YE extends _f{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function XE(e){return re(e)&&e.name==="AuthApiError"}class sw extends _f{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ci extends _f{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ps extends ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class ru extends ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class vo extends ci{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class mn extends ci{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class su extends ci{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qd extends ci{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function Qp(e){return re(e)&&e.name==="AuthRetryableFetchError"}var JE=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ai=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZE=[502,503,504];async function Yp(e){if(!$E(e))throw new qd(Ai(e),0);if(ZE.includes(e.status))throw new qd(Ai(e),e.status);let t;try{t=await e.json()}catch(n){throw new sw(Ai(n),n)}throw new YE(Ai(t),e.status||500)}const eT=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function oe(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await tT(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function tT(e,t,n,r,i,a){const o=eT(t,r,i,a);let l;try{l=await e(n,o)}catch(c){throw console.error(c),new qd(Ai(c),0)}if(l.ok||await Yp(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Yp(c)}}function Hn(e){var t;let n=null;iT(e)&&(n=Object.assign({},e),n.expires_at=zE(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nT(e){return{data:e,error:null}}function rT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=JE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function sT(e){return e}function iT(e){return e.access_token&&e.refresh_token&&e.expires_in}var aT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class oT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=rw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=aT(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(re(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:sT});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}}const lT="2.43.1",cT="http://localhost:9999",uT="supabase.auth.token",dT={"X-Client-Info":`gotrue-js/${lT}`},Xp=10,Jp={getItem:e=>Uo()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Uo()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Uo()&&globalThis.localStorage.removeItem(e)}};function hT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}hT();const fT={url:cT,storageKey:uT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dT,flowType:"implicit",debug:!1},yo=30*1e3,Zp=3;class Sa{constructor(t){var n;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=Sa.nextInstanceID,Sa.nextInstanceID+=1,this.instanceID>0&&pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},fT),t);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||Jp,this.admin=new oT({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=rw(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===Jp&&!Uo()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=Kd("_initialize",async()=>{try{const t=pn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromUrl(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:i,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return re(t)?{error:t}:{error:new sw("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var n,r,i;try{await this._removeSession();let a;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,w=null;if(this.flowType==="pkce"){const g=xo();await Ni(this.storage,`${this.storageKey}-code-verifier`,g),p=await go(g),w=g===p?"plain":"s256"}a=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:Hn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Hn})}else throw new vo("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hn})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hn})}else throw new vo("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ru}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:i})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){const n=await po(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:i}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Hn});return await nu(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ru}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:i})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Hn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ru}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;if(this.flowType==="pkce"){const f=xo();await Ni(this.storage,`${this.storageKey}-code-verifier`,f),u=await go(f),d=f===u?"plain":"s256"}const{error:h}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new vo("You must provide either an email or phone number.")}catch(l){if(re(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:i,error:a}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:Hn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{return await this._removeSession(),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:nT})}catch(a){if(re(a))return{data:null,error:a};throw a}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ps;const{error:i}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new vo("You must provide either an email or phone number and a type")}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await Kd("_useSession",async()=>{const n=await this.__loadSession();return await t(n)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!Wd("_useSession"))throw new Error("Please use #_useSession()");Wd("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const a=await po(this.storage,this.storageKey);this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n)return{data:{session:t},error:null};const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async n=>{var r,i;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0}return await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fr})})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ps;const o=i.session,{data:l,error:c}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:t,jwt:o.access_token,xform:Fr});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Kp(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ps;const n=Date.now()/1e3;let r=n,i=!0,a=null;const o=Kp(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(re(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ps;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromUrl(t){try{if(!pn())throw new mn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new mn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new su("Not a valid PKCE flow url.");if(t){const y=ut("code");if(!y)throw new su("No code detected.");const{data:x,error:v}=await this.exchangeCodeForSession(y);if(v)throw v;if(!x.session)throw new su("No session detected.");let j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const n=ut("error_description");if(n){const y=ut("error_code");if(!y)throw new mn("No error_code detected.");const x=ut("error");throw x?new mn(n,{error:x,code:y}):new mn("No error detected.")}const r=ut("provider_token"),i=ut("provider_refresh_token"),a=ut("access_token");if(!a)throw new mn("No access_token detected.");const o=ut("expires_in");if(!o)throw new mn("No expires_in detected.");const l=ut("refresh_token");if(!l)throw new mn("No refresh_token detected.");const c=ut("token_type");if(!c)throw new mn("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:f}=await this.getUser(a);if(f)throw f;const p=h.user,w={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:parseInt(o),expires_at:d,refresh_token:l,token_type:c,user:p},g=ut("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:w,redirectType:g},error:null}}catch(n){if(re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){return pn()&&(!!ut("access_token")||!!ut("error_description"))}async _isPKCEFlow(){const t=await po(this.storage,`${this.storageKey}-code-verifier`);return!!ut("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(XE(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await nu(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=FE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),this._emitInitialSession(n),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;if(this.flowType==="pkce"){const a=xo();await Ni(this.storage,`${this.storageKey}-code-verifier`,a),r=await go(a),i=a===r?"plain":"s256"}try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(re(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await BE(async i=>(await VE(i*200),this._debug(n,"refreshing attempt",i),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hn})),(i,a,o)=>o&&o.error&&Qp(o.error)&&Date.now()+(i+1)*200-r<yo)}catch(r){if(this._debug(n,"error",r),re(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await po(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+Xp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Xp}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Qp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new oc;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ps;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),re(a)){const o={session:null,error:a};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),Ni(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await nu(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yo}ms, refresh threshold is ${Zp} ticks`),i<=Zp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const i=xo();await Ni(this.storage,`${this.storageKey}-code-verifier`,i);const a=await go(i),o=i===a?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",a,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _verify(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _challenge(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}})}}Sa.nextInstanceID=0;class mT extends Sa{constructor(t){super(t)}}var pT=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const xT={headers:kE},gT={schema:"public"},vT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yT={};class wT{constructor(t,n,r){var i,a,o,l,c,u,d,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=LE(t);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:gT,realtime:yT,auth:Object.assign(Object.assign({},vT),{storageKey:p}),global:xT},g=ME(r??{},w);this.storageKey=(a=(i=g.auth)===null||i===void 0?void 0:i.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=(o=g.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(u=g.global)===null||u===void 0?void 0:u.fetch),this.fetch=OE(n,this._getAccessToken.bind(this),(d=g.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new eE(`${f}/rest/v1`,{headers:this.headers,schema:(h=g.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new kP(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new EE(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return pT(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mT({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,debug:l,fetch:u})}_initRealtimeClient(t){return new pE(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jT=(e,t,n)=>new wT(e,t,n),bT="https://vwswkexklduofykaucql.supabase.co",NT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ3c3drZXhrbGR1b2Z5a2F1Y3FsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNzI0NjAsImV4cCI6MjA2NzY0ODQ2MH0.C0oHcfcYLpyeR9AQqj6zW-ZDXuco6A1RkmBzE-2sffg",Y=jT(bT,NT),iw=m.createContext(),qe=()=>{const e=m.useContext(iw);if(!e)throw new Error("useAuth deve essere usato all'interno di AuthProvider");return e},ST=({children:e})=>{const[t,n]=m.useState(null),[r,i]=m.useState(null),[a,o]=m.useState(!0),l=m.useCallback(async g=>{if(g){const{data:y,error:x}=await Y.from("profiles").select("*").eq("id",g.id).single();return x?(console.error("Error fetching profile:",x),null):y}return null},[]);m.useEffect(()=>{(async()=>{const{data:{session:x}}=await Y.auth.getSession();if(n((x==null?void 0:x.user)??null),x!=null&&x.user){const v=await l(x.user);i(v)}o(!1)})();const{data:y}=Y.auth.onAuthStateChange(async(x,v)=>{if(n((v==null?void 0:v.user)??null),v!=null&&v.user){const j=await l(v.user);i(j)}else i(null);o(!1)});return()=>{y.subscription.unsubscribe()}},[l]);const c=async(g,y)=>{const{error:x}=await Y.auth.signInWithPassword({email:g,password:y});return{success:!x,error:x==null?void 0:x.message}},u=async({name:g,email:y,password:x})=>{const{data:v,error:j}=await Y.auth.signUp({email:y,password:x,options:{data:{full_name:g},emailRedirectTo:`${window.location.origin}/dashboard`}});return{success:!j,error:j==null?void 0:j.message}},d=async()=>{await Y.auth.signOut(),n(null),i(null)},h=async g=>{if(!t)return{error:"User not logged in"};const{data:y,error:x}=await Y.from("profiles").update({...g,updated_at:new Date}).eq("id",t.id).select().single();return x?{error:x.message}:(i(y),{success:!0})},w={user:t,profile:r,loading:a,login:c,register:u,logout:d,updateProfile:h,upgradeToPremium:async()=>h({is_premium:!0}),sendPasswordResetEmail:async g=>{const{error:y}=await Y.auth.resetPasswordForEmail(g,{redirectTo:`${window.location.origin}/password-reset`});return{success:!y,error:y==null?void 0:y.message}}};return s.jsx(iw.Provider,{value:w,children:e})},Si=({children:e})=>{const{user:t,loading:n}=qe();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):t?e:s.jsx(U0,{to:"/login",replace:!0})},aw=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),lc=m.createContext({}),cc=m.createContext(null),uc=typeof document<"u",Pf=uc?m.useLayoutEffect:m.useEffect,ow=m.createContext({strict:!1}),Ef=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),CT="framerAppearId",lw="data-"+Ef(CT);function _T(e,t,n,r){const{visualElement:i}=m.useContext(lc),a=m.useContext(ow),o=m.useContext(cc),l=m.useContext(aw).reducedMotion,c=m.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;m.useInsertionEffect(()=>{u&&u.update(n,o)});const d=m.useRef(!!(n[lw]&&!window.HandoffComplete));return Pf(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Rs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function PT(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Rs(n)&&(n.current=r))},[t])}function Ca(e){return typeof e=="string"||Array.isArray(e)}function dc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kf=["initial",...Tf];function hc(e){return dc(e.animate)||kf.some(t=>Ca(e[t]))}function cw(e){return!!(hc(e)||e.variants)}function ET(e,t){if(hc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ca(n)?n:void 0,animate:Ca(r)?r:void 0}}return e.inherit!==!1?t:{}}function TT(e){const{initial:t,animate:n}=ET(e,m.useContext(lc));return m.useMemo(()=>({initial:t,animate:n}),[ex(t),ex(n)])}function ex(e){return Array.isArray(e)?e.join(" "):e}const tx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_a={};for(const e in tx)_a[e]={isEnabled:t=>tx[e].some(n=>!!t[n])};function kT(e){for(const t in e)_a[t]={..._a[t],...e[t]}}const Af=m.createContext({}),uw=m.createContext({}),AT=Symbol.for("motionComponentSymbol");function RT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&kT(e);function a(l,c){let u;const d={...m.useContext(aw),...l,layoutId:IT(l)},{isStatic:h}=d,f=TT(l),p=r(l,h);if(!h&&uc){f.visualElement=_T(i,p,d,t);const w=m.useContext(uw),g=m.useContext(ow).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,g,e,w))}return m.createElement(lc.Provider,{value:f},u&&f.visualElement?m.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,l,PT(p,f.visualElement,c),p,h,f.visualElement))}const o=m.forwardRef(a);return o[AT]=i,o}function IT({layoutId:e}){const t=m.useContext(Af).id;return t&&e!==void 0?t+"-"+e:e}function DT(e){function t(r,i={}){return RT(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const OT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rf(e){return typeof e!="string"||e.includes("-")?!1:!!(OT.indexOf(e)>-1||/[A-Z]/.test(e))}const Sl={};function LT(e){Object.assign(Sl,e)}const $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cs=new Set($a);function dw(e,{layout:t,layoutId:n}){return cs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sl[e]||e==="opacity")}const Nt=e=>!!(e&&e.getVelocity),MT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zT=$a.length;function FT(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let o=0;o<zT;o++){const l=$a[o];if(e[l]!==void 0){const c=MT[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const hw=e=>t=>typeof t=="string"&&t.startsWith(e),fw=hw("--"),Qd=hw("var(--"),$T=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,UT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,yr=(e,t,n)=>Math.min(Math.max(n,e),t),us={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wi={...us,transform:e=>yr(0,1,e)},wo={...us,default:1},Ki=e=>Math.round(e*1e5)/1e5,fc=/(-)?([\d]*\.?[\d])+/g,mw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,VT=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ua(e){return typeof e=="string"}const Va=e=>({test:t=>Ua(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gn=Va("deg"),un=Va("%"),Q=Va("px"),BT=Va("vh"),HT=Va("vw"),nx={...un,parse:e=>un.parse(e)/100,transform:e=>un.transform(e*100)},rx={...us,transform:Math.round},pw={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:Gn,rotateX:Gn,rotateY:Gn,rotateZ:Gn,scale:wo,scaleX:wo,scaleY:wo,scaleZ:wo,skew:Gn,skewX:Gn,skewY:Gn,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:Wi,originX:nx,originY:nx,originZ:Q,zIndex:rx,fillOpacity:Wi,strokeOpacity:Wi,numOctaves:rx};function If(e,t,n,r){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(fw(h)){a[h]=f;continue}const p=pw[h],w=UT(f,p);if(cs.has(h)){if(c=!0,o[h]=w,!d)continue;f!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=w):i[h]=w}if(t.transform||(c||r?i.transform=FT(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=l;i.transformOrigin=`${h} ${f} ${p}`}}const Df=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xw(e,t,n){for(const r in t)!Nt(t[r])&&!dw(r,n)&&(e[r]=t[r])}function GT({transformTemplate:e},t,n){return m.useMemo(()=>{const r=Df();return If(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function WT(e,t,n){const r=e.style||{},i={};return xw(i,r,e),Object.assign(i,GT(e,t,n)),e.transformValues?e.transformValues(i):i}function KT(e,t,n){const r={},i=WT(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const qT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qT.has(e)}let gw=e=>!Cl(e);function QT(e){e&&(gw=t=>t.startsWith("on")?!Cl(t):e(t))}try{QT(require("@emotion/is-prop-valid").default)}catch{}function YT(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(gw(i)||n===!0&&Cl(i)||!t&&!Cl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function sx(e,t,n){return typeof e=="string"?e:Q.transform(t+n*e)}function XT(e,t,n){const r=sx(t,e.x,e.width),i=sx(n,e.y,e.height);return`${r} ${i}`}const JT={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZT={offset:"strokeDashoffset",array:"strokeDasharray"};function ek(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?JT:ZT;e[a.offset]=Q.transform(-r);const o=Q.transform(t),l=Q.transform(n);e[a.array]=`${o} ${l}`}function Of(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(If(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:g}=e;p.transform&&(g&&(w.transform=p.transform),delete p.transform),g&&(i!==void 0||a!==void 0||w.transform)&&(w.transformOrigin=XT(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&ek(p,o,l,c,!1)}const vw=()=>({...Df(),attrs:{}}),Lf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tk(e,t,n,r){const i=m.useMemo(()=>{const a=vw();return Of(a,t,{enableHardwareAcceleration:!1},Lf(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};xw(a,e.style,e),i.style={...a,...i.style}}return i}function nk(e=!1){return(n,r,i,{latestValues:a},o)=>{const c=(Rf(n)?tk:KT)(r,a,o,n),d={...YT(r,typeof n=="string",e),...c,ref:i},{children:h}=r,f=m.useMemo(()=>Nt(h)?h.get():h,[h]);return m.createElement(n,{...d,children:f})}}function yw(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const ww=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jw(e,t,n,r){yw(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ww.has(i)?i:Ef(i),t.attrs[i])}function Mf(e,t){const{style:n}=e,r={};for(const i in n)(Nt(n[i])||t.style&&Nt(t.style[i])||dw(i,e))&&(r[i]=n[i]);return r}function bw(e,t){const n=Mf(e,t);for(const r in e)if(Nt(e[r])||Nt(t[r])){const i=$a.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function zf(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Nw(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const _l=e=>Array.isArray(e),rk=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),sk=e=>_l(e)?e[e.length-1]||0:e;function Vo(e){const t=Nt(e)?e.get():e;return rk(t)?t.toValue():t}function ik({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const o={latestValues:ak(r,i,a,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const Sw=e=>(t,n)=>{const r=m.useContext(lc),i=m.useContext(cc),a=()=>ik(e,t,r,i);return n?a():Nw(a)};function ak(e,t,n,r){const i={},a=r(e,{});for(const f in a)i[f]=Vo(a[f]);let{initial:o,animate:l}=e;const c=hc(e),u=cw(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!dc(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const w=zf(e,p);if(!w)return;const{transitionEnd:g,transition:y,...x}=w;for(const v in x){let j=x[v];if(Array.isArray(j)){const b=d?j.length-1:0;j=j[b]}j!==null&&(i[v]=j)}for(const v in g)i[v]=g[v]}),i}const Re=e=>e;class ix{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ok(e){let t=new ix,n=new ix,r=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&i,f=h?t:n;return u&&o.add(c),f.add(c)&&h&&i&&(r=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const jo=["prepare","read","update","preRender","render","postRender"],lk=40;function ck(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=jo.reduce((h,f)=>(h[f]=ok(()=>n=!0),h),{}),o=h=>a[h].process(i),l=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,lk),1),i.timestamp=h,i.isProcessing=!0,jo.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,i.isProcessing||e(l)};return{schedule:jo.reduce((h,f)=>{const p=a[f];return h[f]=(w,g=!1,y=!1)=>(n||c(),p.schedule(w,g,y)),h},{}),cancel:h=>jo.forEach(f=>a[f].cancel(h)),state:i,steps:a}}const{schedule:xe,cancel:Fn,state:Xe,steps:iu}=ck(typeof requestAnimationFrame<"u"?requestAnimationFrame:Re,!0),uk={useVisualState:Sw({scrapeMotionValuesFromProps:bw,createRenderState:vw,onMount:(e,t,{renderState:n,latestValues:r})=>{xe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),xe.render(()=>{Of(n,r,{enableHardwareAcceleration:!1},Lf(t.tagName),e.transformTemplate),jw(t,n)})}})},dk={useVisualState:Sw({scrapeMotionValuesFromProps:Mf,createRenderState:Df})};function hk(e,{forwardMotionProps:t=!1},n,r){return{...Rf(e)?uk:dk,preloadedFeatures:n,useRender:nk(t),createVisualElement:r,Component:e}}function bn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Cw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function mc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const fk=e=>t=>Cw(t)&&e(t,mc(t));function An(e,t,n,r){return bn(e,t,fk(n),r)}const mk=(e,t)=>n=>t(e(n)),mr=(...e)=>e.reduce(mk);function _w(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const ax=_w("dragHorizontal"),ox=_w("dragVertical");function Pw(e){let t=!1;if(e==="y")t=ox();else if(e==="x")t=ax();else{const n=ax(),r=ox();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Ew(){const e=Pw(!0);return e?(e(),!1):!0}class Er{constructor(t){this.isMounted=!1,this.node=t}update(){}}function lx(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||Ew())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&xe.update(()=>l[r](a,o))};return An(e.current,n,i,{passive:!e.getProps()[r]})}class pk extends Er{mount(){this.unmount=mr(lx(this.node,!0),lx(this.node,!1))}unmount(){}}class xk extends Er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mr(bn(this.node.current,"focus",()=>this.onFocus()),bn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Tw=(e,t)=>t?e===t?!0:Tw(e,t.parentElement):!1;function au(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,mc(n))}class gk extends Er{constructor(){super(...arguments),this.removeStartListeners=Re,this.removeEndListeners=Re,this.removeAccessibleListeners=Re,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=An(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();xe.update(()=>{!h&&!Tw(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=An(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mr(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||au("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&xe.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=bn(this.node.current,"keyup",o),au("down",(l,c)=>{this.startPress(l,c)})},n=bn(this.node.current,"keydown",t),r=()=>{this.isPressing&&au("cancel",(a,o)=>this.cancelPress(a,o))},i=bn(this.node.current,"blur",r);this.removeAccessibleListeners=mr(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&xe.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ew()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&xe.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=An(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=bn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Yd=new WeakMap,ou=new WeakMap,vk=e=>{const t=Yd.get(e.target);t&&t(e)},yk=e=>{e.forEach(vk)};function wk({root:e,...t}){const n=e||document;ou.has(n)||ou.set(n,{});const r=ou.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(yk,{root:e,...t})),r[i]}function jk(e,t,n){const r=wk(t);return Yd.set(e,n),r.observe(e),()=>{Yd.delete(e),r.unobserve(e)}}const bk={some:0,all:1};class Nk extends Er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:bk[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return jk(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Sk(t,n))&&this.startObserver()}unmount(){}}function Sk({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ck={inView:{Feature:Nk},tap:{Feature:gk},focus:{Feature:xk},hover:{Feature:pk}};function kw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _k(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Pk(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function pc(e,t,n){const r=e.getProps();return zf(r,t,n!==void 0?n:r.custom,_k(e),Pk(e))}let Ek=Re,Ff=Re;const pr=e=>e*1e3,Rn=e=>e/1e3,Tk={current:!1},Aw=e=>Array.isArray(e)&&typeof e[0]=="number";function Rw(e){return!!(!e||typeof e=="string"&&Iw[e]||Aw(e)||Array.isArray(e)&&e.every(Rw))}const Ri=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Iw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ri([0,.65,.55,1]),circOut:Ri([.55,0,1,.45]),backIn:Ri([.31,.01,.66,-.59]),backOut:Ri([.33,1.53,.69,.99])};function Dw(e){if(e)return Aw(e)?Ri(e):Array.isArray(e)?e.map(Dw):Iw[e]}function kk(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=Dw(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function Ak(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Ow=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Rk=1e-7,Ik=12;function Dk(e,t,n,r,i){let a,o,l=0;do o=t+(n-t)/2,a=Ow(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Rk&&++l<Ik);return o}function Ba(e,t,n,r){if(e===t&&n===r)return Re;const i=a=>Dk(a,0,1,e,n);return a=>a===0||a===1?a:Ow(i(a),t,r)}const Ok=Ba(.42,0,1,1),Lk=Ba(0,0,.58,1),Lw=Ba(.42,0,.58,1),Mk=e=>Array.isArray(e)&&typeof e[0]!="number",Mw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zw=e=>t=>1-e(1-t),$f=e=>1-Math.sin(Math.acos(e)),Fw=zw($f),zk=Mw($f),$w=Ba(.33,1.53,.69,.99),Uf=zw($w),Fk=Mw(Uf),$k=e=>(e*=2)<1?.5*Uf(e):.5*(2-Math.pow(2,-10*(e-1))),Uk={linear:Re,easeIn:Ok,easeInOut:Lw,easeOut:Lk,circIn:$f,circInOut:zk,circOut:Fw,backIn:Uf,backInOut:Fk,backOut:$w,anticipate:$k},cx=e=>{if(Array.isArray(e)){Ff(e.length===4);const[t,n,r,i]=e;return Ba(t,n,r,i)}else if(typeof e=="string")return Uk[e];return e},Vf=(e,t)=>n=>!!(Ua(n)&&VT.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Uw=(e,t,n)=>r=>{if(!Ua(r))return r;const[i,a,o,l]=r.match(fc);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Vk=e=>yr(0,255,e),lu={...us,transform:e=>Math.round(Vk(e))},Hr={test:Vf("rgb","red"),parse:Uw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+lu.transform(e)+", "+lu.transform(t)+", "+lu.transform(n)+", "+Ki(Wi.transform(r))+")"};function Bk(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Xd={test:Vf("#"),parse:Bk,transform:Hr.transform},Is={test:Vf("hsl","hue"),parse:Uw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+un.transform(Ki(t))+", "+un.transform(Ki(n))+", "+Ki(Wi.transform(r))+")"},rt={test:e=>Hr.test(e)||Xd.test(e)||Is.test(e),parse:e=>Hr.test(e)?Hr.parse(e):Is.test(e)?Is.parse(e):Xd.parse(e),transform:e=>Ua(e)?e:e.hasOwnProperty("red")?Hr.transform(e):Is.transform(e)},Ee=(e,t,n)=>-n*e+n*t+e;function cu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Hk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=cu(c,l,e+1/3),a=cu(c,l,e),o=cu(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const uu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Gk=[Xd,Hr,Is],Wk=e=>Gk.find(t=>t.test(e));function ux(e){const t=Wk(e);let n=t.parse(e);return t===Is&&(n=Hk(n)),n}const Vw=(e,t)=>{const n=ux(e),r=ux(t),i={...n};return a=>(i.red=uu(n.red,r.red,a),i.green=uu(n.green,r.green,a),i.blue=uu(n.blue,r.blue,a),i.alpha=Ee(n.alpha,r.alpha,a),Hr.transform(i))};function Kk(e){var t,n;return isNaN(e)&&Ua(e)&&(((t=e.match(fc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(mw))===null||n===void 0?void 0:n.length)||0)>0}const Bw={regex:$T,countKey:"Vars",token:"${v}",parse:Re},Hw={regex:mw,countKey:"Colors",token:"${c}",parse:rt.parse},Gw={regex:fc,countKey:"Numbers",token:"${n}",parse:us.parse};function du(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function Pl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&du(n,Bw),du(n,Hw),du(n,Gw),n}function Ww(e){return Pl(e).values}function Kw(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Pl(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<r?l=l.replace(Bw.token,o[c]):c<r+n?l=l.replace(Hw.token,rt.transform(o[c])):l=l.replace(Gw.token,Ki(o[c]));return l}}const qk=e=>typeof e=="number"?0:e;function Qk(e){const t=Ww(e);return Kw(e)(t.map(qk))}const wr={test:Kk,parse:Ww,createTransformer:Kw,getAnimatableNone:Qk},qw=(e,t)=>n=>`${n>0?t:e}`;function Qw(e,t){return typeof e=="number"?n=>Ee(e,t,n):rt.test(e)?Vw(e,t):e.startsWith("var(")?qw(e,t):Xw(e,t)}const Yw=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,o)=>Qw(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}},Yk=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Qw(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},Xw=(e,t)=>{const n=wr.createTransformer(t),r=Pl(e),i=Pl(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?mr(Yw(r.values,i.values),n):qw(e,t)},Pa=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},dx=(e,t)=>n=>Ee(e,t,n);function Xk(e){return typeof e=="number"?dx:typeof e=="string"?rt.test(e)?Vw:Xw:Array.isArray(e)?Yw:typeof e=="object"?Yk:dx}function Jk(e,t,n){const r=[],i=n||Xk(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Re:t;l=mr(c,l)}r.push(l)}return r}function Jw(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(Ff(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Jk(t,r,i),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Pa(e[d],e[d+1],u);return o[d](h)};return n?u=>c(yr(e[0],e[a-1],u)):c}function Zk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Pa(0,t,r);e.push(Ee(n,1,i))}}function e4(e){const t=[0];return Zk(t,e.length-1),t}function t4(e,t){return e.map(n=>n*t)}function n4(e,t){return e.map(()=>t||Lw).splice(0,e.length-1)}function El({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Mk(r)?r.map(cx):cx(r),a={done:!1,value:t[0]},o=t4(n&&n.length===t.length?n:e4(t),e),l=Jw(o,t,{ease:Array.isArray(i)?i:n4(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function Zw(e,t){return t?e*(1e3/t):0}const r4=5;function ej(e,t,n){const r=Math.max(t-r4,0);return Zw(n-e(r),t-r)}const hu=.001,s4=.01,hx=10,i4=.05,a4=1;function o4({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;Ek(e<=pr(hx));let o=1-t;o=yr(i4,a4,o),e=yr(s4,hx,Rn(e)),o<1?(i=u=>{const d=u*o,h=d*e,f=d-n,p=Jd(u,o),w=Math.exp(-h);return hu-f/p*w},a=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-h),g=Jd(Math.pow(u,2),o);return(-i(u)+hu>0?-1:1)*((f-p)*w)/g}):(i=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-hu+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=c4(i,a,l);if(e=pr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const l4=12;function c4(e,t,n){let r=n;for(let i=1;i<l4;i++)r=r-e(r)/t(r);return r}function Jd(e,t){return e*Math.sqrt(1-t*t)}const u4=["duration","bounce"],d4=["stiffness","damping","mass"];function fx(e,t){return t.some(n=>e[n]!==void 0)}function h4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!fx(e,d4)&&fx(e,u4)){const n=o4(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function tj({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=h4({...r,velocity:-Rn(r.velocity||0)}),p=h||0,w=c/(2*Math.sqrt(l*u)),g=a-i,y=Rn(Math.sqrt(l/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let v;if(w<1){const j=Jd(y,w);v=b=>{const C=Math.exp(-w*y*b);return a-C*((p+w*y*g)/j*Math.sin(j*b)+g*Math.cos(j*b))}}else if(w===1)v=j=>a-Math.exp(-y*j)*(g+(p+y*g)*j);else{const j=y*Math.sqrt(w*w-1);v=b=>{const C=Math.exp(-w*y*b),E=Math.min(j*b,300);return a-C*((p+w*y*g)*Math.sinh(E)+j*g*Math.cosh(E))/j}}return{calculatedDuration:f&&d||null,next:j=>{const b=v(j);if(f)o.done=j>=d;else{let C=p;j!==0&&(w<1?C=ej(v,j,b):C=0);const E=Math.abs(C)<=n,_=Math.abs(a-b)<=t;o.done=E&&_}return o.value=o.done?a:b,o}}}function mx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=N=>l!==void 0&&N<l||c!==void 0&&N>c,w=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let g=n*t;const y=h+g,x=o===void 0?y:o(y);x!==y&&(g=x-h);const v=N=>-g*Math.exp(-N/r),j=N=>x+v(N),b=N=>{const P=v(N),R=j(N);f.done=Math.abs(P)<=u,f.value=f.done?x:R};let C,E;const _=N=>{p(f.value)&&(C=N,E=tj({keyframes:[f.value,w(f.value)],velocity:ej(j,N,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:N=>{let P=!1;return!E&&C===void 0&&(P=!0,b(N),_(N)),C!==void 0&&N>C?E.next(N-C):(!P&&b(N),f)}}}const f4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>xe.update(t,!0),stop:()=>Fn(t),now:()=>Xe.isProcessing?Xe.timestamp:performance.now()}},px=2e4;function xx(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<px;)t+=n,r=e.next(t);return t>=px?1/0:t}const m4={decay:mx,inertia:mx,tween:El,keyframes:El,spring:tj};function Tl({autoplay:e=!0,delay:t=0,driver:n=f4,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let p=1,w=!1,g,y;const x=()=>{y=new Promise(G=>{g=G})};x();let v;const j=m4[i]||El;let b;j!==El&&typeof r[0]!="number"&&(b=Jw([0,100],r,{clamp:!1}),r=[0,100]);const C=j({...f,keyframes:r});let E;l==="mirror"&&(E=j({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let _="idle",N=null,P=null,R=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=xx(C));const{calculatedDuration:U}=C;let M=1/0,Z=1/0;U!==null&&(M=U+o,Z=M*(a+1)-o);let L=0;const S=G=>{if(P===null)return;p>0&&(P=Math.min(P,G)),p<0&&(P=Math.min(G-Z/p,P)),N!==null?L=N:L=Math.round(G-P)*p;const ee=L-t*(p>=0?1:-1),ue=p>=0?ee<0:ee>Z;L=Math.max(ee,0),_==="finished"&&N===null&&(L=Z);let ae=L,lt=C;if(a){const jc=Math.min(L,Z)/M;let Wa=Math.floor(jc),kr=jc%1;!kr&&jc>=1&&(kr=1),kr===1&&Wa--,Wa=Math.min(Wa,a+1),!!(Wa%2)&&(l==="reverse"?(kr=1-kr,o&&(kr-=o/M)):l==="mirror"&&(lt=E)),ae=yr(0,1,kr)*M}const St=ue?{done:!1,value:r[0]}:lt.next(ae);b&&(St.value=b(St.value));let{done:Tr}=St;!ue&&U!==null&&(Tr=p>=0?L>=Z:L<=0);const u1=N===null&&(_==="finished"||_==="running"&&Tr);return h&&h(St.value),u1&&A(),St},k=()=>{v&&v.stop(),v=void 0},D=()=>{_="idle",k(),g(),x(),P=R=null},A=()=>{_="finished",d&&d(),k(),g()},O=()=>{if(w)return;v||(v=n(S));const G=v.now();c&&c(),N!==null?P=G-N:(!P||_==="finished")&&(P=G),_==="finished"&&x(),R=P,N=null,_="running",v.start()};e&&O();const z={then(G,ee){return y.then(G,ee)},get time(){return Rn(L)},set time(G){G=pr(G),L=G,N!==null||!v||p===0?N=G:P=v.now()-G/p},get duration(){const G=C.calculatedDuration===null?xx(C):C.calculatedDuration;return Rn(G)},get speed(){return p},set speed(G){G===p||!v||(p=G,z.time=Rn(L))},get state(){return _},play:O,pause:()=>{_="paused",N=L},stop:()=>{w=!0,_!=="idle"&&(_="idle",u&&u(),D())},cancel:()=>{R!==null&&S(R),D()},complete:()=>{_="finished"},sample:G=>(P=0,S(G))};return z}function p4(e){let t;return()=>(t===void 0&&(t=e()),t)}const x4=p4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),g4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),bo=10,v4=2e4,y4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Rw(t.ease);function w4(e,t,{onUpdate:n,onComplete:r,...i}){if(!(x4()&&g4.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(j=>{l=j})};d();let{keyframes:h,duration:f=300,ease:p,times:w}=i;if(y4(t,i)){const j=Tl({...i,repeat:0,delay:0});let b={done:!1,value:h[0]};const C=[];let E=0;for(;!b.done&&E<v4;)b=j.sample(E),C.push(b.value),E+=bo;w=void 0,h=C,f=E-bo,p="linear"}const g=kk(e.owner.current,t,h,{...i,duration:f,ease:p,times:w}),y=()=>{u=!1,g.cancel()},x=()=>{u=!0,xe.update(y),l(),d()};return g.onfinish=()=>{u||(e.set(Ak(h,i)),r&&r(),x())},{then(j,b){return c.then(j,b)},attachTimeline(j){return g.timeline=j,g.onfinish=null,Re},get time(){return Rn(g.currentTime||0)},set time(j){g.currentTime=pr(j)},get speed(){return g.playbackRate},set speed(j){g.playbackRate=j},get duration(){return Rn(f)},play:()=>{o||(g.play(),Fn(y))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:j}=g;if(j){const b=Tl({...i,autoplay:!1});e.setWithVelocity(b.sample(j-bo).value,b.sample(j).value,bo)}x()},complete:()=>{u||g.finish()},cancel:x}}function j4({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Re,pause:Re,stop:Re,then:a=>(a(),Promise.resolve()),cancel:Re,complete:Re});return t?Tl({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const b4={type:"spring",stiffness:500,damping:25,restSpeed:10},N4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S4={type:"keyframes",duration:.8},C4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_4=(e,{keyframes:t})=>t.length>2?S4:cs.has(e)?e.startsWith("scale")?N4(t[1]):b4:C4,Zd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wr.test(t)||t==="0")&&!t.startsWith("url(")),P4=new Set(["brightness","contrast","saturate","opacity"]);function E4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(fc)||[];if(!r)return e;const i=n.replace(r,"");let a=P4.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const T4=/([a-z-]*)\(.*?\)/g,eh={...wr,getAnimatableNone:e=>{const t=e.match(T4);return t?t.map(E4).join(" "):e}},k4={...pw,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:eh,WebkitFilter:eh},Bf=e=>k4[e];function nj(e,t){let n=Bf(e);return n!==eh&&(n=wr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const rj=e=>/^0[^.\s]+$/.test(e);function A4(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||rj(e)}function R4(e,t,n,r){const i=Zd(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),A4(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=nj(t,l)}return a}function I4({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Hf(e,t){return e[t]||e.default||e}const D4={skipAnimations:!1},Gf=(e,t,n,r={})=>i=>{const a=Hf(r,e)||{},o=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-pr(o);const c=R4(t,e,n,a),u=c[0],d=c[c.length-1],h=Zd(e,u),f=Zd(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:w=>{t.set(w),a.onUpdate&&a.onUpdate(w)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(I4(a)||(p={...p,..._4(e,p)}),p.duration&&(p.duration=pr(p.duration)),p.repeatDelay&&(p.repeatDelay=pr(p.repeatDelay)),!h||!f||Tk.current||a.type===!1||D4.skipAnimations)return j4(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=w4(t,e,p);if(w)return w}return Tl(p)};function kl(e){return!!(Nt(e)&&e.add)}const sj=e=>/^\-?\d*\.?\d+$/.test(e);function Wf(e,t){e.indexOf(t)===-1&&e.push(t)}function Kf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class qf{constructor(){this.subscriptions=[]}add(t){return Wf(this.subscriptions,t),()=>Kf(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const O4=e=>!isNaN(parseFloat(e));class L4{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:o}=Xe;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=O4(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new qf);const r=this.events[t].add(n);return t==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Zw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zs(e,t){return new L4(e,t)}const ij=e=>t=>t.test(e),M4={test:e=>e==="auto",parse:e=>e},aj=[us,Q,un,Gn,HT,BT,M4],Ci=e=>aj.find(ij(e)),z4=[...aj,rt,wr],F4=e=>z4.find(ij(e));function $4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zs(n))}function U4(e,t){const n=pc(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const o in a){const l=sk(a[o]);$4(e,o,l)}}function V4(e,t,n){var r,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&i!==void 0?i:t[c]),d!=null&&(typeof d=="string"&&(sj(d)||rj(d))?d=parseFloat(d):!F4(d)&&wr.test(u)&&(d=nj(c,u)),e.addValue(c,Zs(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function B4(e,t){return t?(t[e]||t.default||t).from:void 0}function H4(e,t,n){const r={};for(const i in e){const a=B4(i,t);if(a!==void 0)r[i]=a;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function G4({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function W4(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function oj(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const f=e.getValue(h),p=l[h];if(!f||p===void 0||d&&G4(d,h))continue;const w={delay:n,elapsed:0,...Hf(a||{},h)};if(window.HandoffAppearAnimations){const x=e.getProps()[lw];if(x){const v=window.HandoffAppearAnimations(x,h,f,xe);v!==null&&(w.elapsed=v,w.isHandoff=!0)}}let g=!w.isHandoff&&!W4(f,p);if(w.type==="spring"&&(f.getVelocity()||w.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(Gf(h,f,p,e.shouldReduceMotion&&cs.has(h)?{type:!1}:w));const y=f.animation;kl(c)&&(c.add(h),y.then(()=>c.remove(h))),u.push(y)}return o&&Promise.all(u).then(()=>{o&&U4(e,o)}),u}function th(e,t,n={}){const r=pc(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(oj(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return K4(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function K4(e,t,n=0,r=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(q4).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(th(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function q4(e,t){return e.sortNodePosition(t)}function Q4(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>th(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=th(e,t,n);else{const i=typeof t=="function"?pc(e,t,n.custom):t;r=Promise.all(oj(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Y4=[...Tf].reverse(),X4=Tf.length;function J4(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Q4(e,n,r)))}function Z4(e){let t=J4(e);const n=tA();let r=!0;const i=(c,u)=>{const d=pc(e,u);if(d){const{transition:h,transitionEnd:f,...p}=d;c={...c,...p,...f}}return c};function a(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],p=new Set;let w={},g=1/0;for(let x=0;x<X4;x++){const v=Y4[x],j=n[v],b=d[v]!==void 0?d[v]:h[v],C=Ca(b),E=v===u?j.isActive:null;E===!1&&(g=x);let _=b===h[v]&&b!==d[v]&&C;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),j.protectedKeys={...w},!j.isActive&&E===null||!b&&!j.prevProp||dc(b)||typeof b=="boolean")continue;let P=eA(j.prevProp,b)||v===u&&j.isActive&&!_&&C||x>g&&C,R=!1;const U=Array.isArray(b)?b:[b];let M=U.reduce(i,{});E===!1&&(M={});const{prevResolvedValues:Z={}}=j,L={...Z,...M},S=k=>{P=!0,p.has(k)&&(R=!0,p.delete(k)),j.needsAnimating[k]=!0};for(const k in L){const D=M[k],A=Z[k];if(w.hasOwnProperty(k))continue;let O=!1;_l(D)&&_l(A)?O=!kw(D,A):O=D!==A,O?D!==void 0?S(k):p.add(k):D!==void 0&&p.has(k)?S(k):j.protectedKeys[k]=!0}j.prevProp=b,j.prevResolvedValues=M,j.isActive&&(w={...w,...M}),r&&e.blockInitialAnimation&&(P=!1),P&&(!_||R)&&f.push(...U.map(k=>({animation:k,options:{type:v,...c}})))}if(p.size){const x={};p.forEach(v=>{const j=e.getBaseTarget(v);j!==void 0&&(x[v]=j)}),f.push({animation:x})}let y=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function l(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const f=o(d,c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function eA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kw(t,e):!1}function Rr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tA(){return{animate:Rr(!0),whileInView:Rr(),whileHover:Rr(),whileTap:Rr(),whileDrag:Rr(),whileFocus:Rr(),exit:Rr()}}class nA extends Er{constructor(t){super(t),t.animationState||(t.animationState=Z4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),dc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let rA=0;class sA extends Er{constructor(){super(...arguments),this.id=rA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const iA={animation:{Feature:nA},exit:{Feature:sA}},gx=(e,t)=>Math.abs(e-t);function aA(e,t){const n=gx(e.x,t.x),r=gx(e.y,t.y);return Math.sqrt(n**2+r**2)}class lj{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=mu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=aA(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:w}=h,{timestamp:g}=Xe;this.history.push({...w,timestamp:g});const{onStart:y,onMove:x}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=fu(f,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=mu(h.type==="pointercancel"?this.lastMoveEventInfo:fu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),w&&w(h,y)},!Cw(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=mc(t),l=fu(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Xe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,mu(l,this.history)),this.removeListeners=mr(An(this.contextWindow,"pointermove",this.handlePointerMove),An(this.contextWindow,"pointerup",this.handlePointerUp),An(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fn(this.updatePoint)}}function fu(e,t){return t?{point:t(e.point)}:e}function vx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mu({point:e},t){return{point:e,delta:vx(e,cj(t)),offset:vx(e,oA(t)),velocity:lA(t,.1)}}function oA(e){return e[0]}function cj(e){return e[e.length-1]}function lA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=cj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>pr(t)));)n--;if(!r)return{x:0,y:0};const a=Rn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function At(e){return e.max-e.min}function nh(e,t=0,n=.01){return Math.abs(e-t)<=n}function yx(e,t,n,r=.5){e.origin=r,e.originPoint=Ee(t.min,t.max,e.origin),e.scale=At(n)/At(t),(nh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ee(n.min,n.max,e.origin)-e.originPoint,(nh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function qi(e,t,n,r){yx(e.x,t.x,n.x,r?r.originX:void 0),yx(e.y,t.y,n.y,r?r.originY:void 0)}function wx(e,t,n){e.min=n.min+t.min,e.max=e.min+At(t)}function cA(e,t,n){wx(e.x,t.x,n.x),wx(e.y,t.y,n.y)}function jx(e,t,n){e.min=t.min-n.min,e.max=e.min+At(t)}function Qi(e,t,n){jx(e.x,t.x,n.x),jx(e.y,t.y,n.y)}function uA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ee(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ee(n,e,r.max):Math.min(e,n)),e}function bx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function dA(e,{top:t,left:n,bottom:r,right:i}){return{x:bx(e.x,n,i),y:bx(e.y,t,r)}}function Nx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hA(e,t){return{x:Nx(e.x,t.x),y:Nx(e.y,t.y)}}function fA(e,t){let n=.5;const r=At(e),i=At(t);return i>r?n=Pa(t.min,t.max-r,e.min):r>i&&(n=Pa(e.min,e.max-i,t.min)),yr(0,1,n)}function mA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const rh=.35;function pA(e=rh){return e===!1?e=0:e===!0&&(e=rh),{x:Sx(e,"left","right"),y:Sx(e,"top","bottom")}}function Sx(e,t,n){return{min:Cx(e,t),max:Cx(e,n)}}function Cx(e,t){return typeof e=="number"?e:e[t]||0}const _x=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ds=()=>({x:_x(),y:_x()}),Px=()=>({min:0,max:0}),Oe=()=>({x:Px(),y:Px()});function Ot(e){return[e("x"),e("y")]}function uj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function xA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pu(e){return e===void 0||e===1}function sh({scale:e,scaleX:t,scaleY:n}){return!pu(e)||!pu(t)||!pu(n)}function Or(e){return sh(e)||dj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function dj(e){return Ex(e.x)||Ex(e.y)}function Ex(e){return e&&e!=="0%"}function Al(e,t,n){const r=e-n,i=t*r;return n+i}function Tx(e,t,n,r,i){return i!==void 0&&(e=Al(e,i,r)),Al(e,n,r)+t}function ih(e,t=0,n=1,r,i){e.min=Tx(e.min,t,n,r,i),e.max=Tx(e.max,t,n,r,i)}function hj(e,{x:t,y:n}){ih(e.x,t.translate,t.scale,t.originPoint),ih(e.y,n.translate,n.scale,n.originPoint)}function vA(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Os(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,hj(e,o)),r&&Or(a.latestValues)&&Os(e,a.latestValues))}t.x=kx(t.x),t.y=kx(t.y)}function kx(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Qn(e,t){e.min=e.min+t,e.max=e.max+t}function Ax(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,o=Ee(e.min,e.max,a);ih(e,t[n],t[r],o,t.scale)}const yA=["x","scaleX","originX"],wA=["y","scaleY","originY"];function Os(e,t){Ax(e.x,t,yA),Ax(e.y,t,wA)}function fj(e,t){return uj(gA(e.getBoundingClientRect(),t))}function jA(e,t,n){const r=fj(e,n),{scroll:i}=t;return i&&(Qn(r.x,i.offset.x),Qn(r.y,i.offset.y)),r}const mj=({current:e})=>e?e.ownerDocument.defaultView:null,bA=new WeakMap;class NA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mc(d,"page").point)},a=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:w}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Pw(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ot(y=>{let x=this.getAxisMotionValue(y).get()||0;if(un.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const j=v.layout.layoutBox[y];j&&(x=At(j)*(parseFloat(x)/100))}}this.originPoint[y]=x}),w&&xe.update(()=>w(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:w,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=SA(y),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Ot(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new lj(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:mj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&xe.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!No(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=uA(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Rs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=dA(i.layoutBox,n):this.constraints=!1,this.elastic=pA(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ot(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=mA(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Rs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=jA(r,i.root,this.visualElement.getTransformPagePoint());let o=hA(i.layout.layoutBox,a);if(n){const l=n(xA(o));this.hasMutatedConstraints=!!l,l&&(o=uj(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ot(d=>{if(!No(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Gf(t,r,0,n))}stopAnimation(){Ot(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ot(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ot(n=>{const{drag:r}=this.getProps();if(!No(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(t[n]-Ee(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Rs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ot(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=fA({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ot(o=>{if(!No(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ee(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;bA.set(this.visualElement,this);const t=this.visualElement.current,n=An(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Rs(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=bn(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ot(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=rh,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function No(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class CA extends Er{constructor(t){super(t),this.removeGroupControls=Re,this.removeListeners=Re,this.controls=new NA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Re}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rx=e=>(t,n)=>{e&&xe.update(()=>e(t,n))};class _A extends Er{constructor(){super(...arguments),this.removePointerDownListener=Re}onPointerDown(t){this.session=new lj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Rx(t),onStart:Rx(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&xe.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=An(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function PA(){const e=m.useContext(cc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=m.useId();return m.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Bo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ix(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _i={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const n=Ix(e,t.target.x),r=Ix(e,t.target.y);return`${n}% ${r}%`}},EA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=wr.parse(e);if(i.length>5)return r;const a=wr.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=Ee(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class TA extends X.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;LT(kA),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Bo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||xe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function pj(e){const[t,n]=PA(),r=m.useContext(Af);return X.createElement(TA,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(uw),isPresent:t,safeToRemove:n})}const kA={borderRadius:{..._i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_i,borderTopRightRadius:_i,borderBottomLeftRadius:_i,borderBottomRightRadius:_i,boxShadow:EA},xj=["TopLeft","TopRight","BottomLeft","BottomRight"],AA=xj.length,Dx=e=>typeof e=="string"?parseFloat(e):e,Ox=e=>typeof e=="number"||Q.test(e);function RA(e,t,n,r,i,a){i?(e.opacity=Ee(0,n.opacity!==void 0?n.opacity:1,IA(r)),e.opacityExit=Ee(t.opacity!==void 0?t.opacity:1,0,DA(r))):a&&(e.opacity=Ee(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<AA;o++){const l=`border${xj[o]}Radius`;let c=Lx(t,l),u=Lx(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Ox(c)===Ox(u)?(e[l]=Math.max(Ee(Dx(c),Dx(u),r),0),(un.test(u)||un.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ee(t.rotate||0,n.rotate||0,r))}function Lx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const IA=gj(0,.5,Fw),DA=gj(.5,.95,Re);function gj(e,t,n){return r=>r<e?0:r>t?1:n(Pa(e,t,r))}function Mx(e,t){e.min=t.min,e.max=t.max}function Dt(e,t){Mx(e.x,t.x),Mx(e.y,t.y)}function zx(e,t,n,r,i){return e-=t,e=Al(e,1/n,r),i!==void 0&&(e=Al(e,1/i,r)),e}function OA(e,t=0,n=1,r=.5,i,a=e,o=e){if(un.test(t)&&(t=parseFloat(t),t=Ee(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ee(a.min,a.max,r);e===a&&(l-=t),e.min=zx(e.min,t,n,l,i),e.max=zx(e.max,t,n,l,i)}function Fx(e,t,[n,r,i],a,o){OA(e,t[n],t[r],t[i],t.scale,a,o)}const LA=["x","scaleX","originX"],MA=["y","scaleY","originY"];function $x(e,t,n,r){Fx(e.x,t,LA,n?n.x:void 0,r?r.x:void 0),Fx(e.y,t,MA,n?n.y:void 0,r?r.y:void 0)}function Ux(e){return e.translate===0&&e.scale===1}function vj(e){return Ux(e.x)&&Ux(e.y)}function zA(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function yj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Vx(e){return At(e.x)/At(e.y)}class FA{constructor(){this.members=[]}add(t){Wf(this.members,t),t.scheduleRender()}remove(t){if(Kf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bx(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const $A=(e,t)=>e.depth-t.depth;class UA{constructor(){this.children=[],this.isDirty=!1}add(t){Wf(this.children,t),this.isDirty=!0}remove(t){Kf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($A),this.isDirty=!1,this.children.forEach(t)}}function VA(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Fn(r),e(a-t))};return xe.read(r,!0),()=>Fn(r)}function BA(e){window.MotionDebug&&window.MotionDebug.record(e)}function HA(e){return e instanceof SVGElement&&e.tagName!=="svg"}function GA(e,t,n){const r=Nt(e)?e:Zs(e);return r.start(Gf("",r,t,n)),r.animation}const Hx=["","X","Y","Z"],WA={visibility:"hidden"},Gx=1e3;let KA=0;const Lr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function wj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=KA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lr.totalNodes=Lr.resolvedTargetDeltas=Lr.recalculatedProjection=0,this.nodes.forEach(YA),this.nodes.forEach(tR),this.nodes.forEach(nR),this.nodes.forEach(XA),BA(Lr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new UA)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qf),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HA(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=VA(f,250),Bo.hasAnimatedSinceResize&&(Bo.hasAnimatedSinceResize=!1,this.nodes.forEach(Kx))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||oR,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),v=!this.targetLayout||!yj(this.targetLayout,w)||p,j=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,j);const b={...Hf(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Kx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rR),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wx);return}this.isUpdating||this.nodes.forEach(ZA),this.isUpdating=!1,this.nodes.forEach(eR),this.nodes.forEach(qA),this.nodes.forEach(QA),this.clearAllSnapshots();const l=performance.now();Xe.delta=yr(0,1e3/60,l-Xe.timestamp),Xe.timestamp=l,Xe.isProcessing=!0,iu.update.process(Xe),iu.preRender.process(Xe),iu.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(JA),this.sharedNodes.forEach(sR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!vj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Or(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),lR(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Oe();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Qn(l.x,c.offset.x),Qn(l.y,c.offset.y)),l}removeElementScroll(o){const l=Oe();Dt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Dt(l,o);const{scroll:f}=this.root;f&&(Qn(l.x,-f.offset.x),Qn(l.y,-f.offset.y))}Qn(l.x,d.offset.x),Qn(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Oe();Dt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Os(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Or(d.latestValues)&&Os(c,d.latestValues)}return Or(this.latestValues)&&Os(c,this.latestValues),c}removeTransform(o){const l=Oe();Dt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Or(u.latestValues))continue;sh(u.latestValues)&&u.updateSnapshot();const d=Oe(),h=u.measurePageBox();Dt(d,h),$x(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Or(this.latestValues)&&$x(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Qi(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dt(this.target,this.layout.layoutBox),hj(this.target,this.targetDelta)):Dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Qi(this.relativeTargetOrigin,this.target,p.target),Dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sh(this.parent.latestValues)||dj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Dt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;vA(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=Ds(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ds(),this.projectionDeltaWithTransform=Ds());const g=this.projectionTransform;qi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Bx(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Lr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ds();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Oe(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,g=p!==w,y=this.getStack(),x=!y||y.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(aR));this.animationProgress=0;let j;this.mixTargetDelta=b=>{const C=b/1e3;qx(h.x,o.x,C),qx(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iR(this.relativeTarget,this.relativeTargetOrigin,f,C),j&&zA(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Oe()),Dt(j,this.relativeTarget)),g&&(this.animationValues=d,RA(d,u,this.latestValues,C,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{Bo.hasAnimatedSinceResize=!0,this.currentAnimation=GA(0,Gx,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&jj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Oe();const h=At(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=At(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Dt(l,c),Os(l,d),qi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new FA),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Hx.length;d++){const h="rotate"+Hx[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WA;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vo(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Vo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Or(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Bx(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:w}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Sl){if(f[g]===void 0)continue;const{correct:y,applyTo:x}=Sl[g],v=u.transform==="none"?f[g]:y(f[g],h);if(x){const j=x.length;for(let b=0;b<j;b++)u[x[b]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=h===this?Vo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Wx),this.root.sharedNodes.clear()}}}function qA(e){e.updateLayout()}function QA(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Ot(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=At(f);f.min=r[h].min,f.max=f.min+p}):jj(a,n.layoutBox,r)&&Ot(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=At(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Ds();qi(l,r,n.layoutBox);const c=Ds();o?qi(c,e.applyTransform(i,!0),n.measuredBox):qi(c,r,n.layoutBox);const u=!vj(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const w=Oe();Qi(w,n.layoutBox,f.layoutBox);const g=Oe();Qi(g,r,p.layoutBox),yj(w,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function YA(e){Lr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JA(e){e.clearSnapshot()}function Wx(e){e.clearMeasurements()}function ZA(e){e.isLayoutDirty=!1}function eR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Kx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tR(e){e.resolveTargetDelta()}function nR(e){e.calcProjection()}function rR(e){e.resetRotation()}function sR(e){e.removeLeadSnapshot()}function qx(e,t,n){e.translate=Ee(t.translate,0,n),e.scale=Ee(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qx(e,t,n,r){e.min=Ee(t.min,n.min,r),e.max=Ee(t.max,n.max,r)}function iR(e,t,n,r){Qx(e.x,t.x,n.x,r),Qx(e.y,t.y,n.y,r)}function aR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oR={duration:.45,ease:[.4,0,.1,1]},Yx=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Xx=Yx("applewebkit/")&&!Yx("chrome/")?Math.round:Re;function Jx(e){e.min=Xx(e.min),e.max=Xx(e.max)}function lR(e){Jx(e.x),Jx(e.y)}function jj(e,t,n){return e==="position"||e==="preserve-aspect"&&!nh(Vx(t),Vx(n),.2)}const cR=wj({attachResizeListener:(e,t)=>bn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xu={current:void 0},bj=wj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xu.current){const e=new cR({});e.mount(window),e.setOptions({layoutScroll:!0}),xu.current=e}return xu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uR={pan:{Feature:_A},drag:{Feature:CA,ProjectionNode:bj,MeasureLayout:pj}},dR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hR(e){const t=dR.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function ah(e,t,n=1){const[r,i]=hR(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return sj(o)?parseFloat(o):o}else return Qd(i)?ah(i,t,n+1):i}function fR(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!Qd(a))return;const o=ah(a,r);o&&i.set(o)});for(const i in t){const a=t[i];if(!Qd(a))continue;const o=ah(a,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const mR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Nj=e=>mR.has(e),pR=e=>Object.keys(e).some(Nj),Zx=e=>e===us||e===Q,eg=(e,t)=>parseFloat(e.split(", ")[t]),tg=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return eg(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?eg(a[1],e):0}},xR=new Set(["x","y","z"]),gR=$a.filter(e=>!xR.has(e));function vR(e){const t=[];return gR.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ei={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:tg(4,13),y:tg(5,14)};ei.translateX=ei.x;ei.translateY=ei.y;const yR=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=ei[u](r,a)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=ei[u](c,a)}),e},wR=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(Nj);let a=[],o=!1;const l=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],h=Ci(d);const f=t[c];let p;if(_l(f)){const w=f.length,g=f[0]===null?1:0;d=f[g],h=Ci(d);for(let y=g;y<w&&f[y]!==null;y++)p?Ff(Ci(f[y])===p):p=Ci(f[y])}else p=Ci(f);if(h!==p)if(Zx(h)&&Zx(p)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&p===Q&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?u.set(p.transform(d)):t[c]=h.transform(f):(o||(a=vR(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=yR(t,e,l);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),uc&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function jR(e,t,n,r){return pR(t)?wR(e,t,n,r):{target:t,transitionEnd:r}}const bR=(e,t,n,r)=>{const i=fR(e,t,r);return t=i.target,r=i.transitionEnd,jR(e,t,n,r)},oh={current:null},Sj={current:!1};function NR(){if(Sj.current=!0,!!uc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oh.current=e.matches;e.addListener(t),t()}else oh.current=!1}function SR(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],o=n[i];if(Nt(a))e.addValue(i,a),kl(r)&&r.add(i);else if(Nt(o))e.addValue(i,Zs(a,{owner:e})),kl(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,Zs(l!==void 0?l:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const ng=new WeakMap,Cj=Object.keys(_a),CR=Cj.length,rg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],_R=kf.length;class PR{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=hc(n),this.isVariantNode=cw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];l[h]!==void 0&&Nt(f)&&(f.set(l[h],!1),kl(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,ng.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Sj.current||NR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ng.delete(this.current),this.projection&&this.projection.unmount(),Fn(this.notifyUpdate),Fn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=cs.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&xe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let o,l;for(let c=0;c<CR;c++){const u=Cj[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:p}=_a[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Rs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rg.length;r++){const i=rg[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=SR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<_R;r++){const i=kf[r],a=this.props[i];(Ca(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zs(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=zf(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Nt(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new qf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class _j extends PR{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let o=H4(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),a){V4(this,r,o);const l=bR(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function ER(e){return window.getComputedStyle(e)}class TR extends _j{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(cs.has(n)){const r=Bf(n);return r&&r.default||0}else{const r=ER(t),i=(fw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return fj(t,n)}build(t,n,r,i){If(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Mf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){yw(t,n,r,i)}}class kR extends _j{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(cs.has(n)){const r=Bf(n);return r&&r.default||0}return n=ww.has(n)?n:Ef(n),t.getAttribute(n)}measureInstanceViewportBox(){return Oe()}scrapeMotionValuesFromProps(t,n){return bw(t,n)}build(t,n,r,i){Of(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){jw(t,n,r,i)}mount(t){this.isSVGTag=Lf(t.tagName),super.mount(t)}}const AR=(e,t)=>Rf(e)?new kR(t,{enableHardwareAcceleration:!1}):new TR(t,{enableHardwareAcceleration:!0}),RR={layout:{ProjectionNode:bj,MeasureLayout:pj}},IR={...iA,...Ck,...uR,...RR},F=DT((e,t)=>hk(e,t,IR,AR));function Pj(){const e=m.useRef(!1);return Pf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function DR(){const e=Pj(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>xe.postRender(r),[r]),t]}class OR extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function LR({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(OR,{isPresent:t,childRef:r,sizeRef:i},m.cloneElement(e,{ref:r}))}const gu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=Nw(MR),c=m.useId(),u=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[n]);return m.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=m.createElement(LR,{isPresent:n},e)),m.createElement(cc.Provider,{value:u},e)};function MR(){return new Map}function zR(e){return m.useEffect(()=>()=>e(),[])}const Mr=e=>e.key||"";function FR(e,t){e.forEach(n=>{const r=Mr(n);t.set(r,n)})}function $R(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const UR=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=m.useContext(Af).forceRender||DR()[0],c=Pj(),u=$R(e);let d=u;const h=m.useRef(new Map).current,f=m.useRef(d),p=m.useRef(new Map).current,w=m.useRef(!0);if(Pf(()=>{w.current=!1,FR(u,p),f.current=d}),zR(()=>{w.current=!0,p.clear(),h.clear()}),w.current)return m.createElement(m.Fragment,null,d.map(v=>m.createElement(gu,{key:Mr(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},v)));d=[...d];const g=f.current.map(Mr),y=u.map(Mr),x=g.length;for(let v=0;v<x;v++){const j=g[v];y.indexOf(j)===-1&&!h.has(j)&&h.set(j,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((v,j)=>{if(y.indexOf(j)!==-1)return;const b=p.get(j);if(!b)return;const C=g.indexOf(j);let E=v;if(!E){const _=()=>{h.delete(j);const N=Array.from(p.keys()).filter(P=>!y.includes(P));if(N.forEach(P=>p.delete(P)),f.current=u.filter(P=>{const R=Mr(P);return R===j||N.includes(R)}),!h.size){if(c.current===!1)return;l(),r&&r()}};E=m.createElement(gu,{key:Mr(b),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:a,mode:o},b),h.set(j,E)}d.splice(C,0,E)}),d=d.map(v=>{const j=v.key;return h.has(j)?v:m.createElement(gu,{key:Mr(v),isPresent:!0,presenceAffectsLayout:a,mode:o},v)}),m.createElement(m.Fragment,null,h.size?d:d.map(v=>m.cloneElement(v)))},Qf=ec("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=X.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?c_:"button";return s.jsx(o,{className:ie(Qf({variant:t,size:n,className:e})),ref:a,...i})});T.displayName="Button";const $=X.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$.displayName="Card";const K=X.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));K.displayName="CardHeader";const q=X.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));q.displayName="CardTitle";const Nn=X.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));Nn.displayName="CardDescription";const B=X.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("p-6 pt-0",e),...t}));B.displayName="CardContent";const VR=X.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",e),...t}));VR.displayName="CardFooter";function BR(){const e=ce(),t=[{icon:Md,title:"Risposte in Streaming",description:"Dialoga in modo fluido e naturale con risposte che arrivano parola per parola, in tempo reale."},{icon:rP,title:"Memoria Intelligente",description:"SardAI si ricorda di te! Nome, preferenze e dettagli delle chat per un'esperienza davvero personale."},{icon:sP,title:"Export PDF",description:"Salva le tue conversazioni pi importanti in formato PDF, con un design professionale e logo."},{icon:cP,title:"Dashboard Personale",description:"Tieni traccia delle tue conversazioni con statistiche e grafici dettagliati."},{icon:fP,title:"Personalit Unica",description:"Un assistente che parla pi di tua nonna, con un tocco di autentica ironia sarda."},{icon:Ce,title:"Veloce e Divertente",description:"Risposte immediate con il sorriso, che non guasta mai."},{icon:Dy,title:"Privacy al Primo Posto",description:"Controllo totale sui tuoi dati, con banner GDPR e policy trasparenti. I tuoi segreti sono al sicuro."}];return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"SardAI - L'assistente AI che parla pi di tua nonna"}),s.jsx("meta",{name:"description",content:"Scopri SardAI, il chatbot AI con personalit sarda autentica. Conversazioni intelligenti, ironia garantita e un tocco di tradizione isolana."})]}),s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"container mx-auto px-4 py-16 md:py-24 text-center relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-blue-500/10 rounded-full filter blur-3xl opacity-50 animate-blob"}),s.jsx("div",{className:"absolute -bottom-20 -right-20 w-96 h-96 bg-purple-500/10 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-2000"}),s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto relative z-10",children:[s.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight",children:["L'assistente che parla",s.jsx("span",{className:"block text-white mt-2",children:"pi di tua nonna"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-10 max-w-2xl mx-auto",children:"Benvenuto nel primo chatbot AI con personalit sarda autentica! Preparati a conversazioni intelligenti condite con ironia, saggezza popolare e quel tocco di calore che solo noi sappiamo dare."}),s.jsxs(T,{size:"lg",onClick:()=>e("/register"),className:"sardinian-gradient hover:opacity-90 text-lg px-8 py-6 pulse-glow rounded-full font-bold",children:[s.jsx(Md,{className:"w-6 h-6 mr-3"}),"Inizia a Chiacchierare"]}),s.jsx("div",{className:"mt-4",children:s.jsxs(T,{variant:"outline",onClick:()=>e("/premium"),className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10",children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),"Scopri Premium"]})})]})]}),s.jsxs("section",{className:"container mx-auto px-4 py-20",children:[s.jsx(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Cosa Rende SardAI Speciale"})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,r)=>s.jsx(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},children:s.jsxs($,{className:"sardinian-card hover:border-blue-400/50 transition-all duration-300 h-full flex flex-col",children:[s.jsx(K,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-xl flex items-center justify-center",children:s.jsx(n.icon,{className:"w-6 h-6 text-white"})}),s.jsx(q,{className:"text-white text-xl",children:n.title})]})}),s.jsx(B,{className:"flex-grow",children:s.jsx("p",{className:"text-gray-300",children:n.description})})]})},r))})]}),s.jsx("section",{className:"container mx-auto px-4 py-20",children:s.jsx(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center",children:s.jsxs("div",{className:"sardinian-card max-w-4xl mx-auto p-8 md:p-12 rounded-2xl",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Pronto a farti due risate?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Registrati ora.  gratis e pi veloce di un mirto a fine pasto."}),s.jsxs(T,{size:"lg",onClick:()=>e("/register"),className:"sardinian-gradient hover:opacity-90 text-lg px-8 py-6 rounded-full font-bold",children:[s.jsx(Ce,{className:"w-6 h-6 mr-3"}),"Crea il tuo Account"]}),s.jsx("div",{className:"mt-4",children:s.jsxs(T,{variant:"outline",onClick:()=>e("/premium"),className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10",children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),"Scopri Tutte le Funzionalit"]})})]})})})]})]})}var HR=mh[" useId ".trim().toString()]||(()=>{}),GR=0;function Yi(e){const[t,n]=m.useState(HR());return Mn(()=>{e||n(r=>r??String(GR++))},[e]),e||(t?`radix-${t}`:"")}var WR=m.createContext(void 0);function Ej(e){const t=m.useContext(WR);return e||t||"ltr"}var vu="rovingFocusGroup.onEntryFocus",KR={bubbles:!1,cancelable:!0},Ha="RovingFocusGroup",[lh,Tj,qR]=iy(Ha),[QR,kj]=Pr(Ha,[qR]),[YR,XR]=QR(Ha),Aj=m.forwardRef((e,t)=>s.jsx(lh.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(lh.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(JR,{...e,ref:t})})}));Aj.displayName=Ha;var JR=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=m.useRef(null),p=bt(t,f),w=Ej(a),[g,y]=Jl({prop:o,defaultProp:l??null,onChange:c,caller:Ha}),[x,v]=m.useState(!1),j=tn(u),b=Tj(n),C=m.useRef(!1),[E,_]=m.useState(0);return m.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(vu,j),()=>N.removeEventListener(vu,j)},[j]),s.jsx(YR,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:g,onItemFocus:m.useCallback(N=>y(N),[y]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>_(N=>N-1),[]),children:s.jsx(fe.div,{tabIndex:x||E===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{C.current=!0}),onFocus:he(e.onFocus,N=>{const P=!C.current;if(N.target===N.currentTarget&&P&&!x){const R=new CustomEvent(vu,KR);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const U=b().filter(k=>k.focusable),M=U.find(k=>k.active),Z=U.find(k=>k.id===g),S=[M,Z,...U].filter(Boolean).map(k=>k.ref.current);Dj(S,d)}}C.current=!1}),onBlur:he(e.onBlur,()=>v(!1))})})}),Rj="RovingFocusGroupItem",Ij=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=Yi(),u=a||c,d=XR(Rj,n),h=d.currentTabStopId===u,f=Tj(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:g}=d;return m.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),s.jsx(lh.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:s.jsx(fe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:he(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:he(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:he(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=tI(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=f().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const b=j.indexOf(y.currentTarget);j=d.loop?nI(j,b+1):j.slice(b+1)}setTimeout(()=>Dj(j))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});Ij.displayName=Rj;var ZR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tI(e,t,n){const r=eI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZR[r]}function Dj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function nI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var rI=Aj,sI=Ij,xc="Tabs",[iI,nO]=Pr(xc,[kj]),Oj=kj(),[aI,Yf]=iI(xc),Lj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ej(l),[h,f]=Jl({prop:r,onChange:i,defaultProp:a??"",caller:xc});return s.jsx(aI,{scope:n,baseId:Yi(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(fe.div,{dir:d,"data-orientation":o,...u,ref:t})})});Lj.displayName=xc;var Mj="TabsList",zj=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=Yf(Mj,n),o=Oj(n);return s.jsx(rI,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(fe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});zj.displayName=Mj;var Fj="TabsTrigger",$j=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=Yf(Fj,n),l=Oj(n),c=Bj(o.baseId,r),u=Hj(o.baseId,r),d=r===o.value;return s.jsx(sI,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:he(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:he(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:he(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});$j.displayName=Fj;var Uj="TabsContent",Vj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=Yf(Uj,n),c=Bj(l.baseId,r),u=Hj(l.baseId,r),d=r===l.value,h=m.useRef(d);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(oi,{present:i||d,children:({present:f})=>s.jsx(fe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});Vj.displayName=Uj;function Bj(e,t){return`${e}-trigger-${t}`}function Hj(e,t){return`${e}-content-${t}`}var oI=Lj,Gj=zj,Wj=$j,Kj=Vj;const gc=oI,Ga=X.forwardRef(({className:e,...t},n)=>s.jsx(Gj,{ref:n,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ga.displayName=Gj.displayName;const mt=X.forwardRef(({className:e,...t},n)=>s.jsx(Wj,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mt.displayName=Wj.displayName;const pt=X.forwardRef(({className:e,...t},n)=>s.jsx(Kj,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pt.displayName=Kj.displayName;const qj=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),{user:i,profile:a}=qe(),{toast:o}=je(),l=m.useCallback(async()=>{if(!i){t(null),r(!1);return}try{const{data:h,error:f}=await Y.rpc("can_send_message",{user_uuid:i.id});if(f)throw f;t(h)}catch(h){console.error("Error fetching message limits:",h),t({can_send:!1,plan:"free",messages_used:5,messages_remaining:0,daily_limit:5,is_admin:!1})}finally{r(!1)}},[i]),c=m.useCallback(async()=>{if(!i||!e)return null;if(e.plan!=="free"||e.is_admin)return e;try{const{data:h,error:f}=await Y.rpc("increment_daily_message_count",{user_uuid:i.id});if(f)throw f;const p={...e,messages_used:h,messages_remaining:Math.max(0,e.daily_limit-h),can_send:h<e.daily_limit};return t(p),h===e.daily_limit-1?o({title:" Ultimo messaggio gratuito!",description:"Hai utilizzato 4 dei 5 messaggi giornalieri. Considera l'upgrade a Premium per messaggi illimitati."}):h>=e.daily_limit&&o({title:" Limite raggiunto!",description:"Hai utilizzato tutti i 5 messaggi gratuiti di oggi. Torna domani o passa a Premium!",variant:"destructive"}),p}catch(h){return console.error("Error incrementing message count:",h),e}},[i,e,o]),u=m.useCallback(()=>e?e.is_admin||e.plan==="premium"||e.plan==="trial"&&e.trial_ends_at&&new Date(e.trial_ends_at)>new Date?!0:e.can_send:!1,[e]),d=m.useCallback(()=>{const h=new Date,f=new Date(h);f.setDate(f.getDate()+1),f.setHours(0,0,0,0);const p=f.getTime()-h.getTime(),w=Math.floor(p/(1e3*60*60)),g=Math.floor(p%(1e3*60*60)/(1e3*60));return{hours:w,minutes:g}},[]);return m.useEffect(()=>{l()},[l]),m.useEffect(()=>{const h=setInterval(()=>{e&&!e.can_send&&e.plan==="free"&&l()},6e4);return()=>clearInterval(h)},[e,l]),{limits:e,loading:n,fetchLimits:l,incrementMessageCount:c,checkCanSendMessage:u,getTimeUntilReset:d,isLimitReached:e&&!e.can_send&&e.plan==="free",isPremium:e&&(e.plan==="premium"||e.is_admin||e.plan==="trial"&&e.trial_ends_at&&new Date(e.trial_ends_at)>new Date)}},lI=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(null),[i,a]=m.useState([]),[o,l]=m.useState(!1),[c,u]=m.useState(null),{user:d,profile:h}=qe(),{toast:f}=je(),{limits:p,incrementMessageCount:w,checkCanSendMessage:g,fetchLimits:y,isLimitReached:x}=qj(),v=m.useCallback(async()=>{if(d)try{const{data:P,error:R}=await Y.rpc("get_user_plan_status");if(R)throw R;u(P[0])}catch(P){console.error("Error fetching plan status:",P)}},[d]),j=m.useCallback(async()=>{if(d)try{const{data:P,error:R}=await Y.from("chat_sessions").select("*").order("updated_at",{ascending:!1});if(R)throw R;t(P||[])}catch(P){console.error("Error fetching sessions:",P),f({title:"Errore",description:"Impossibile caricare le sessioni di chat.",variant:"destructive"})}},[d,f]),b=m.useCallback(async P=>{if(P)try{const{data:R,error:U}=await Y.from("chat_messages").select("*").eq("session_id",P).order("created_at",{ascending:!0});if(U)throw U;a(R||[])}catch(R){console.error("Error fetching messages:",R),f({title:"Errore",description:"Impossibile caricare i messaggi.",variant:"destructive"})}},[f]),C=m.useCallback(async(P,R="free",U=null)=>{var M,Z;if(!P.trim())return null;if(R==="free"&&!g())return f({title:" Limite messaggi raggiunto!",description:"Hai utilizzato tutti i 5 messaggi gratuiti di oggi. Torna domani o passa a Premium!",variant:"destructive"}),{success:!1,error:"DAILY_LIMIT_REACHED"};l(!0);try{R==="free"&&p&&p.plan==="free"&&await w();const{data:L,error:S}=await Y.functions.invoke("chat-openai",{body:{message:P.trim(),sessionId:U,chatType:R}});if(S)throw S;return!U&&L.sessionId&&(r(L.sessionId),await j()),L.sessionId&&await b(L.sessionId),L.planStatus&&u(L.planStatus),R==="free"&&await y(),{success:!0,sessionId:L.sessionId,message:L.message,tokensUsed:L.tokensUsed}}catch(L){return console.error("Error sending message:",L),(M=L.message)!=null&&M.includes("Premium access required")?(f({title:"Accesso Premium Richiesto",description:"Aggiorna il tuo piano per accedere alla chat premium.",variant:"destructive"}),{success:!1,error:"PREMIUM_REQUIRED"}):(Z=L.message)!=null&&Z.includes("DAILY_LIMIT_REACHED")?{success:!1,error:"DAILY_LIMIT_REACHED"}:(f({title:"Errore nell'invio del messaggio",description:L.message||"Si  verificato un errore imprevisto.",variant:"destructive"}),{success:!1,error:L.message})}finally{l(!1)}},[f,j,b,g,w,p,y]),E=m.useCallback(async(P="Nuova Chat",R="free")=>{try{const{data:U,error:M}=await Y.rpc("create_chat_session",{session_title:P,session_type:R});if(M)throw M;return r(U),await j(),a([]),U}catch(U){return console.error("Error creating session:",U),f({title:"Errore",description:U.message||"Impossibile creare una nuova sessione di chat.",variant:"destructive"}),null}},[j,f]),_=m.useCallback(async P=>{try{const{error:R}=await Y.from("chat_sessions").delete().eq("id",P);if(R)throw R;n===P&&(r(null),a([])),await j(),f({title:"Sessione eliminata",description:"La sessione di chat  stata eliminata con successo."})}catch(R){console.error("Error deleting session:",R),f({title:"Errore",description:"Impossibile eliminare la sessione di chat.",variant:"destructive"})}},[n,j,f]),N=m.useCallback(async P=>{r(P),await b(P)},[b]);return m.useEffect(()=>{d&&(v(),j())},[d,v,j]),{sessions:e,currentSession:n,messages:i,loading:o,planStatus:c,limits:p,isLimitReached:x,sendMessage:C,createSession:E,deleteSession:_,selectSession:N,fetchPlanStatus:v,fetchSessions:j,checkCanSendMessage:g}},vc=()=>{const[e,t]=m.useState(!1),{toast:n}=je();return{loading:e,createCheckoutSession:async(l,c="subscription")=>{t(!0);try{const{data:u,error:d}=await Y.functions.invoke("stripe-checkout",{body:{price_id:l,mode:c,success_url:`${window.location.origin}/stripe/success?session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${window.location.origin}/stripe/cancel?session_id={CHECKOUT_SESSION_ID}`}});if(d)throw d;if(u.url)window.location.href=u.url;else throw new Error("No checkout URL received")}catch(u){console.error("Error creating checkout session:",u),n({title:"Errore nel pagamento",description:u.message||"Impossibile avviare il processo di pagamento.",variant:"destructive"})}finally{t(!1)}},handlePaymentSuccess:()=>{n({title:"Pagamento completato! ",description:"Benvenuto in SardAI Premium! Il tuo abbonamento  ora attivo."})},handlePaymentCanceled:()=>{n({title:"Pagamento annullato",description:"Il pagamento  stato annullato. Puoi riprovare quando vuoi."})},redirectToStripePortal:async()=>{try{const{data:l,error:c}=await Y.functions.invoke("stripe-portal",{body:{return_url:`${window.location.origin}/stripe/manage`}});if(c)throw c;l.url&&(window.location.href=l.url)}catch{n({title:"Errore",description:"Impossibile accedere al portale di gestione.",variant:"destructive"})}}}},Yr=[{id:"prod_Sc40gUkhG84dOO",priceId:"price_1RgpsmP3ZDp2xQGdHpezzWn0",name:"SardAI Premium Mensile",description:"Accesso completo alle funzionalit premium",mode:"subscription",price:"5.00",currency:"EUR",interval:"month"},{id:"prod_Sc42HX3us2RCWV",priceId:"price_1Rgpu7P3ZDp2xQGdtuxS42fy",name:"SardAI Premium Annuale",description:"Piano annuale con risparmio del 17%",mode:"subscription",price:"50.00",currency:"CHF",interval:"year"}],cI=e=>Yr.find(t=>t.priceId===e),ds=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),{user:i}=qe(),a=async()=>{if(!i){t(null),r(!1);return}try{r(!0);const{data:o,error:l}=await Y.from("stripe_user_subscriptions").select("*").maybeSingle();if(l){console.error("Error fetching subscription:",l),t(null);return}if(o&&o.subscription_id){const c=cI(o.price_id);t({...o,product:c,isActive:o.subscription_status==="active",isPastDue:o.subscription_status==="past_due",isCanceled:o.subscription_status==="canceled",isTrialing:o.subscription_status==="trialing"})}else t(null)}catch(o){console.error("Error fetching subscription:",o),t(null)}finally{r(!1)}};return m.useEffect(()=>{a()},[i]),{subscription:e,loading:n,refetch:a}};var Qj={exports:{}},Yj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=m;function uI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dI=typeof Object.is=="function"?Object.is:uI,hI=ti.useState,fI=ti.useEffect,mI=ti.useLayoutEffect,pI=ti.useDebugValue;function xI(e,t){var n=t(),r=hI({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return mI(function(){i.value=n,i.getSnapshot=t,yu(i)&&a({inst:i})},[e,n,t]),fI(function(){return yu(i)&&a({inst:i}),e(function(){yu(i)&&a({inst:i})})},[e]),pI(n),n}function yu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dI(e,n)}catch{return!0}}function gI(e,t){return t()}var vI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gI:xI;Yj.useSyncExternalStore=ti.useSyncExternalStore!==void 0?ti.useSyncExternalStore:vI;Qj.exports=Yj;var yI=Qj.exports;function wI(){return yI.useSyncExternalStore(jI,()=>!0,()=>!1)}function jI(){return()=>{}}var Xf="Avatar",[bI,rO]=Pr(Xf),[NI,Xj]=bI(Xf),Jj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=m.useState("idle");return s.jsx(NI,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(fe.span,{...r,ref:t})})});Jj.displayName=Xf;var Zj="AvatarImage",eb=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=Xj(Zj,n),l=SI(r,a),c=tn(u=>{i(u),o.onImageLoadingStatusChange(u)});return Mn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(fe.img,{...a,ref:t,src:r}):null});eb.displayName=Zj;var tb="AvatarFallback",nb=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=Xj(tb,n),[o,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(fe.span,{...i,ref:t}):null});nb.displayName=tb;function sg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function SI(e,{referrerPolicy:t,crossOrigin:n}){const r=wI(),i=m.useRef(null),a=(()=>r?(i.current||(i.current=new window.Image),i.current):null)(),[o,l]=m.useState(()=>sg(a,e));return Mn(()=>{l(sg(a,e))},[a,e]),Mn(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var rb=Jj,sb=eb,ib=nb;const Ft=X.forwardRef(({className:e,...t},n)=>s.jsx(rb,{ref:n,className:ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ft.displayName=rb.displayName;const Ea=X.forwardRef(({className:e,...t},n)=>s.jsx(sb,{ref:n,className:ie("aspect-square h-full w-full",e),...t}));Ea.displayName=sb.displayName;const $t=X.forwardRef(({className:e,...t},n)=>s.jsx(ib,{ref:n,className:ie("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));$t.displayName=ib.displayName;function Jf({isOpen:e,onClose:t}){var f,p;const{user:n,profile:r,logout:i}=qe(),a=_r(),o=ce(),{toast:l}=je(),c=w=>a.pathname===w,u=async()=>{await i(),l({title:"Arrivederci! ",description:"Logout effettuato con successo. A presto!"}),o("/"),t()},d=[{path:"/dashboard",label:"Dashboard",icon:Fe},{path:"/premium",label:"Funzionalit Premium",icon:W},{path:"/profile",label:"Profilo",icon:Ht},...(r==null?void 0:r.role)==="admin"?[{path:"/admin",label:"Admin",icon:et}]:[],...r!=null&&r.is_premium?[]:[{path:"/subscription",label:"Diventa Premium",icon:W,highlight:!0}]],h=({item:w})=>s.jsxs(xt,{to:w.path,onClick:t,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${c(w.path)?"bg-blue-600 text-white":w.highlight?"text-yellow-400 hover:bg-yellow-400/10":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[s.jsx(w.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:w.label}),w.highlight&&s.jsx("span",{className:"ml-auto px-2 py-1 text-xs bg-yellow-500 text-black rounded-full",children:"Upgrade"})]});return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t}),s.jsxs(F.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 h-full w-80 glass-effect border-r border-white/10 z-50 lg:static lg:translate-x-0",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[s.jsxs(xt,{to:"/",className:"flex items-center space-x-3",onClick:t,children:[s.jsx("div",{className:"w-8 h-8 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"SardAI"})]}),s.jsx(T,{variant:"ghost",size:"icon",onClick:t,className:"lg:hidden text-white hover:bg-white/10",children:s.jsx(Na,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Ft,{className:"w-12 h-12",children:[s.jsx(Ea,{src:r==null?void 0:r.avatar_url}),s.jsx($t,{className:"bg-blue-600 text-white",children:(p=(f=r==null?void 0:r.full_name)==null?void 0:f.charAt(0))==null?void 0:p.toUpperCase()})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white font-medium truncate",children:r==null?void 0:r.full_name}),s.jsx("p",{className:"text-gray-400 text-sm",children:(r==null?void 0:r.role)==="admin"?" Admin":r!=null&&r.is_premium?" Premium":" Gratuito"})]})]})}),s.jsx("div",{className:"flex-1 p-4",children:s.jsx("nav",{className:"space-y-2",children:d.map(w=>s.jsx(h,{item:w},w.path))})}),s.jsxs("div",{className:"p-4 border-t border-white/10 space-y-2",children:[s.jsxs(T,{variant:"ghost",onClick:()=>{l({title:" Funzionalit in arrivo!",description:"Le impostazioni saranno disponibili presto."})},className:"w-full justify-start text-white hover:bg-white/10",children:[s.jsx(ja,{className:"w-4 h-4 mr-3"}),"Impostazioni"]}),s.jsxs(T,{variant:"ghost",onClick:u,className:"w-full justify-start text-red-400 hover:text-red-300 hover:bg-red-400/10",children:[s.jsx(Ld,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]})]}):null}const Pe=X.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Pe.displayName="Input";var Zf="Progress",em=100,[CI,sO]=Pr(Zf),[_I,PI]=CI(Zf),ab=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=EI,...o}=e;(i||i===0)&&!ig(i)&&console.error(TI(`${i}`,"Progress"));const l=ig(i)?i:em;r!==null&&!ag(r,l)&&console.error(kI(`${r}`,"Progress"));const c=ag(r,l)?r:null,u=Rl(c)?a(c,l):void 0;return s.jsx(_I,{scope:n,value:c,max:l,children:s.jsx(fe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Rl(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":cb(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});ab.displayName=Zf;var ob="ProgressIndicator",lb=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=PI(ob,n);return s.jsx(fe.div,{"data-state":cb(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});lb.displayName=ob;function EI(e,t){return`${Math.round(e/t*100)}%`}function cb(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Rl(e){return typeof e=="number"}function ig(e){return Rl(e)&&!isNaN(e)&&e>0}function ag(e,t){return Rl(e)&&!isNaN(e)&&e<=t&&e>=0}function TI(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${em}\`.`}function kI(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${em} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ub=ab,AI=lb;const db=X.forwardRef(({className:e,value:t,...n},r)=>s.jsx(ub,{ref:r,className:ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(AI,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));db.displayName=ub.displayName;function RI({limits:e,timeUntilReset:t}){const n=ce();if(!e||e.is_admin||e.plan==="premium")return null;if(e.plan==="trial"&&e.trial_ends_at){const o=new Date(e.trial_ends_at),c=Math.ceil((o-new Date)/(1e3*60*60*24));if(c>0)return s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4",children:s.jsx($,{className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 border border-blue-500/30",children:s.jsx(B,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(nc,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-300 font-semibold text-sm",children:"Prova Gratuita Attiva"}),s.jsxs("p",{className:"text-blue-200 text-xs",children:[c," giorni rimasti  Messaggi illimitati"]})]})]}),s.jsxs(T,{size:"sm",onClick:()=>n("/subscription"),className:"sardinian-gradient hover:opacity-90",children:[s.jsx(W,{className:"w-3 h-3 mr-1"}),"Upgrade"]})]})})})})}const r=e.messages_used/e.daily_limit*100,i=e.messages_used>=e.daily_limit-1,a=!e.can_send;return s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4",children:s.jsx($,{className:`${a?"bg-gradient-to-r from-red-900/20 to-orange-900/20 border border-red-500/30":i?"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border border-yellow-500/30":"bg-gradient-to-r from-slate-900/20 to-slate-800/20 border border-slate-600"}`,children:s.jsx(B,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fe,{className:`w-4 h-4 ${a?"text-red-400":i?"text-yellow-400":"text-blue-400"}`}),s.jsx("span",{className:`font-semibold text-sm ${a?"text-red-300":i?"text-yellow-300":"text-blue-300"}`,children:"Messaggi Giornalieri"})]}),a&&s.jsxs(T,{size:"sm",onClick:()=>n("/subscription"),className:"sardinian-gradient hover:opacity-90",children:[s.jsx(W,{className:"w-3 h-3 mr-1"}),"Upgrade"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:a?"text-red-300":"text-gray-300",children:[e.messages_used," / ",e.daily_limit," utilizzati"]}),s.jsxs("span",{className:a?"text-red-300":"text-gray-300",children:[e.messages_remaining," rimasti"]})]}),s.jsx(db,{value:r,className:`h-2 ${a?"bg-red-900/30":i?"bg-yellow-900/30":"bg-slate-700"}`})]}),a?s.jsxs("div",{className:"flex items-center space-x-2 text-red-300 text-xs",children:[s.jsx(gt,{className:"w-3 h-3"}),s.jsxs("span",{children:["Limite raggiunto! Reset tra ",t.hours,"h ",t.minutes,"m"]})]}):i?s.jsxs("div",{className:"flex items-center space-x-2 text-yellow-300 text-xs",children:[s.jsx(gt,{className:"w-3 h-3"}),s.jsxs("span",{children:["Attenzione: solo ",e.messages_remaining," messaggio/i rimasto/i oggi"]})]}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 text-xs",children:[s.jsx(zn,{className:"w-3 h-3"}),s.jsxs("span",{children:["Reset tra ",t.hours,"h ",t.minutes,"m"]})]}),(a||i)&&s.jsxs("div",{className:"pt-2 border-t border-slate-600",children:[s.jsx("p",{className:"text-xs text-gray-400 text-center mb-2",children:"Passa a Premium per messaggi illimitati"}),s.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs",children:[s.jsx(W,{className:"w-3 h-3 text-yellow-400"}),s.jsx("span",{className:"text-yellow-400",children:"5/mese"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{className:"text-gray-400",children:"Chat sarda autentica"})]})]})]})})})})}function II({limits:e,timeUntilReset:t}){const n=ce();return!e||e.can_send?null:s.jsx(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex-1 flex items-center justify-center p-8",children:s.jsxs($,{className:"sardinian-card max-w-md w-full text-center",children:[s.jsxs(K,{children:[s.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(gt,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl text-white mb-2",children:"Limite Messaggi Raggiunto! "}),s.jsxs("p",{className:"text-gray-300",children:["Hai utilizzato tutti i ",s.jsxs("strong",{children:[e.daily_limit," messaggi gratuiti"]})," di oggi"]})]}),s.jsxs(B,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-600",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsx(zn,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 font-semibold",children:"Reset Automatico"})]}),s.jsxs("p",{className:"text-white text-lg font-bold",children:[t.hours,"h ",t.minutes,"m"]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"I tuoi messaggi si resettano a mezzanotte"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 p-4 rounded-lg border border-yellow-500/20",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[s.jsx(W,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"text-yellow-300 font-semibold",children:"SardAI Premium"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ce,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-200",children:"Messaggi illimitati"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Fe,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-200",children:"Chat in lingua sarda autentica"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(ya,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-200",children:"Contenuti culturali esclusivi"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>n("/subscription"),className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:[s.jsx(W,{className:"w-5 h-5 mr-2"}),"Diventa Premium - 5/mese"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(T,{onClick:()=>n("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Dashboard"}),s.jsxs(T,{onClick:()=>n("/subscription"),variant:"outline",className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10",children:[s.jsx(ya,{className:"w-4 h-4 mr-1"}),"Piano Annuale"]})]})]}),s.jsx("div",{className:"pt-4 border-t border-slate-600",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Aho, per oggi hai chiacchierato abbastanza! Torna domani o diventa Premium!" '})})]})]})})}function DI({messages:e,onSendMessage:t,loading:n,planStatus:r,limits:i,isLimitReached:a}){const[o,l]=m.useState(""),c=m.useRef(null),{getTimeUntilReset:u}=qj(),d=()=>{var p;(p=c.current)==null||p.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{d()},[e]);const h=async p=>{if(p.preventDefault(),!o.trim()||n||a)return;const w=await t(o,"free");w!=null&&w.success&&l("")},f=p=>p.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>");return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-600 bg-slate-800/30",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-10 h-10",children:s.jsx($t,{className:"bg-blue-600 text-white",children:s.jsx(mo,{className:"w-5 h-5"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"SardAI Gratuito"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Assistente con carattere sardo"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[i&&i.plan==="free"&&s.jsx(RI,{limits:i,timeUntilReset:u()}),a?s.jsx(II,{limits:i,timeUntilReset:u()}):s.jsxs("div",{className:"p-4 space-y-4",children:[e.length===0&&s.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[s.jsx(mo,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Ciao! Sono SardAI! "}),s.jsx("p",{className:"text-gray-300 max-w-md mx-auto",children:"Sono qui per aiutarti con tutto quello che vuoi sapere sulla Sardegna. Dimmi, cosa ti va di scoprire della nostra bella isola?"})]}),e.map((p,w)=>s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:`flex ${p.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`flex items-start space-x-3 max-w-xs lg:max-w-md xl:max-w-lg ${p.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx(Ft,{className:"w-8 h-8 flex-shrink-0",children:s.jsx($t,{className:p.role==="user"?"bg-green-600":"bg-blue-600",children:p.role==="user"?s.jsx(Ht,{className:"w-4 h-4"}):s.jsx(mo,{className:"w-4 h-4"})})}),s.jsxs($,{className:`px-4 py-3 ${p.role==="user"?"chat-bubble-user text-white border-0":"chat-bubble-ai text-white border-0"}`,children:[s.jsx("div",{className:"text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:f(p.content)}}),s.jsx("p",{className:"text-xs opacity-70 mt-2",children:new Date(p.created_at).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]})]})},w)),n&&s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ft,{className:"w-8 h-8",children:s.jsx($t,{className:"bg-blue-600",children:s.jsx(mo,{className:"w-4 h-4"})})}),s.jsx($,{className:"chat-bubble-ai text-white border-0 px-4 py-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wa,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{className:"text-sm",children:"SardAI sta pensando..."})]})})]})}),s.jsx("div",{ref:c})]})]}),!a&&s.jsxs("div",{className:"p-4 border-t border-slate-600 bg-slate-800/30",children:[s.jsxs("form",{onSubmit:h,className:"flex space-x-2",children:[s.jsx(Pe,{value:o,onChange:p=>l(p.target.value),placeholder:i&&i.plan==="free"?`Scrivi il tuo messaggio... (${i.messages_remaining} rimasti oggi)`:"Scrivi il tuo messaggio...",disabled:n||a,className:"bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"}),s.jsx(T,{type:"submit",disabled:!o.trim()||n||a,className:"sardinian-gradient hover:opacity-90",children:n?s.jsx(wa,{className:"w-4 h-4 animate-spin"}):s.jsx(jl,{className:"w-4 h-4"})})]}),r&&s.jsxs("div",{className:"mt-2 text-xs text-gray-400 text-center",children:[r.plan==="trial"&&r.trial_days_left>0&&s.jsxs("span",{children:["Prova gratuita: ",r.trial_days_left," giorni rimasti"]}),r.plan==="free"&&s.jsx("span",{children:"Piano gratuito - Aggiorna per accedere alla modalit sarda"})]})]})]})}function OI({messages:e,onSendMessage:t,loading:n,isAdmin:r=!1}){const[i,a]=m.useState(""),o=m.useRef(null),{subscription:l}=ds(),c=()=>{var f;(f=o.current)==null||f.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{c()},[e]);const u=async f=>{if(f.preventDefault(),!i.trim()||n)return;const p=await t(i,"premium");p!=null&&p.success&&a("")},d=f=>f.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>");return(l==null?void 0:l.isActive)||!1?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-600 bg-gradient-to-r from-yellow-900/30 to-orange-900/30",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-10 h-10",children:s.jsx($t,{className:"bg-yellow-600 text-white",children:s.jsx(W,{className:"w-5 h-5"})})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center",children:[s.jsx(W,{className:"w-4 h-4 mr-2 text-yellow-400"}),"SardAI Premium"]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Chat in lingua sarda autentica"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.length===0&&s.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[s.jsx(W,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Salude! Deo so SardAI Premium! "}),s.jsx("p",{className:"text-gray-300 max-w-md mx-auto",children:"Oe, comente ses? Deo so inoghe pro ti agiudare in limba sarda autntica. Ite boles ischire de sa Sardigna nostra?"})]}),e.map((f,p)=>s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`flex items-start space-x-3 max-w-xs lg:max-w-md xl:max-w-lg ${f.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx(Ft,{className:"w-8 h-8 flex-shrink-0",children:s.jsx($t,{className:f.role==="user"?"bg-green-600":"bg-yellow-600",children:f.role==="user"?s.jsx(Ht,{className:"w-4 h-4"}):r?s.jsx(Shield,{className:"w-4 h-4"}):s.jsx(W,{className:"w-4 h-4"})})}),s.jsxs($,{className:`px-4 py-3 ${f.role==="user"?"chat-bubble-user text-white border-0":r?"bg-gradient-to-r from-red-900/20 to-red-800/20 text-white border border-red-500/20":"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 text-white border border-yellow-500/20"}`,children:[s.jsx("div",{className:"text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:d(f.content)}}),s.jsx("p",{className:"text-xs opacity-70 mt-2",children:new Date(f.created_at).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]})]})},p)),n&&s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ft,{className:"w-8 h-8",children:s.jsx($t,{className:r?"bg-red-600":"bg-yellow-600",children:r?s.jsx(Shield,{className:"w-4 h-4"}):s.jsx(W,{className:"w-4 h-4"})})}),s.jsx($,{className:`px-4 py-3 text-white border ${r?"bg-gradient-to-r from-red-900/20 to-red-800/20 border-red-500/20":"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border-yellow-500/20"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wa,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{className:"text-sm",children:r?"SardAI Admin sta elaborando...":"SardAI est pensende..."})]})})]})}),s.jsx("div",{ref:o})]}),s.jsxs("div",{className:`p-4 border-t border-slate-600 ${r?"bg-gradient-to-r from-red-900/10 to-red-800/10":"bg-gradient-to-r from-yellow-900/10 to-orange-900/10"}`,children:[s.jsxs("form",{onSubmit:u,className:"flex space-x-2",children:[s.jsx(Pe,{value:i,onChange:f=>a(f.target.value),placeholder:r?"Scrivi il tuo messaggio...":"Iscrie su messgiu tuo in sardu...",disabled:n,className:`bg-slate-800/50 text-white placeholder:text-gray-400 ${r?"border-red-500/30 focus:border-red-400":"border-yellow-500/30 focus:border-yellow-400"}`}),s.jsx(T,{type:"submit",disabled:!i.trim()||n,className:r?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800":"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700",children:n?s.jsx(wa,{className:"w-4 h-4 animate-spin"}):s.jsx(jl,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"mt-2 text-xs text-yellow-400 text-center",children:[r?s.jsx(Shield,{className:"w-3 h-3 inline mr-1"}):s.jsx(W,{className:"w-3 h-3 inline mr-1"}),r?"Modalit Admin Attiva - Accesso completo alle funzionalit":"Modalit Premium Attiva - Chat in lingua sarda autentica"]})]})]}):s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-600 bg-gradient-to-r from-yellow-900/30 to-orange-900/30",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-10 h-10",children:s.jsx($t,{className:r?"bg-red-600 text-white":"bg-yellow-600 text-white",children:r?s.jsx(Shield,{className:"w-5 h-5"}):s.jsx(W,{className:"w-5 h-5"})})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center",children:[r?s.jsx(Shield,{className:"w-4 h-4 mr-2 text-red-400"}):s.jsx(W,{className:"w-4 h-4 mr-2 text-yellow-400"}),r?"Benvenuto Admin! Accesso completo attivo ":"Salude! Deo so SardAI Premium! "]}),s.jsx("p",{className:"text-gray-400 text-sm",children:r?"Come amministratore hai accesso a tutte le funzionalit avanzate di SardAI.":"Oe, comente ses? Deo so inoghe pro ti agiudare in limba sarda autntica. Ite boles ischire de sa Sardigna nostra?"})]})]})}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md",children:[s.jsx("div",{className:"w-20 h-20 bg-yellow-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(W,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Accesso Premium Richiesto"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Per conversare in lingua sarda autentica con SardAI, devi avere un abbonamento Premium attivo."}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-400 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ce,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:"Chat in logudorese e campidanese"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ce,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:"Traduzione italiano/sardo"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ce,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:"Contenuti culturali esclusivi"})]})]}),s.jsxs(T,{onClick:()=>window.location.href="/subscription",className:"sardinian-gradient hover:opacity-90 px-8 py-3",children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),"Diventa Premium"]})]})})]})}function LI({className:e=""}){const{loading:t,createCheckoutSession:n}=vc(),{subscription:r}=ds(),i=l=>{n(l,"subscription")};if(r!=null&&r.isActive)return null;const a=Yr.find(l=>l.interval==="month"),o=Yr.find(l=>l.interval==="year");return s.jsxs($,{className:`sardinian-card premium-glow ${e}`,children:[s.jsxs(K,{className:"text-center pb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(W,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-white text-xl",children:"Sblocca SardAI Premium"})]}),s.jsxs(B,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-white font-semibold text-center mb-3",children:"Cosa ottieni con Premium:"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(wl,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Chat in lingua sarda autentica"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(Ce,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Dialetti logudorese e campidanese"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(Vi,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Contenuti culturali esclusivi"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(nc,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Traduzione italiano/sardo"})]})]})]}),s.jsxs("div",{className:"text-center pt-4 space-y-3",children:[a&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-white",children:[a.price," ",a.currency]}),s.jsx("span",{className:"text-gray-400 text-sm",children:"/mese"})]}),s.jsx(T,{onClick:()=>i(a.priceId),disabled:t,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:t?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Caricamento..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(W,{className:"w-5 h-5 mr-2"}),"Diventa Premium"]})})]}),o&&s.jsxs("div",{className:"border-t border-slate-600 pt-3",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsxs("span",{className:"text-lg font-bold text-white",children:[o.price," ",o.currency]}),s.jsx("span",{className:"text-gray-400 text-sm",children:"/anno"}),s.jsx("span",{className:"text-green-400 text-xs bg-green-900/30 px-2 py-1 rounded",children:"Risparmia 17%"})]}),s.jsx(T,{onClick:()=>i(o.priceId),disabled:t,variant:"outline",className:"w-full border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10",children:"Piano Annuale"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Cancella in qualsiasi momento"})]})]})]})}function MI(){const e=ce(),[t]=hn(),{user:n,profile:r}=qe();je();const{handlePaymentSuccess:i,handlePaymentCanceled:a}=vc(),{subscription:o,refetch:l}=ds(),[c,u]=m.useState("free"),[d,h]=m.useState(!1),{sessions:f,currentSession:p,messages:w,loading:g,planStatus:y,limits:x,isLimitReached:v,sendMessage:j,createSession:b,deleteSession:C,selectSession:E,fetchPlanStatus:_,checkCanSendMessage:N}=lI();m.useEffect(()=>{const D=t.get("payment");D==="success"?(i(),_(),l(),e("/chat",{replace:!0})):D==="canceled"&&(a(),e("/chat",{replace:!0}))},[t,i,a,e,_,l]);const P=async(D="free")=>{const A=await b(`Chat ${D}`,D);A&&(E(A),u(D))},R=async D=>{await C(D)},U=async D=>{await E(D);const A=f.find(O=>O.id===D);A&&u(A.chat_type)},M=w.filter(D=>p&&D.session_id===p),Z=f.filter(D=>D.chat_type==="free"),L=f.filter(D=>D.chat_type==="premium"),S=(r==null?void 0:r.role)==="admin",k=(o==null?void 0:o.isActive)||S||(y==null?void 0:y.can_use_premium);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Chat - SardAI"}),s.jsx("meta",{name:"description",content:"Conversa con SardAI in modalit gratuita o premium con lingua sarda autentica."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern flex",children:[s.jsx(Jf,{isOpen:d,onClose:()=>h(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[s.jsxs("div",{className:"w-full lg:w-80 border-b lg:border-b-0 lg:border-r border-white/10 bg-slate-900/50",children:[s.jsxs("div",{className:"p-4 border-b border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>h(!0),className:"lg:hidden text-white hover:bg-white/10",children:s.jsx(tc,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Le tue Chat"}),s.jsx(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{onClick:()=>P("free"),variant:"outline",className:"w-full justify-start border-blue-500/50 text-blue-400 hover:bg-blue-500/10",children:[s.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Nuova Chat Gratuita"]}),k&&s.jsxs(T,{onClick:()=>P("premium"),variant:"outline",className:"w-full justify-start border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10",children:[s.jsx(Bi,{className:"w-4 h-4 mr-2"}),S?s.jsx(et,{className:"w-4 h-4 mr-1"}):s.jsx(W,{className:"w-4 h-4 mr-1"}),"Nuova Chat ",S?"Admin":"Premium"]})]})]}),s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Stato Account"}),s.jsx("span",{className:`text-sm font-semibold ${S?"text-red-400":o!=null&&o.isActive||y!=null&&y.can_use_premium?"text-yellow-400":"text-blue-400"}`,children:S?"Admin":o!=null&&o.isActive?"Premium":(y==null?void 0:y.plan)==="trial"&&!(y!=null&&y.trial_expired)?"Prova Gratuita":"Gratuito"})]}),y&&s.jsxs("div",{className:"text-xs text-gray-400",children:[y.plan==="trial"&&!y.trial_expired&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ns,{className:"w-3 h-3"}),s.jsxs("span",{children:["Prova: ",y.trial_days_left," giorni rimasti"]})]}),(o==null?void 0:o.isActive)&&o.current_period_end&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ns,{className:"w-3 h-3"}),s.jsxs("span",{children:["Rinnovo: ",new Date(o.current_period_end*1e3).toLocaleDateString("it-IT")]})]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[Z.length>0&&s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Chat Gratuite (",Z.length,")"]}),s.jsx("div",{className:"space-y-2",children:Z.map(D=>s.jsxs("div",{className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${p===D.id?"bg-blue-600/20 border border-blue-500/30":"hover:bg-slate-800/50"}`,onClick:()=>U(D.id),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:D.title}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(D.updated_at).toLocaleDateString("it-IT")})]}),s.jsx(T,{variant:"ghost",size:"sm",onClick:A=>{A.stopPropagation(),R(D.id)},className:"opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 hover:bg-red-400/10",children:s.jsx(ba,{className:"w-4 h-4"})})]},D.id))})]}),L.length>0&&s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center",children:[S?s.jsx(et,{className:"w-4 h-4 mr-2 text-red-400"}):s.jsx(W,{className:"w-4 h-4 mr-2 text-yellow-400"}),"Chat ",S?"Admin":"Premium"," (",L.length,")"]}),s.jsx("div",{className:"space-y-2",children:L.map(D=>s.jsxs("div",{className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${p===D.id?S?"bg-red-600/20 border border-red-500/30":"bg-yellow-600/20 border border-yellow-500/30":"hover:bg-slate-800/50"}`,onClick:()=>U(D.id),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:D.title}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(D.updated_at).toLocaleDateString("it-IT")})]}),s.jsx(T,{variant:"ghost",size:"sm",onClick:A=>{A.stopPropagation(),R(D.id)},className:"opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 hover:bg-red-400/10",children:s.jsx(ba,{className:"w-4 h-4"})})]},D.id))})]}),f.length===0&&s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Fe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Nessuna chat ancora"}),s.jsxs(T,{onClick:()=>P("free"),className:"sardinian-gradient hover:opacity-90",children:[s.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Inizia la prima chat"]})]}),!k&&s.jsx("div",{className:"p-4",children:s.jsx(LI,{})})]})]}),s.jsx("div",{className:"flex-1 flex flex-col",children:p?s.jsxs(gc,{value:c,onValueChange:u,className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"px-4 pt-4 border-b border-white/10",children:s.jsxs(Ga,{className:"bg-slate-800/50 border border-slate-600",children:[s.jsxs(mt,{value:"free",className:"flex items-center space-x-2",children:[s.jsx(Fe,{className:"w-4 h-4"}),s.jsx("span",{children:"Modalit Gratuita"})]}),s.jsxs(mt,{value:"premium",className:"flex items-center space-x-2",children:[S?s.jsx(et,{className:"w-4 h-4"}):s.jsx(W,{className:"w-4 h-4"}),s.jsxs("span",{children:["Modalit ",S?"Admin":"Premium"]}),!k&&s.jsx("span",{className:"ml-1 px-2 py-1 text-xs bg-yellow-500 text-black rounded-full",children:"Upgrade"})]})]})}),s.jsx(pt,{value:"free",className:"flex-1 flex flex-col mt-0",children:s.jsx(DI,{messages:M,onSendMessage:j,loading:g,planStatus:y,limits:x,isLimitReached:v})}),s.jsx(pt,{value:"premium",className:"flex-1 flex flex-col mt-0",children:s.jsx(OI,{messages:M,onSendMessage:j,loading:g,isAdmin:S})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-md",children:[s.jsx("div",{className:"w-20 h-20 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ce,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Benvenuto in SardAI Chat!"}),s.jsx("p",{className:"text-gray-300 mb-8",children:S?"Come amministratore hai accesso completo a tutte le funzionalit di chat.":"Seleziona una chat esistente dalla barra laterale o creane una nuova per iniziare a conversare con il tuo assistente sardo preferito."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>P("free"),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Inizia Chat Gratuita"]}),k&&s.jsxs(T,{onClick:()=>P("premium"),variant:"outline",className:`w-full ${S?"border-red-500/50 text-red-400 hover:bg-red-500/10":"border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10"}`,children:[S?s.jsx(et,{className:"w-4 h-4 mr-2"}):s.jsx(W,{className:"w-4 h-4 mr-2"}),"Inizia Chat ",S?"Admin":"Premium"]})]})]})})})]})]})]})}var zI="Label",hb=m.forwardRef((e,t)=>s.jsx(fe.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hb.displayName=zI;var fb=hb;const FI=ec("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Et=X.forwardRef(({className:e,...t},n)=>s.jsx(fb,{ref:n,className:ie(FI(),e),...t}));Et.displayName=fb.displayName;var wu="focusScope.autoFocusOnMount",ju="focusScope.autoFocusOnUnmount",og={bubbles:!1,cancelable:!0},$I="FocusScope",mb=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=tn(i),d=tn(a),h=m.useRef(null),f=bt(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(j){if(p.paused||!l)return;const b=j.target;l.contains(b)?h.current=b:Wn(h.current,{select:!0})},y=function(j){if(p.paused||!l)return;const b=j.relatedTarget;b!==null&&(l.contains(b)||Wn(h.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const C of j)C.removedNodes.length>0&&Wn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),v.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){cg.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(wu,og);l.addEventListener(wu,u),l.dispatchEvent(x),x.defaultPrevented||(UI(WI(pb(l)),{select:!0}),document.activeElement===g&&Wn(l))}return()=>{l.removeEventListener(wu,u),setTimeout(()=>{const x=new CustomEvent(ju,og);l.addEventListener(ju,d),l.dispatchEvent(x),x.defaultPrevented||Wn(g??document.body,{select:!0}),l.removeEventListener(ju,d),cg.remove(p)},0)}}},[l,u,d,p]);const w=m.useCallback(g=>{if(!n&&!r||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const v=g.currentTarget,[j,b]=VI(v);j&&b?!g.shiftKey&&x===b?(g.preventDefault(),n&&Wn(j,{select:!0})):g.shiftKey&&x===j&&(g.preventDefault(),n&&Wn(b,{select:!0})):x===v&&g.preventDefault()}},[n,r,p.paused]);return s.jsx(fe.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});mb.displayName=$I;function UI(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Wn(r,{select:t}),document.activeElement!==n)return}function VI(e){const t=pb(e),n=lg(t,e),r=lg(t.reverse(),e);return[n,r]}function pb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lg(e,t){for(const n of e)if(!BI(n,{upTo:t}))return n}function BI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HI(e){return e instanceof HTMLInputElement&&"select"in e}function Wn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&HI(e)&&t&&e.select()}}var cg=GI();function GI(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ug(e,t),e.unshift(t)},remove(t){var n;e=ug(e,t),(n=e[0])==null||n.resume()}}}function ug(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function WI(e){return e.filter(t=>t.tagName!=="A")}var bu=0;function KI(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dg()),document.body.insertAdjacentElement("beforeend",e[1]??dg()),bu++,()=>{bu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),bu--}},[])}function dg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var on=function(){return on=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},on.apply(this,arguments)};function xb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function qI(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Ho="right-scroll-bar-position",Go="width-before-scroll-bar",QI="with-scroll-bars-hidden",YI="--removed-body-scroll-bar-size";function Nu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XI(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var JI=typeof window<"u"?m.useLayoutEffect:m.useEffect,hg=new WeakMap;function ZI(e,t){var n=XI(t||null,function(r){return e.forEach(function(i){return Nu(i,r)})});return JI(function(){var r=hg.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||Nu(l,null)}),a.forEach(function(l){i.has(l)||Nu(l,o)})}hg.set(n,e)},[e]),n}function e3(e){return e}function t3(e,t){t===void 0&&(t=e3);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function n3(e){e===void 0&&(e={});var t=t3(null);return t.options=on({async:!0,ssr:!1},e),t}var gb=function(e){var t=e.sideCar,n=xb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,on({},n))};gb.isSideCarExport=!0;function r3(e,t){return e.useMedium(t),gb}var vb=n3(),Su=function(){},yc=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Su,onWheelCapture:Su,onTouchMoveCapture:Su}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,w=e.noIsolation,g=e.inert,y=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,j=e.gapMode,b=xb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,E=ZI([n,t]),_=on(on({},b),i);return m.createElement(m.Fragment,null,d&&m.createElement(C,{sideCar:vb,removeScrollBar:u,shards:h,noRelative:p,noIsolation:w,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:j}),o?m.cloneElement(m.Children.only(l),on(on({},_),{ref:E})):m.createElement(v,on({},_,{className:c,ref:E}),l))});yc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yc.classNames={fullWidth:Go,zeroRight:Ho};var fg,s3=function(){if(fg)return fg;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=s3();return t&&e.setAttribute("nonce",t),e}function a3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function o3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var l3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=i3())&&(a3(t,n),o3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c3=function(){var e=l3();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yb=function(){var e=c3(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},u3={left:0,top:0,right:0,gap:0},Cu=function(e){return parseInt(e||"",10)||0},d3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Cu(n),Cu(r),Cu(i)]},h3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u3;var t=d3(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},f3=yb(),Bs="data-scroll-locked",m3=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(QI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Bs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ho,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Go,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ho," .").concat(Ho,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Go," .").concat(Go,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bs,`] {
    `).concat(YI,": ").concat(l,`px;
  }
`)},mg=function(){var e=parseInt(document.body.getAttribute(Bs)||"0",10);return isFinite(e)?e:0},p3=function(){m.useEffect(function(){return document.body.setAttribute(Bs,(mg()+1).toString()),function(){var e=mg()-1;e<=0?document.body.removeAttribute(Bs):document.body.setAttribute(Bs,e.toString())}},[])},x3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;p3();var a=m.useMemo(function(){return h3(i)},[i]);return m.createElement(f3,{styles:m3(a,!t,i,n?"":"!important")})},ch=!1;if(typeof window<"u")try{var So=Object.defineProperty({},"passive",{get:function(){return ch=!0,!0}});window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{ch=!1}var xs=ch?{passive:!1}:!1,g3=function(e){return e.tagName==="TEXTAREA"},wb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!g3(e)&&n[t]==="visible")},v3=function(e){return wb(e,"overflowY")},y3=function(e){return wb(e,"overflowX")},pg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=jb(e,r);if(i){var a=bb(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},w3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},j3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},jb=function(e,t){return e==="v"?v3(t):y3(t)},bb=function(e,t){return e==="v"?w3(t):j3(t)},b3=function(e,t){return e==="h"&&t==="rtl"?-1:1},N3=function(e,t,n,r,i){var a=b3(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var p=bb(e,l),w=p[0],g=p[1],y=p[2],x=g-y-a*w;(w||x)&&jb(e,l)&&(h+=x,f+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(i&&Math.abs(h)<1||!i&&o>h)||!d&&(i&&Math.abs(f)<1||!i&&-o>f))&&(u=!0),u},Co=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xg=function(e){return[e.deltaX,e.deltaY]},gg=function(e){return e&&"current"in e?e.current:e},S3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_3=0,gs=[];function P3(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(_3++)[0],a=m.useState(yb)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=qI([e.lockRef.current],(e.shards||[]).map(gg),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Co(g),v=n.current,j="deltaX"in g?g.deltaX:v[0]-x[0],b="deltaY"in g?g.deltaY:v[1]-x[1],C,E=g.target,_=Math.abs(j)>Math.abs(b)?"h":"v";if("touches"in g&&_==="h"&&E.type==="range")return!1;var N=pg(_,E);if(!N)return!0;if(N?C=_:(C=_==="v"?"h":"v",N=pg(_,E)),!N)return!1;if(!r.current&&"changedTouches"in g&&(j||b)&&(r.current=C),!C)return!0;var P=r.current||C;return N3(P,y,g,P==="h"?j:b,!0)},[]),c=m.useCallback(function(g){var y=g;if(!(!gs.length||gs[gs.length-1]!==a)){var x="deltaY"in y?xg(y):Co(y),v=t.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&S3(C.delta,x)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var j=(o.current.shards||[]).map(gg).filter(Boolean).filter(function(C){return C.contains(y.target)}),b=j.length>0?l(y,j[0]):!o.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(g,y,x,v){var j={name:g,delta:y,target:x,should:v,shadowParent:E3(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(b){return b!==j})},1)},[]),d=m.useCallback(function(g){n.current=Co(g),r.current=void 0},[]),h=m.useCallback(function(g){u(g.type,xg(g),g.target,l(g,e.lockRef.current))},[]),f=m.useCallback(function(g){u(g.type,Co(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return gs.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,xs),document.addEventListener("touchmove",c,xs),document.addEventListener("touchstart",d,xs),function(){gs=gs.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,xs),document.removeEventListener("touchmove",c,xs),document.removeEventListener("touchstart",d,xs)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(a,{styles:C3(i)}):null,p?m.createElement(x3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function E3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const T3=r3(vb,P3);var Nb=m.forwardRef(function(e,t){return m.createElement(yc,on({},e,{ref:t,sideCar:T3}))});Nb.classNames=yc.classNames;const k3=Nb;var A3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vs=new WeakMap,_o=new WeakMap,Po={},_u=0,Sb=function(e){return e&&(e.host||Sb(e.parentNode))},R3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Sb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},I3=function(e,t,n,r){var i=R3(t,Array.isArray(e)?e:[e]);Po[n]||(Po[n]=new WeakMap);var a=Po[n],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),w=p!==null&&p!=="false",g=(vs.get(f)||0)+1,y=(a.get(f)||0)+1;vs.set(f,g),a.set(f,y),o.push(f),g===1&&w&&_o.set(f,!0),y===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),_u++,function(){o.forEach(function(h){var f=vs.get(h)-1,p=a.get(h)-1;vs.set(h,f),a.set(h,p),f||(_o.has(h)||h.removeAttribute(r),_o.delete(h)),p||h.removeAttribute(n)}),_u--,_u||(vs=new WeakMap,vs=new WeakMap,_o=new WeakMap,Po={})}},D3=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||A3(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),I3(r,i,n,"aria-hidden")):function(){return null}},wc="Dialog",[Cb,_b]=Pr(wc),[O3,nn]=Cb(wc),Pb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Jl({prop:r,defaultProp:i??!1,onChange:a,caller:wc});return s.jsx(O3,{scope:t,triggerRef:l,contentRef:c,contentId:Yi(),titleId:Yi(),descriptionId:Yi(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};Pb.displayName=wc;var Eb="DialogTrigger",Tb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(Eb,n),a=bt(t,i.triggerRef);return s.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rm(i.open),...r,ref:a,onClick:he(e.onClick,i.onOpenToggle)})});Tb.displayName=Eb;var tm="DialogPortal",[L3,kb]=Cb(tm,{forceMount:void 0}),Ab=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=nn(tm,t);return s.jsx(L3,{scope:t,forceMount:n,children:m.Children.map(r,o=>s.jsx(oi,{present:n||a.open,children:s.jsx(hf,{asChild:!0,container:i,children:o})}))})};Ab.displayName=tm;var Il="DialogOverlay",Rb=m.forwardRef((e,t)=>{const n=kb(Il,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=nn(Il,e.__scopeDialog);return a.modal?s.jsx(oi,{present:r||a.open,children:s.jsx(z3,{...i,ref:t})}):null});Rb.displayName=Il;var M3=ga("DialogOverlay.RemoveScroll"),z3=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(Il,n);return s.jsx(k3,{as:M3,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(fe.div,{"data-state":rm(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),rs="DialogContent",Ib=m.forwardRef((e,t)=>{const n=kb(rs,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=nn(rs,e.__scopeDialog);return s.jsx(oi,{present:r||a.open,children:a.modal?s.jsx(F3,{...i,ref:t}):s.jsx($3,{...i,ref:t})})});Ib.displayName=rs;var F3=m.forwardRef((e,t)=>{const n=nn(rs,e.__scopeDialog),r=m.useRef(null),i=bt(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return D3(a)},[]),s.jsx(Db,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:he(e.onFocusOutside,a=>a.preventDefault())})}),$3=m.forwardRef((e,t)=>{const n=nn(rs,e.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return s.jsx(Db,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Db=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=nn(rs,n),c=m.useRef(null),u=bt(t,c);return KI(),s.jsxs(s.Fragment,{children:[s.jsx(mb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(df,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rm(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(V3,{titleId:l.titleId}),s.jsx(H3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),nm="DialogTitle",Ob=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(nm,n);return s.jsx(fe.h2,{id:i.titleId,...r,ref:t})});Ob.displayName=nm;var Lb="DialogDescription",Mb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(Lb,n);return s.jsx(fe.p,{id:i.descriptionId,...r,ref:t})});Mb.displayName=Lb;var zb="DialogClose",Fb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(zb,n);return s.jsx(fe.button,{type:"button",...r,ref:t,onClick:he(e.onClick,()=>i.onOpenChange(!1))})});Fb.displayName=zb;function rm(e){return e?"open":"closed"}var $b="DialogTitleWarning",[U3,Ub]=o_($b,{contentName:rs,titleName:nm,docsSlug:"dialog"}),V3=({titleId:e})=>{const t=Ub($b),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},B3="DialogDescriptionWarning",H3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ub(B3).contentName}}.`;return m.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},G3=Pb,W3=Tb,K3=Ab,q3=Rb,Q3=Ib,Y3=Ob,X3=Mb,Vb=Fb,Bb="AlertDialog",[J3,iO]=Pr(Bb,[_b]),Un=_b(),Hb=e=>{const{__scopeAlertDialog:t,...n}=e,r=Un(t);return s.jsx(G3,{...r,...n,modal:!0})};Hb.displayName=Bb;var Z3="AlertDialogTrigger",Gb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Un(n);return s.jsx(W3,{...i,...r,ref:t})});Gb.displayName=Z3;var eD="AlertDialogPortal",Wb=e=>{const{__scopeAlertDialog:t,...n}=e,r=Un(t);return s.jsx(K3,{...r,...n})};Wb.displayName=eD;var tD="AlertDialogOverlay",Kb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Un(n);return s.jsx(q3,{...i,...r,ref:t})});Kb.displayName=tD;var Hs="AlertDialogContent",[nD,rD]=J3(Hs),sD=d_("AlertDialogContent"),qb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Un(n),o=m.useRef(null),l=bt(t,o),c=m.useRef(null);return s.jsx(U3,{contentName:Hs,titleName:Qb,docsSlug:"alert-dialog",children:s.jsx(nD,{scope:n,cancelRef:c,children:s.jsxs(Q3,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:he(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(sD,{children:r}),s.jsx(aD,{contentRef:o})]})})})});qb.displayName=Hs;var Qb="AlertDialogTitle",Yb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Un(n);return s.jsx(Y3,{...i,...r,ref:t})});Yb.displayName=Qb;var Xb="AlertDialogDescription",Jb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Un(n);return s.jsx(X3,{...i,...r,ref:t})});Jb.displayName=Xb;var iD="AlertDialogAction",Zb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Un(n);return s.jsx(Vb,{...i,...r,ref:t})});Zb.displayName=iD;var e1="AlertDialogCancel",t1=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=rD(e1,n),a=Un(n),o=bt(t,i);return s.jsx(Vb,{...a,...r,ref:o})});t1.displayName=e1;var aD=({contentRef:e})=>{const t=`\`${Hs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hs}\` by passing a \`${Xb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},oD=Hb,lD=Gb,cD=Wb,n1=Kb,r1=qb,s1=Zb,i1=t1,a1=Yb,o1=Jb;const tr=oD,nr=lD,uD=cD,l1=X.forwardRef(({className:e,...t},n)=>s.jsx(n1,{className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));l1.displayName=n1.displayName;const Sn=X.forwardRef(({className:e,...t},n)=>s.jsxs(uD,{children:[s.jsx(l1,{}),s.jsx(r1,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Sn.displayName=r1.displayName;const Cn=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});Cn.displayName="AlertDialogHeader";const _n=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_n.displayName="AlertDialogFooter";const Pn=X.forwardRef(({className:e,...t},n)=>s.jsx(a1,{ref:n,className:ie("text-lg font-semibold",e),...t}));Pn.displayName=a1.displayName;const En=X.forwardRef(({className:e,...t},n)=>s.jsx(o1,{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));En.displayName=o1.displayName;const rr=X.forwardRef(({className:e,...t},n)=>s.jsx(s1,{ref:n,className:ie(Qf(),e),...t}));rr.displayName=s1.displayName;const Tn=X.forwardRef(({className:e,...t},n)=>s.jsx(i1,{ref:n,className:ie(Qf({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Tn.displayName=i1.displayName;function dD(){const e=ce(),{login:t,sendPasswordResetEmail:n}=qe(),{toast:r}=je(),[i,a]=m.useState({email:"",password:""}),[o,l]=m.useState(!1);m.useState("");const c=async d=>{d.preventDefault(),l(!0);const h=await t(i.email,i.password);h.success?(r({title:"Bentornato! ",description:"Accesso effettuato con successo. Benvenuto in SardAI!"}),e("/dashboard")):r({title:"Errore di accesso",description:h.error||"Credenziali non valide",variant:"destructive"}),l(!1)},u=d=>{a({...i,[d.target.name]:d.target.value})};return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Accedi - SardAI"}),s.jsx("meta",{name:"description",content:"Accedi al tuo account SardAI e inizia a conversare con l'assistente virtuale sardo."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/"),className:"text-white hover:bg-white/10 mb-6",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna alla Home"]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(q,{className:"text-2xl font-bold text-white",children:"Bentornato!"}),s.jsx(Nn,{className:"text-gray-300",children:"Accedi al tuo account per continuare a conversare"})]}),s.jsxs(B,{children:[s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"email",className:"text-white",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(vr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"email",name:"email",type:"email",placeholder:"la.tua.email@esempio.com",value:i.email,onChange:u,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"password",className:"text-white",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(qr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"password",name:"password",type:"password",placeholder:"La tua password",value:i.password,onChange:u,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsx(T,{type:"submit",disabled:o,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:o?"Accesso in corso...":"Accedi"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-300",children:["Non hai ancora un account?"," ",s.jsx(xt,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Registrati qui"})]})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(T,{variant:"ghost",onClick:()=>e("/auth/resend-confirmation"),className:"text-gray-400 hover:text-gray-300",children:"Password dimenticata?"})}),s.jsx("div",{className:"mt-2 text-center",children:s.jsx(T,{variant:"ghost",onClick:()=>e("/auth/resend-confirmation"),className:"text-gray-400 hover:text-gray-300 text-sm",children:"Non hai ricevuto l'email di conferma?"})})]})]})]})})]})}function hD(){const e=ce(),{register:t}=qe(),{toast:n}=je(),[r,i]=m.useState({name:"",email:"",password:"",confirmPassword:""}),[a,o]=m.useState(!1),l=async u=>{if(u.preventDefault(),r.password!==r.confirmPassword){n({title:"Errore",description:"Le password non coincidono",variant:"destructive"});return}if(r.password.length<6){n({title:"Errore",description:"La password deve essere di almeno 6 caratteri",variant:"destructive"});return}o(!0);const d=await t({name:r.name,email:r.email,password:r.password});d.success?(n({title:"Benvenuto in SardAI! ",description:"Registrazione quasi completata! Controlla la tua email per confermare l'account."}),e("/login")):n({title:"Errore di registrazione",description:d.error||"Si  verificato un errore, l'utente potrebbe gi esistere.",variant:"destructive"}),o(!1)},c=u=>{i({...r,[u.target.name]:u.target.value})};return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Registrati - SardAI"}),s.jsx("meta",{name:"description",content:"Crea il tuo account SardAI e inizia a conversare con l'assistente virtuale sardo."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/"),className:"text-white hover:bg-white/10 mb-6",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna alla Home"]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(q,{className:"text-2xl font-bold text-white",children:"Unisciti a SardAI"}),s.jsx(Nn,{className:"text-gray-300",children:"Crea il tuo account e inizia a conversare"})]}),s.jsxs(B,{children:[s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"name",className:"text-white",children:"Nome completo"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"name",name:"name",type:"text",placeholder:"Il tuo nome",value:r.name,onChange:c,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"email",className:"text-white",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(vr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"email",name:"email",type:"email",placeholder:"la.tua.email@esempio.com",value:r.email,onChange:c,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"password",className:"text-white",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(qr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"password",name:"password",type:"password",placeholder:"Almeno 6 caratteri",value:r.password,onChange:c,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"confirmPassword",className:"text-white",children:"Conferma password"}),s.jsxs("div",{className:"relative",children:[s.jsx(qr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Ripeti la password",value:r.confirmPassword,onChange:c,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsx(T,{type:"submit",disabled:a,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:a?"Registrazione in corso...":"Crea Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-300",children:["Hai gi un account?"," ",s.jsx(xt,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Accedi qui"})]})})]})]})]})})]})}function fD(){ce();const{user:e,profile:t}=qe(),[n,r]=m.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Dashboard - SardAI"}),s.jsx("meta",{name:"description",content:"Dashboard personale di SardAI con statistiche e accesso rapido alle funzionalit."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern flex",children:[s.jsx(Jf,{isOpen:n,onClose:()=>r(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"lg:hidden text-white hover:bg-white/10",children:s.jsx(tc,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Dashboard"})]})]}),s.jsxs("div",{className:"text-sm text-gray-300",children:["Benvenuto, ",t==null?void 0:t.full_name,"!"]})]})}),s.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Ciao, ",t==null?void 0:t.full_name,"! "]}),s.jsx("p",{className:"text-gray-300",children:"Pronto per una nuova conversazione con SardAI?"})]}),s.jsx(xt,{to:"/chat",children:s.jsxs(T,{className:"sardinian-gradient hover:opacity-90",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Inizia Chat"]})})]})})})}),s.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Conversazioni"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"12"})]}),s.jsx(Fe,{className:"w-8 h-8 text-blue-400"})]})})}),s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Giorni Attivo"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:e!=null&&e.created_at?Math.floor((new Date-new Date(e.created_at))/(1e3*60*60*24)):0})]}),s.jsx(ns,{className:"w-8 h-8 text-green-400"})]})})}),s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Messaggi Inviati"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"47"})]}),s.jsx(Oy,{className:"w-8 h-8 text-purple-400"})]})})}),s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Piano"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:(t==null?void 0:t.role)==="admin"?"Admin":t!=null&&t.is_premium?"Premium":"Gratuito"})]}),(t==null?void 0:t.role)==="admin"?s.jsx(et,{className:"w-8 h-8 text-red-400"}):t!=null&&t.is_premium?s.jsx(W,{className:"w-8 h-8 text-yellow-400"}):s.jsx(Qr,{className:"w-8 h-8 text-gray-400"})]})})})]}),s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(nc,{className:"w-5 h-5 mr-2"}),"Azioni Rapide"]})}),s.jsx(B,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(xt,{to:"/chat",children:s.jsxs(T,{variant:"outline",className:"w-full h-20 flex flex-col space-y-2 border-white/20 text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-6 h-6"}),s.jsx("span",{children:"Nuova Chat"})]})}),s.jsx(xt,{to:"/profile",children:s.jsxs(T,{variant:"outline",className:"w-full h-20 flex flex-col space-y-2 border-white/20 text-white hover:bg-white/10",children:[s.jsx(Qr,{className:"w-6 h-6"}),s.jsx("span",{children:"Modifica Profilo"})]})}),!(t!=null&&t.is_premium)&&(t==null?void 0:t.role)!=="admin"&&s.jsx(xt,{to:"/subscription",children:s.jsxs(T,{variant:"outline",className:"w-full h-20 flex flex-col space-y-2 border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10",children:[s.jsx(W,{className:"w-6 h-6"}),s.jsx("span",{children:"Diventa Premium"})]})})]})})]})}),s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(ky,{className:"w-5 h-5 mr-2"}),"Attivit Recente"]})}),s.jsx(B,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/30",children:[s.jsx(Fe,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:"Conversazione in modalit gratuita"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"2 ore fa"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/30",children:[s.jsx(Qr,{className:"w-5 h-5 text-green-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:"Profilo aggiornato"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"1 giorno fa"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/30",children:[s.jsx(Ce,{className:"w-5 h-5 text-purple-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:"Primo accesso a SardAI"}),s.jsx("p",{className:"text-gray-400 text-xs",children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("it-IT"):"Data non disponibile"})]})]})]})})]})}),!(t!=null&&t.is_premium)&&(t==null?void 0:t.role)!=="admin"&&s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsx($,{className:"sardinian-card premium-glow",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(W,{className:"w-12 h-12 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Sblocca SardAI Premium"}),s.jsx("p",{className:"text-gray-300",children:"Conversa in lingua sarda autentica e accedi a funzionalit esclusive"})]})]}),s.jsx(xt,{to:"/subscription",children:s.jsx(T,{className:"sardinian-gradient hover:opacity-90",children:"Scopri Premium"})})]})})})})]})})]})]})]})}function mD(){var y,x;const e=ce(),{user:t,profile:n,updateProfile:r}=qe(),{toast:i}=je(),[a,o]=m.useState({full_name:"",email:""}),[l,c]=m.useState(!1),[u,d]=m.useState(null),[h,f]=m.useState(!1);m.useEffect(()=>{n&&(o({full_name:n.full_name||"",email:t.email}),d(n.avatar_url))},[n,t]);const p=async v=>{v.preventDefault(),c(!0);const{error:j}=await r({full_name:a.full_name});i(j?{title:"Errore",description:j,variant:"destructive"}:{title:"Profilo aggiornato! ",description:"Le tue informazioni sono state salvate con successo."}),c(!1)},w=v=>{o({...a,[v.target.name]:v.target.value})},g=async v=>{try{if(f(!0),!v.target.files||v.target.files.length===0)throw new Error("You must select an image to upload.");const j=v.target.files[0],b=j.name.split(".").pop(),E=`${`${t.id}.${b}`}`;let{error:_}=await Y.storage.from("avatars").upload(E,j,{upsert:!0});if(_)throw _;const{data:{publicUrl:N}}=Y.storage.from("avatars").getPublicUrl(E);await r({avatar_url:N}),d(N),i({title:"Avatar aggiornato!",description:"La tua immagine del profilo  stata cambiata."})}catch(j){i({title:"Errore caricamento avatar",description:j.message,variant:"destructive"})}finally{f(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Profilo - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo profilo SardAI e le impostazioni del tuo account."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Il Mio Profilo"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsx($,{className:"sardinian-card mb-8",children:s.jsxs(K,{className:"text-center",children:[s.jsxs("div",{className:"relative mx-auto mb-4",children:[s.jsxs(Ft,{className:"w-24 h-24 mx-auto",children:[s.jsx(Ea,{src:u}),s.jsx($t,{className:"bg-blue-600 text-white text-2xl",children:(x=(y=n==null?void 0:n.full_name)==null?void 0:y.charAt(0))==null?void 0:x.toUpperCase()})]}),s.jsx(T,{size:"icon",asChild:!0,className:"absolute bottom-0 right-0 rounded-full w-8 h-8 sardinian-gradient",children:s.jsxs(Et,{htmlFor:"avatar-upload",children:[s.jsx(Ay,{className:"w-4 h-4"}),s.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:g,disabled:h,className:"hidden"})]})})]}),s.jsx(q,{className:"text-2xl text-white",children:n==null?void 0:n.full_name}),s.jsx(Nn,{className:"text-gray-300 flex items-center justify-center space-x-2",children:(n==null?void 0:n.role)==="admin"?s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{children:"Amministratore"})]}):n!=null&&n.is_premium?s.jsxs(s.Fragment,{children:[s.jsx(W,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:"Utente Premium"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ht,{className:"w-4 h-4"}),s.jsx("span",{children:"Utente Gratuito"})]})})]})}),s.jsxs($,{className:"sardinian-card mb-8",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(Ht,{className:"w-5 h-5 mr-2"}),"Informazioni Account"]})}),s.jsx(B,{children:s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"full_name",className:"text-white",children:"Nome completo"}),s.jsx(Pe,{id:"full_name",name:"full_name",type:"text",value:a.full_name,onChange:w,className:"bg-slate-800/50 border-slate-600 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"email",className:"text-white",children:"Email"}),s.jsx(Pe,{id:"email",name:"email",type:"email",value:a.email,disabled:!0,className:"bg-slate-800/50 border-slate-600 text-white disabled:opacity-70"})]}),s.jsxs(T,{type:"submit",disabled:l||h,className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(zd,{className:"w-4 h-4 mr-2"}),l?"Salvataggio...":"Salva Modifiche"]})]})})]}),s.jsxs($,{className:"sardinian-card mb-8",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(ns,{className:"w-5 h-5 mr-2"}),"Statistiche Account"]})}),s.jsx(B,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-400",children:t!=null&&t.created_at?Math.floor((new Date-new Date(t.created_at))/(1e3*60*60*24)):0}),s.jsx("p",{className:"text-gray-300",children:"Giorni con SardAI"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-400",children:(n==null?void 0:n.role)==="admin"?"Admin":n!=null&&n.is_premium?"Premium":"Gratuito"}),s.jsx("p",{className:"text-gray-300",children:"Tipo di Account"})]})]})})]}),!(n!=null&&n.is_premium)&&(n==null?void 0:n.role)!=="admin"&&s.jsxs($,{className:"sardinian-card premium-glow",children:[s.jsxs(K,{children:[s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(W,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Diventa Premium"]}),s.jsx(Nn,{className:"text-gray-300",children:"Sblocca la modalit sarda autentica e funzionalit esclusive"})]}),s.jsx(B,{children:s.jsxs(T,{onClick:()=>e("/subscription"),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),"Scopri Premium"]})})]})]})})})]})]})}function pD(){var p,w,g,y;const e=ce(),[t]=hn(),{profile:n}=qe();je();const{createCheckoutSession:r,handlePaymentSuccess:i,handlePaymentCanceled:a,loading:o}=vc(),{subscription:l,loading:c,refetch:u}=ds();if(m.useEffect(()=>{const x=t.get("payment");x==="success"?(i(),u(),e("/subscription",{replace:!0})):x==="canceled"&&(a(),e("/subscription",{replace:!0}))},[t,i,a,e,u]),(n==null?void 0:n.role)==="admin")return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Abbonamento Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento Premium SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pannello Admin"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:s.jsxs($,{className:"sardinian-card text-center",children:[s.jsxs(K,{children:[s.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(et,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-3xl text-white",children:"Accesso Amministratore "}),s.jsx(Nn,{className:"text-gray-300 text-lg",children:"Come amministratore hai accesso completo a tutte le funzionalit di SardAI!"})]}),s.jsx(B,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white",children:"Il tuo ruolo di amministratore ti d accesso a:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:["Tutte le funzionalit Premium","Chat in lingua sarda autentica","Pannello di amministrazione","Gestione utenti e segnalazioni","Statistiche e log di sistema","Gestione storage e file"].map((x,v)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:x})]},v))}),s.jsxs("div",{className:"flex space-x-4 mt-6",children:[s.jsxs(T,{onClick:()=>e("/admin"),className:"flex-1 bg-red-600 hover:bg-red-700",children:[s.jsx(et,{className:"w-4 h-4 mr-2"}),"Pannello Admin"]}),s.jsx(T,{onClick:()=>e("/chat"),className:"flex-1 sardinian-gradient hover:opacity-90",children:"Inizia Chat Premium"})]})]})})]})})})})]})]});if(l!=null&&l.isActive)return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Abbonamento Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento Premium SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Abbonamento Premium"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:s.jsxs($,{className:"sardinian-card premium-glow text-center",children:[s.jsxs(K,{children:[s.jsx("div",{className:"w-16 h-16 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(W,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-3xl text-white",children:"Sei gi Premium! "}),s.jsx(Nn,{className:"text-gray-300 text-lg",children:"Grazie per supportare SardAI. Goditi tutte le funzionalit premium!"})]}),s.jsx(B,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Piano Attuale"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-400 font-medium",children:((p=l.product)==null?void 0:p.name)||"Abbonamento Premium"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[(w=l.product)==null?void 0:w.price," ",(g=l.product)==null?void 0:g.currency," / ",((y=l.product)==null?void 0:y.interval)==="month"?"mese":"anno"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Rinnovo"}),s.jsx("p",{className:"text-white text-sm",children:l.current_period_end?new Date(l.current_period_end*1e3).toLocaleDateString("it-IT"):"N/A"})]})]}),l.cancel_at_period_end&&s.jsx("div",{className:"mt-3 p-2 bg-yellow-900/30 border border-yellow-500/30 rounded",children:s.jsx("p",{className:"text-yellow-400 text-sm",children:" L'abbonamento verr cancellato alla fine del periodo corrente"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white",children:"Il tuo abbonamento Premium ti d accesso a:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:["Chat in lingua sarda autentica","Dialetti: Logudorese, Campidanese","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle nuove funzionalit"].map((x,v)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:x})]},v))}),s.jsx(T,{onClick:()=>e("/chat"),className:"w-full sardinian-gradient hover:opacity-90 mt-6",children:"Inizia a Conversare in Sardo"})]})]})})]})})})})]})]});const d=x=>{r(x,"subscription")},h=["Chat in italiano con carattere sardo","Accesso alle informazioni base sulla Sardegna","Umorismo e calore tipico sardo","Supporto via email"],f=["Chat in lingua sarda autentica","Dialetti: Logudorese, Campidanese, Baronia","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle nuove funzionalit"];return c?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Diventa Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Sblocca la modalit sarda autentica e funzionalit esclusive con SardAI Premium."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Diventa Premium"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Sblocca il Vero Potere di",s.jsx("span",{className:"block sardinian-gradient bg-clip-text text-transparent",children:"SardAI Premium"})]}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Conversa in lingua sarda autentica e accedi a contenuti culturali esclusivi"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[s.jsx(F.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:s.jsxs($,{className:"sardinian-card h-full",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Fe,{className:"w-6 h-6 text-white"})}),s.jsx(q,{className:"text-2xl text-white",children:"Gratuito"}),s.jsx(Nn,{className:"text-gray-300",children:"Perfetto per iniziare"}),s.jsxs("div",{className:"text-3xl font-bold text-white mt-4",children:["0",s.jsx("span",{className:"text-lg font-normal text-gray-400",children:"/mese"})]})]}),s.jsxs(B,{children:[s.jsx("div",{className:"space-y-3",children:h.map((x,v)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:x})]},v))}),s.jsx(T,{variant:"outline",className:"w-full mt-6 border-white/20 text-white hover:bg-white/10",disabled:!0,children:"Piano Attuale"})]})]})}),Yr.map((x,v)=>s.jsx(F.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4+v*.1},children:s.jsxs($,{className:`sardinian-card premium-glow h-full relative ${x.interval==="month"?"border-yellow-500/30":""}`,children:[x.interval==="month"&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"bg-yellow-500 text-black px-4 py-1 rounded-full text-sm font-medium",children:"Pi Popolare"})}),s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(W,{className:"w-6 h-6 text-white"})}),s.jsx(q,{className:"text-2xl text-white",children:x.name}),s.jsx(Nn,{className:"text-gray-300",children:x.description}),s.jsxs("div",{className:"text-3xl font-bold text-white mt-4",children:[x.price," ",x.currency,s.jsxs("span",{className:"text-lg font-normal text-gray-400",children:["/",x.interval==="month"?"mese":"anno"]})]}),x.interval==="year"&&s.jsx("div",{className:"text-sm text-green-400 mt-2",children:"Risparmia il 17% rispetto al piano mensile!"})]}),s.jsxs(B,{children:[s.jsx("div",{className:"space-y-3",children:f.map((j,b)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:j})]},b))}),s.jsx(T,{onClick:()=>d(x.priceId),disabled:o,className:"w-full mt-6 sardinian-gradient hover:opacity-90 text-lg py-3",children:o?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Caricamento..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),"Diventa Premium"]})})]})]})},x.id))]}),s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-center",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-8",children:"Perch Scegliere Premium?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(wl,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),s.jsx(q,{className:"text-white",children:"Lingua Autentica"})]}),s.jsx(B,{children:s.jsx("p",{className:"text-gray-300",children:"Conversa in vero sardo con dialetti logudorese, campidanese e varianti locali"})})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(Vi,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),s.jsx(q,{className:"text-white",children:"Cultura Profonda"})]}),s.jsx(B,{children:s.jsx("p",{className:"text-gray-300",children:"Accedi a contenuti culturali esclusivi, tradizioni e storia sarda"})})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(nc,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),s.jsx(q,{className:"text-white",children:"Funzionalit Esclusive"})]}),s.jsx(B,{children:s.jsx("p",{className:"text-gray-300",children:"Mini-corsi, traduzione, guida turistica e accesso anticipato alle novit"})})]})]})]})]})})]})]})}function xD(){var u;const[e,t]=m.useState(null),[n,r]=m.useState(!0),[i,a]=m.useState(!1),{toast:o}=je();m.useEffect(()=>{l()},[]);const l=async(d=!1)=>{try{d?a(!0):r(!0);const{data:h,error:f}=await Y.functions.invoke("admin-stats",{body:{refresh:d}});if(f)throw f;t(h)}catch(h){o({title:"Errore nel caricamento delle statistiche",description:h.message,variant:"destructive"})}finally{d?a(!1):r(!1)}};if(n)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(7)].map((d,h)=>s.jsx($,{className:"sardinian-card animate-pulse",children:s.jsx(B,{className:"p-6",children:s.jsx("div",{className:"h-16 bg-slate-700 rounded"})})},h))});if(!e)return null;const c=[{title:"Utenti Totali",value:e.totalUsers,icon:Qr,color:"text-blue-400"},{title:"Nuovi Utenti",value:e.newUsers,icon:Oy,color:"text-green-400"},{title:"Utenti Premium",value:e.premiumUsers,icon:W,color:"text-yellow-400"},{title:"Attivi (7gg)",value:e.activeUsers,icon:eP,color:"text-purple-400"},{title:"Segnalazioni",value:e.pendingReports,icon:yl,color:"text-cyan-400"},{title:"Errori Sistema",value:e.systemErrors,icon:gt,color:"text-orange-400"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Statistiche Utenti"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Ultimo aggiornamento: ",e.lastUpdated?new Date(e.lastUpdated).toLocaleString("it-IT"):"Mai"]}),s.jsxs(T,{onClick:()=>l(!0),variant:"outline",size:"sm",disabled:i,className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),i?"Aggiornamento...":"Aggiorna"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((d,h)=>s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium",children:d.title}),s.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:d.value})]}),s.jsx(d.icon,{className:`w-8 h-8 ${d.color}`})]})})},h))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Crescita Utenti"})}),s.jsx(B,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Nuovi (30gg)"}),s.jsxs("span",{className:"text-blue-400 font-bold",children:["+",e.newUsers]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Attivi"}),s.jsx("span",{className:"text-purple-400 font-bold",children:e.activeUsers})]})]})})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Premium Stats"})}),s.jsx(B,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Utenti Premium"}),s.jsx("span",{className:"text-yellow-400 font-bold",children:e.premiumUsers})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Tasso Conversione"}),s.jsxs("span",{className:"text-green-400 font-bold",children:[e.totalUsers>0?(e.premiumUsers/e.totalUsers*100).toFixed(1):0,"%"]})]})]})})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Attivit Recente"})}),s.jsx(B,{children:s.jsxs("div",{className:"space-y-3",children:[(u=e.recentActivity)==null?void 0:u.slice(0,3).map((d,h)=>s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-300",children:d.action}),s.jsx("p",{className:"text-gray-500 text-xs",children:new Date(d.created_at).toLocaleString("it-IT")})]})]},h)),(!e.recentActivity||e.recentActivity.length===0)&&s.jsx("p",{className:"text-gray-400 text-sm",children:"Nessuna attivit recente"})]})})]})]})]})}function gD(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,a]=m.useState(""),[o,l]=m.useState(0);m.useState(0);const{toast:c}=je(),u=20;m.useEffect(()=>{d()},[o,i]);const d=async()=>{try{r(!0);const{data:w,error:g}=await Y.functions.invoke("admin-user-management",{body:{action:"list",limit:u,offset:o*u,search:i||null}});if(g)throw g;t(w||[])}catch(w){c({title:"Errore nel caricamento degli utenti",description:w.message,variant:"destructive"})}finally{r(!1)}},h=async(w,g,y=null)=>{try{const{data:x,error:v}=await Y.functions.invoke("admin-user-management",{body:{action:w,userId:g,email:y}});if(v)throw v;c({title:"Successo!",description:x.message||"Azione completata con successo."}),d()}catch(x){c({title:"Errore",description:x.message,variant:"destructive"})}},f=w=>{a(w.target.value),l(0)},p=w=>w?new Date(w).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Mai";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestione Utenti"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(Pe,{placeholder:"Cerca per email o nome...",value:i,onChange:f,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400 w-64"})]}),s.jsx(T,{onClick:d,variant:"outline",size:"icon",className:"border-white/20 text-white hover:bg-white/10",children:s.jsx(dn,{className:"w-4 h-4"})})]})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white",children:["Utenti Registrati (",e.length,")"]})}),s.jsx(B,{children:n?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-left text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{className:"p-4 font-medium",children:"Utente"}),s.jsx("th",{className:"p-4 font-medium",children:"Stato"}),s.jsx("th",{className:"p-4 font-medium",children:"Registrato"}),s.jsx("th",{className:"p-4 font-medium",children:"Ultimo Accesso"}),s.jsx("th",{className:"p-4 font-medium text-right",children:"Azioni"})]})}),s.jsx("tbody",{children:e.map(w=>s.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:w.full_name||"Nome non disponibile"}),s.jsx("p",{className:"text-gray-400 text-sm",children:w.email}),w.is_premium&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-yellow-500/20 text-yellow-400 mt-1",children:" Premium"})]})}),s.jsxs("td",{className:"p-4",children:[w.email_confirmed_at?s.jsxs("span",{className:"flex items-center text-green-400",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"Confermato"]}):s.jsxs("span",{className:"flex items-center text-yellow-400",children:[s.jsx(zn,{className:"w-4 h-4 mr-2"}),"In attesa"]}),w.role==="admin"&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-500/20 text-red-400 mt-1",children:" Admin"})]}),s.jsx("td",{className:"p-4 text-gray-300",children:p(w.created_at)}),s.jsx("td",{className:"p-4 text-gray-300",children:p(w.last_sign_in_at)}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[!w.email_confirmed_at&&s.jsxs(s.Fragment,{children:[s.jsxs(tr,{children:[s.jsx(nr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-green-400 hover:bg-green-400/10 hover:text-green-300",children:s.jsx(xP,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Conferma Utente"}),s.jsxs(En,{children:["Sei sicuro di voler confermare manualmente l'utente ",w.email,"? Questa azione  irreversibile."]})]}),s.jsxs(_n,{children:[s.jsx(Tn,{children:"Annulla"}),s.jsx(rr,{onClick:()=>h("confirm",w.id),children:"Conferma"})]})]})]}),s.jsxs(tr,{children:[s.jsx(nr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-blue-400 hover:bg-blue-400/10 hover:text-blue-300",children:s.jsx(uP,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Reinvia Email di Conferma"}),s.jsxs(En,{children:["Sei sicuro di voler reinviare l'email di conferma a ",w.email,"?"]})]}),s.jsxs(_n,{children:[s.jsx(Tn,{children:"Annulla"}),s.jsx(rr,{onClick:()=>h("resend_confirmation",null,w.email),children:"Reinvia"})]})]})]})]}),s.jsxs(tr,{children:[s.jsx(nr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-orange-400 hover:bg-orange-400/10 hover:text-orange-300",children:s.jsx(lP,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Reset Password"}),s.jsxs(En,{children:["Sei sicuro di voler inviare un'email di reset password a ",w.email,"?"]})]}),s.jsxs(_n,{children:[s.jsx(Tn,{children:"Annulla"}),s.jsx(rr,{onClick:()=>h("reset_password",null,w.email),children:"Invia Reset"})]})]})]}),s.jsxs(tr,{children:[s.jsx(nr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-red-400 hover:bg-red-400/10 hover:text-red-300",children:s.jsx(ba,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Elimina Utente"}),s.jsxs(En,{children:["Sei sicuro di voler eliminare l'utente ",w.email,"? Questa azione  irreversibile e rimuover tutti i dati associati."]})]}),s.jsxs(_n,{children:[s.jsx(Tn,{children:"Annulla"}),s.jsx(rr,{onClick:()=>h("delete",w.id),className:"bg-destructive hover:bg-destructive/90",children:"Elimina"})]})]})]})]})})]},w.id))})]}),e.length===0&&!n&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:i?"Nessun utente trovato per la ricerca.":"Nessun utente registrato."})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Pagina ",o+1," - Mostrando ",e.length," utenti"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(T,{variant:"outline",size:"sm",onClick:()=>l(Math.max(0,o-1)),disabled:o===0,className:"border-white/20 text-white hover:bg-white/10",children:"Precedente"}),s.jsx(T,{variant:"outline",size:"sm",onClick:()=>l(o+1),disabled:e.length<u,className:"border-white/20 text-white hover:bg-white/10",children:"Successiva"})]})]})]})}const c1=X.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));c1.displayName="Textarea";const vD=ec("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _t({className:e,variant:t,...n}){return s.jsx("div",{className:ie(vD({variant:t}),e),...n})}function yD(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,a]=m.useState(null),[o,l]=m.useState(""),{toast:c}=je();m.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const{data:w,error:g}=await Y.functions.invoke("admin-reports",{body:{action:"list"}});if(g)throw g;t(w||[])}catch(w){c({title:"Errore nel caricamento delle segnalazioni",description:w.message,variant:"destructive"})}finally{r(!1)}},d=async(w,g)=>{try{const{data:y,error:x}=await Y.functions.invoke("admin-reports",{body:{action:"update_status",reportId:w,status:g,notes:o}});if(x)throw x;c({title:"Stato aggiornato!",description:`Segnalazione marcata come ${g}.`}),u(),a(null),l("")}catch(y){c({title:"Errore",description:y.message,variant:"destructive"})}},h=w=>{const g={pending:{color:"bg-yellow-500/20 text-yellow-400",icon:zn,label:"In Attesa"},reviewed:{color:"bg-blue-500/20 text-blue-400",icon:gt,label:"Revisionata"},resolved:{color:"bg-green-500/20 text-green-400",icon:fr,label:"Risolta"},dismissed:{color:"bg-gray-500/20 text-gray-400",icon:yf,label:"Respinta"}},y=g[w]||g.pending,x=y.icon;return s.jsxs(_t,{className:`${y.color} border-0`,children:[s.jsx(x,{className:"w-3 h-3 mr-1"}),y.label]})},f=w=>({spam:"Spam",abuse:"Abuso",inappropriate:"Contenuto Inappropriato",other:"Altro"})[w]||w,p=w=>new Date(w).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(yl,{className:"w-6 h-6 mr-2"}),"Gestione Segnalazioni"]}),s.jsxs(T,{onClick:u,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna"]})]}),n?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsx("div",{className:"grid gap-6",children:e.length===0?s.jsx($,{className:"sardinian-card",children:s.jsxs(B,{className:"p-8 text-center",children:[s.jsx(yl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Nessuna segnalazione presente."})]})}):e.map(w=>{var g,y,x,v;return s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(gt,{className:"w-5 h-5 mr-2 text-orange-400"}),f(w.report_type)]}),h(w.status)]})}),s.jsxs(B,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Segnalato da:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-white",children:((g=w.reporter)==null?void 0:g.full_name)||"Nome non disponibile"}),s.jsxs("span",{className:"text-gray-400 text-sm",children:["(",(y=w.reporter)==null?void 0:y.email,")"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Utente segnalato:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-white",children:((x=w.reported_user)==null?void 0:x.full_name)||"Nome non disponibile"}),s.jsxs("span",{className:"text-gray-400 text-sm",children:["(",(v=w.reported_user)==null?void 0:v.email,")"]})]})]})]}),w.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Descrizione:"}),s.jsx("p",{className:"text-gray-300 bg-slate-800/50 p-3 rounded-lg",children:w.description})]}),w.admin_notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Note Admin:"}),s.jsx("p",{className:"text-gray-300 bg-blue-900/20 p-3 rounded-lg border border-blue-500/20",children:w.admin_notes})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[s.jsxs("div",{className:"text-sm text-gray-400",children:[s.jsxs("p",{children:["Creata: ",p(w.created_at)]}),w.resolved_at&&s.jsxs("p",{children:["Risolta: ",p(w.resolved_at)]})]}),w.status==="pending"&&s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(tr,{children:[s.jsx(nr,{asChild:!0,children:s.jsxs(T,{size:"sm",variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-500/10",onClick:()=>{a(w),l(w.admin_notes||"")},children:[s.jsx(Md,{className:"w-4 h-4 mr-2"}),"Gestisci"]})}),s.jsxs(Sn,{className:"sardinian-card max-w-2xl",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Gestisci Segnalazione"}),s.jsx(En,{children:"Aggiungi note e cambia lo stato della segnalazione."})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Note Admin:"}),s.jsx(c1,{value:o,onChange:j=>l(j.target.value),placeholder:"Aggiungi note sulla segnalazione...",className:"bg-slate-800/50 border-slate-600 text-white",rows:3})]})}),s.jsxs(_n,{className:"flex flex-wrap gap-2",children:[s.jsx(Tn,{children:"Annulla"}),s.jsx(T,{onClick:()=>d(w.id,"reviewed"),className:"bg-blue-600 hover:bg-blue-700",children:"Marca come Revisionata"}),s.jsx(T,{onClick:()=>d(w.id,"resolved"),className:"bg-green-600 hover:bg-green-700",children:"Risolvi"}),s.jsx(T,{onClick:()=>d(w.id,"dismissed"),variant:"outline",className:"border-gray-500 text-gray-300 hover:bg-gray-500/10",children:"Respingi"})]})]})]})})]})]})]},w.id)})})]})}const wD=()=>{const[e,t]=m.useState(!1),{toast:n}=je();return{uploadFile:async(o,l,c,u={})=>{try{if(t(!0),!o)throw new Error("No file selected");const d=l==="avatars"?5*1024*1024:10*1024*1024;if(o.size>d)throw new Error(`File size must be less than ${d/(1024*1024)}MB`);if(!["image/jpeg","image/png","image/gif","image/webp"].includes(o.type))throw new Error("File type not supported. Please use JPEG, PNG, GIF, or WebP.");const{data:f,error:p}=await Y.storage.from(l).upload(c,o,{cacheControl:"3600",upsert:u.upsert||!0,...u});if(p)throw p;const{data:{publicUrl:w}}=Y.storage.from(l).getPublicUrl(f.path);return{success:!0,data:{path:f.path,publicUrl:w,fullPath:f.fullPath}}}catch(d){return console.error("Upload error:",d),n({title:"Errore Upload",description:d.message,variant:"destructive"}),{success:!1,error:d.message}}finally{t(!1)}},deleteFile:async(o,l)=>{try{const{error:c}=await Y.storage.from(o).remove([l]);if(c)throw c;return{success:!0}}catch(c){return console.error("Delete error:",c),n({title:"Errore Eliminazione",description:c.message,variant:"destructive"}),{success:!1,error:c.message}}},getPublicUrl:(o,l)=>{const{data:{publicUrl:c}}=Y.storage.from(o).getPublicUrl(l);return c},uploading:e}};function jD(){var y;const[e,t]=m.useState({avatars:[],"recipe-images":[]}),[n,r]=m.useState(!0),[i,a]=m.useState(""),[o,l]=m.useState("avatars"),{toast:c}=je(),{deleteFile:u}=wD();m.useEffect(()=>{d()},[o]);const d=async()=>{try{r(!0);const{data:x,error:v}=await Y.storage.from(o).list("",{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(v)throw v;t(j=>({...j,[o]:x||[]}))}catch(x){c({title:"Errore nel caricamento dei file",description:x.message,variant:"destructive"})}finally{r(!1)}},h=async x=>{(await u(o,x)).success&&(c({title:"File eliminato",description:"Il file  stato eliminato con successo."}),d())},f=x=>{const{data:{publicUrl:v}}=Y.storage.from(o).getPublicUrl(x);return v},p=x=>{if(x===0)return"0 Bytes";const v=1024,j=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(x)/Math.log(v));return parseFloat((x/Math.pow(v,b)).toFixed(2))+" "+j[b]},w=x=>new Date(x).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),g=((y=e[o])==null?void 0:y.filter(x=>x.name.toLowerCase().includes(i.toLowerCase())))||[];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Od,{className:"w-6 h-6 mr-2"}),"Gestione Storage"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"bg-slate-800/50 border border-slate-600 text-white rounded-md px-3 py-2",children:[s.jsx("option",{value:"avatars",children:"Avatar"}),s.jsx("option",{value:"recipe-images",children:"Immagini Ricette"})]}),s.jsxs(T,{onClick:d,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna"]})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(Pe,{placeholder:"Cerca file...",value:i,onChange:x=>a(x.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"File Totali"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:g.length})]}),s.jsx(Mp,{className:"w-8 h-8 text-blue-400"})]})})}),s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Bucket Attivo"}),s.jsx("p",{className:"text-2xl font-bold text-white capitalize",children:o})]}),s.jsx(Od,{className:"w-8 h-8 text-green-400"})]})})}),s.jsx($,{className:"sardinian-card",children:s.jsx(B,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Spazio Utilizzato"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:p(g.reduce((x,v)=>{var j;return x+(((j=v.metadata)==null?void 0:j.size)||0)},0))})]}),s.jsx(pP,{className:"w-8 h-8 text-purple-400"})]})})})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white",children:["File in ",o," (",g.length,")"]})}),s.jsx(B,{children:n?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):g.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:i?"Nessun file trovato per la ricerca.":"Nessun file presente in questo bucket."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{className:"p-4 font-medium",children:"Anteprima"}),s.jsx("th",{className:"p-4 font-medium",children:"Nome File"}),s.jsx("th",{className:"p-4 font-medium",children:"Dimensione"}),s.jsx("th",{className:"p-4 font-medium",children:"Creato"}),s.jsx("th",{className:"p-4 font-medium text-right",children:"Azioni"})]})}),s.jsx("tbody",{children:g.map(x=>{var v,j;return s.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-700 flex items-center justify-center",children:[s.jsx("img",{src:f(x.name),alt:x.name,className:"w-full h-full object-cover",onError:b=>{b.target.style.display="none",b.target.nextSibling.style.display="flex"}}),s.jsx(Mp,{className:"w-6 h-6 text-gray-400",style:{display:"none"}})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium truncate max-w-xs",children:x.name}),s.jsx(_t,{className:"bg-blue-500/20 text-blue-400 border-0 mt-1",children:((v=x.metadata)==null?void 0:v.mimetype)||"image"})]})}),s.jsx("td",{className:"p-4 text-gray-300",children:p(((j=x.metadata)==null?void 0:j.size)||0)}),s.jsx("td",{className:"p-4 text-gray-300",children:w(x.created_at)}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>window.open(f(x.name),"_blank"),className:"text-blue-400 hover:bg-blue-400/10 hover:text-blue-300",children:s.jsx(Dd,{className:"w-4 h-4"})}),s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>{const b=document.createElement("a");b.href=f(x.name),b.download=x.name,b.click()},className:"text-green-400 hover:bg-green-400/10 hover:text-green-300",children:s.jsx(gf,{className:"w-4 h-4"})}),s.jsxs(tr,{children:[s.jsx(nr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-red-400 hover:bg-red-400/10 hover:text-red-300",children:s.jsx(ba,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Elimina File"}),s.jsxs(En,{children:['Sei sicuro di voler eliminare il file "',x.name,'"? Questa azione  irreversibile.']})]}),s.jsxs(_n,{children:[s.jsx(Tn,{children:"Annulla"}),s.jsx(rr,{onClick:()=>h(x.name),className:"bg-destructive hover:bg-destructive/90",children:"Elimina"})]})]})]})]})})]},x.name)})})]})})})]})]})}function bD(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,a]=m.useState(!0),[o,l]=m.useState(""),[c,u]=m.useState(null),[d,h]=m.useState({full_name:"",role:"user",is_premium:!1}),[f,p]=m.useState(!1),{toast:w}=je();m.useEffect(()=>{g()},[]);const g=async()=>{try{a(!0);const{data:N,error:P}=await Y.from("profiles").select("*").order("updated_at",{ascending:!1});if(P)throw P;t(N||[]);const{data:R,error:U}=await Y.functions.invoke("admin-database",{body:{action:"list_auth_users"}});if(U)throw U;r(R||[])}catch(N){w({title:"Errore nel caricamento dei dati",description:N.message,variant:"destructive"})}finally{a(!1)}},y=async(N,P)=>{try{const{data:R,error:U}=await Y.from("profiles").update(P).eq("id",N).select().single();if(U)throw U;t(M=>M.map(Z=>Z.id===N?R:Z)),u(null),w({title:"Profilo aggiornato",description:"Le modifiche sono state salvate con successo."})}catch(R){w({title:"Errore nell'aggiornamento",description:R.message,variant:"destructive"})}},x=async()=>{try{const{data:N,error:P}=await Y.functions.invoke("admin-database",{body:{action:"create_auth_user",email:d.email,password:d.password||"TempPassword123!",full_name:d.full_name}});if(P)throw P;const{data:R,error:U}=await Y.from("profiles").insert({id:N.user.id,full_name:d.full_name,role:d.role,is_premium:d.is_premium}).select().single();if(U)throw U;t(M=>[R,...M]),h({full_name:"",role:"user",is_premium:!1}),p(!1),w({title:"Utente creato",description:"Nuovo utente creato con successo."}),g()}catch(N){w({title:"Errore nella creazione",description:N.message,variant:"destructive"})}},v=async N=>{try{const{error:P}=await Y.functions.invoke("admin-database",{body:{action:"delete_auth_user",userId:N}});if(P)throw P;t(R=>R.filter(U=>U.id!==N)),r(R=>R.filter(U=>U.id!==N)),w({title:"Utente eliminato",description:"L'utente  stato eliminato con successo."})}catch(P){w({title:"Errore nell'eliminazione",description:P.message,variant:"destructive"})}},j=async(N,P)=>{await y(N,{is_premium:!P})},b=async(N,P)=>{await y(N,{role:P==="admin"?"user":"admin"})},C=e.filter(N=>{var P,R;return((P=N.full_name)==null?void 0:P.toLowerCase().includes(o.toLowerCase()))||((R=N.role)==null?void 0:R.toLowerCase().includes(o.toLowerCase()))}),E=N=>n.find(P=>P.id===N),_=N=>N?new Date(N).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Mai";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Id,{className:"w-6 h-6 mr-2"}),"Gestione Database"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(Pe,{placeholder:"Cerca utenti...",value:o,onChange:N=>l(N.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400 w-64"})]}),s.jsxs(T,{onClick:g,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna"]}),s.jsxs(T,{onClick:()=>p(!0),className:"sardinian-gradient hover:opacity-90",children:[s.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Nuovo Utente"]})]})]}),s.jsxs(gc,{defaultValue:"profiles",className:"space-y-6",children:[s.jsxs(Ga,{className:"bg-slate-800/50 border border-slate-600",children:[s.jsx(mt,{value:"profiles",children:"Profili Utenti"}),s.jsx(mt,{value:"auth",children:"Dati Autenticazione"}),s.jsx(mt,{value:"system",children:"Configurazioni Sistema"})]}),s.jsxs(pt,{value:"profiles",className:"space-y-4",children:[f&&s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(Bi,{className:"w-5 h-5 mr-2"}),"Crea Nuovo Utente"]})}),s.jsxs(B,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Nome Completo"}),s.jsx(Pe,{value:d.full_name,onChange:N=>h(P=>({...P,full_name:N.target.value})),className:"bg-slate-800/50 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Email"}),s.jsx(Pe,{type:"email",value:d.email||"",onChange:N=>h(P=>({...P,email:N.target.value})),className:"bg-slate-800/50 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Ruolo"}),s.jsxs("select",{value:d.role,onChange:N=>h(P=>({...P,role:N.target.value})),className:"w-full bg-slate-800/50 border border-slate-600 text-white rounded-md px-3 py-2",children:[s.jsx("option",{value:"user",children:"Utente"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_premium",checked:d.is_premium,onChange:N=>h(P=>({...P,is_premium:N.target.checked})),className:"rounded"}),s.jsx("label",{htmlFor:"is_premium",className:"text-sm text-gray-300",children:"Account Premium"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[s.jsxs(T,{variant:"outline",onClick:()=>p(!1),className:"border-gray-500 text-gray-300 hover:bg-gray-500/10",children:[s.jsx(Na,{className:"w-4 h-4 mr-2"}),"Annulla"]}),s.jsxs(T,{onClick:x,className:"sardinian-gradient hover:opacity-90",children:[s.jsx(zd,{className:"w-4 h-4 mr-2"}),"Crea Utente"]})]})]})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white",children:["Profili Utenti (",C.length,")"]})}),s.jsx(B,{children:i?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-left text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{className:"p-4 font-medium",children:"Utente"}),s.jsx("th",{className:"p-4 font-medium",children:"Ruolo"}),s.jsx("th",{className:"p-4 font-medium",children:"Premium"}),s.jsx("th",{className:"p-4 font-medium",children:"Creato"}),s.jsx("th",{className:"p-4 font-medium",children:"Ultimo Aggiornamento"}),s.jsx("th",{className:"p-4 font-medium text-right",children:"Azioni"})]})}),s.jsx("tbody",{children:C.map(N=>{const P=E(N.id),R=(c==null?void 0:c.id)===N.id;return s.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-4",children:s.jsx("div",{children:R?s.jsx(Pe,{value:c.full_name||"",onChange:U=>u(M=>({...M,full_name:U.target.value})),className:"bg-slate-800/50 border-slate-600 text-white text-sm"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:N.full_name||"Nome non disponibile"}),s.jsx("p",{className:"text-gray-400 text-sm",children:P==null?void 0:P.email})]})})}),s.jsx("td",{className:"p-4",children:R?s.jsxs("select",{value:c.role,onChange:U=>u(M=>({...M,role:U.target.value})),className:"bg-slate-800/50 border border-slate-600 text-white rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"user",children:"Utente"}),s.jsx("option",{value:"admin",children:"Admin"})]}):s.jsx(_t,{className:N.role==="admin"?"bg-red-500/20 text-red-400 border-0":"bg-blue-500/20 text-blue-400 border-0",children:N.role==="admin"?s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"w-3 h-3 mr-1"}),"Admin"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),"Utente"]})})}),s.jsx("td",{className:"p-4",children:R?s.jsx("input",{type:"checkbox",checked:c.is_premium,onChange:U=>u(M=>({...M,is_premium:U.target.checked})),className:"rounded"}):s.jsx(_t,{className:N.is_premium?"bg-yellow-500/20 text-yellow-400 border-0":"bg-gray-500/20 text-gray-400 border-0",children:N.is_premium?s.jsxs(s.Fragment,{children:[s.jsx(W,{className:"w-3 h-3 mr-1"}),"Premium"]}):"Gratuito"})}),s.jsx("td",{className:"p-4 text-gray-300 text-sm",children:_(P==null?void 0:P.created_at)}),s.jsx("td",{className:"p-4 text-gray-300 text-sm",children:_(N.updated_at)}),s.jsx("td",{className:"p-4 text-right",children:s.jsx("div",{className:"flex items-center justify-end space-x-2",children:R?s.jsxs(s.Fragment,{children:[s.jsx(T,{size:"sm",onClick:()=>y(N.id,c),className:"bg-green-600 hover:bg-green-700",children:s.jsx(zd,{className:"w-4 h-4"})}),s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>u(null),className:"text-gray-400 hover:text-gray-300",children:s.jsx(Na,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>u(N),className:"text-blue-400 hover:bg-blue-400/10 hover:text-blue-300",children:s.jsx(hP,{className:"w-4 h-4"})}),s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>j(N.id,N.is_premium),className:"text-yellow-400 hover:bg-yellow-400/10 hover:text-yellow-300",children:s.jsx(W,{className:"w-4 h-4"})}),s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>b(N.id,N.role),className:"text-purple-400 hover:bg-purple-400/10 hover:text-purple-300",children:s.jsx(et,{className:"w-4 h-4"})}),s.jsxs(tr,{children:[s.jsx(nr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-red-400 hover:bg-red-400/10 hover:text-red-300",children:s.jsx(ba,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Elimina Utente"}),s.jsxs(En,{children:[`Sei sicuro di voler eliminare l'utente "`,N.full_name,'"? Questa azione  irreversibile e rimuover tutti i dati associati.']})]}),s.jsxs(_n,{children:[s.jsx(Tn,{children:"Annulla"}),s.jsx(rr,{onClick:()=>v(N.id),className:"bg-destructive hover:bg-destructive/90",children:"Elimina"})]})]})]})]})})})]},N.id)})})]}),C.length===0&&!i&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:o?"Nessun utente trovato per la ricerca.":"Nessun utente presente."})]})})]})]}),s.jsx(pt,{value:"auth",className:"space-y-4",children:s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Dati Autenticazione"})}),s.jsx(B,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{className:"p-4 font-medium",children:"Email"}),s.jsx("th",{className:"p-4 font-medium",children:"Stato"}),s.jsx("th",{className:"p-4 font-medium",children:"Ultimo Accesso"}),s.jsx("th",{className:"p-4 font-medium",children:"Confermato"}),s.jsx("th",{className:"p-4 font-medium",children:"Provider"})]})}),s.jsx("tbody",{children:n.map(N=>{var P;return s.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:N.email}),s.jsx("p",{className:"text-gray-400 text-xs",children:N.id})]})}),s.jsx("td",{className:"p-4",children:s.jsx(_t,{className:N.banned_until?"bg-red-500/20 text-red-400 border-0":"bg-green-500/20 text-green-400 border-0",children:N.banned_until?"Bannato":"Attivo"})}),s.jsx("td",{className:"p-4 text-gray-300 text-sm",children:_(N.last_sign_in_at)}),s.jsx("td",{className:"p-4",children:s.jsx(_t,{className:N.email_confirmed_at?"bg-green-500/20 text-green-400 border-0":"bg-yellow-500/20 text-yellow-400 border-0",children:N.email_confirmed_at?"Confermato":"In Attesa"})}),s.jsx("td",{className:"p-4 text-gray-300 text-sm",children:((P=N.app_metadata)==null?void 0:P.provider)||"email"})]},N.id)})})]})})})]})}),s.jsx(pt,{value:"system",className:"space-y-4",children:s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(ja,{className:"w-5 h-5 mr-2"}),"Configurazioni Sistema"]})}),s.jsx(B,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Impostazioni Generali"}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Nome Applicazione"}),s.jsx(Pe,{value:"SardAI",className:"bg-slate-800/50 border-slate-600 text-white",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Versione"}),s.jsx(Pe,{value:"1.0.0",className:"bg-slate-800/50 border-slate-600 text-white",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Ambiente"}),s.jsx(_t,{className:"bg-green-500/20 text-green-400 border-0",children:"Produzione"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Statistiche Database"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Tabelle"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"5"})]}),s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Funzioni"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"12"})]}),s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Policies"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"25"})]}),s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Storage"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"2 Bucket"})]})]})]})]}),s.jsxs("div",{className:"border-t border-slate-600 pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Azioni Sistema"}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs(T,{variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-500/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna Cache"]}),s.jsxs(T,{variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-500/10",children:[s.jsx(Id,{className:"w-4 h-4 mr-2"}),"Backup Database"]}),s.jsxs(T,{variant:"outline",className:"border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10",children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"Ottimizza Performance"]})]})]})]})})]})})]})]})}function ND(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,a]=m.useState({admin:!0,system:!0}),[o,l]=m.useState(""),[c,u]=m.useState(""),{toast:d}=je();m.useEffect(()=>{h(),f()},[o,c]);const h=async()=>{try{a(v=>({...v,admin:!0}));const{data:y,error:x}=await Y.functions.invoke("admin-logs",{body:{type:"admin",search:o||null,limit:100}});if(x)throw x;t(y||[])}catch(y){d({title:"Errore nel caricamento dei log admin",description:y.message,variant:"destructive"})}finally{a(y=>({...y,admin:!1}))}},f=async()=>{try{a(v=>({...v,system:!0}));const{data:y,error:x}=await Y.functions.invoke("admin-logs",{body:{type:"system",level:c||null,search:o||null,limit:100}});if(x)throw x;r(y||[])}catch(y){d({title:"Errore nel caricamento dei log di sistema",description:y.message,variant:"destructive"})}finally{a(y=>({...y,system:!1}))}},p=y=>{const x={info:{color:"bg-blue-500/20 text-blue-400",icon:oP},warning:{color:"bg-yellow-500/20 text-yellow-400",icon:gt},error:{color:"bg-red-500/20 text-red-400",icon:yf},critical:{color:"bg-red-600/20 text-red-300",icon:tP}},v=x[y]||x.info,j=v.icon;return s.jsxs(_t,{className:`${v.color} border-0`,children:[s.jsx(j,{className:"w-3 h-3 mr-1"}),y.toUpperCase()]})},w=y=>new Date(y).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),g=y=>({user_deleted:"Utente Eliminato",user_confirmed:"Utente Confermato",confirmation_resent:"Email Conferma Reinviata",password_reset_sent:"Reset Password Inviato",user_list_viewed:"Lista Utenti Visualizzata",stats_viewed:"Statistiche Visualizzate",reports_viewed:"Segnalazioni Visualizzate",report_status_updated:"Stato Segnalazione Aggiornato",report_notes_added:"Note Segnalazione Aggiunte"})[y]||y;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(vf,{className:"w-6 h-6 mr-2"}),"Log di Sistema"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(Pe,{placeholder:"Cerca nei log...",value:o,onChange:y=>l(y.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400 w-64"})]}),s.jsxs(T,{onClick:()=>{h(),f()},variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna"]})]})]}),s.jsxs(gc,{defaultValue:"admin",className:"space-y-6",children:[s.jsxs(Ga,{className:"bg-slate-800/50 border border-slate-600",children:[s.jsx(mt,{value:"admin",children:"Log Admin"}),s.jsx(mt,{value:"system",children:"Log Sistema"})]}),s.jsx(pt,{value:"admin",className:"space-y-4",children:s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Azioni Amministrative"})}),s.jsx(B,{children:i.admin?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsx("div",{className:"space-y-4",children:e.length===0?s.jsx("p",{className:"text-gray-400 text-center py-8",children:"Nessun log admin trovato."}):e.map(y=>{var x,v;return s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_t,{className:"bg-blue-500/20 text-blue-400 border-0",children:g(y.action)}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(Ht,{className:"w-4 h-4 mr-1"}),((x=y.admin)==null?void 0:x.full_name)||((v=y.admin)==null?void 0:v.email)||"Admin"]})]}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(zn,{className:"w-4 h-4 mr-1"}),w(y.created_at)]})]}),y.target_user&&s.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["Target: ",y.target_user.full_name||y.target_user.email]}),y.details&&Object.keys(y.details).length>0&&s.jsx("div",{className:"bg-slate-900/50 p-3 rounded mt-2",children:s.jsx("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap",children:JSON.stringify(y.details,null,2)})})]},y.id)})})})]})}),s.jsxs(pt,{value:"system",className:"space-y-4",children:[s.jsx("div",{className:"flex items-center space-x-4 mb-4",children:s.jsxs("select",{value:c,onChange:y=>u(y.target.value),className:"bg-slate-800/50 border border-slate-600 text-white rounded-md px-3 py-2",children:[s.jsx("option",{value:"",children:"Tutti i livelli"}),s.jsx("option",{value:"info",children:"Info"}),s.jsx("option",{value:"warning",children:"Warning"}),s.jsx("option",{value:"error",children:"Error"}),s.jsx("option",{value:"critical",children:"Critical"})]})}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Log di Sistema"})}),s.jsx(B,{children:i.system?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsx("div",{className:"space-y-4",children:n.length===0?s.jsx("p",{className:"text-gray-400 text-center py-8",children:"Nessun log di sistema trovato."}):n.map(y=>s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[p(y.level),y.user&&s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(Ht,{className:"w-4 h-4 mr-1"}),y.user.full_name||y.user.email]})]}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(zn,{className:"w-4 h-4 mr-1"}),w(y.created_at)]})]}),s.jsx("p",{className:"text-gray-300 mb-2",children:y.message}),y.context&&Object.keys(y.context).length>0&&s.jsx("div",{className:"bg-slate-900/50 p-3 rounded mt-2",children:s.jsx("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap",children:JSON.stringify(y.context,null,2)})})]},y.id))})})]})]})]})]})}function SD(){const e=ce(),{user:t,profile:n}=qe(),{toast:r}=je(),[i,a]=m.useState(!1),[o,l]=m.useState("stats");return m.useEffect(()=>{n&&n.role!=="admin"&&(r({title:"Accesso Negato",description:"Non hai i permessi per accedere al pannello admin.",variant:"destructive"}),e("/dashboard"))},[n,e,r]),m.useEffect(()=>{t&&t.email!=="marlon.lai@hotmail.com"&&(r({title:"Accesso Limitato",description:"Solo l'amministratore autorizzato pu accedere a questo pannello.",variant:"destructive"}),e("/dashboard"))},[t,e,r]),!n||n.role!=="admin"||!t||t.email!=="marlon.lai@hotmail.com"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Pannello Admin - SardAI"}),s.jsx("meta",{name:"description",content:"Pannello di amministrazione completo per la gestione di SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern flex",children:[s.jsx(Jf,{isOpen:i,onClose:()=>a(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>a(!0),className:"lg:hidden text-white hover:bg-white/10",children:s.jsx(tc,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:s.jsx(et,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Pannello Admin"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-sm text-gray-300",children:["Admin: ",n==null?void 0:n.full_name]}),s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]})}),s.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsxs(gc,{value:o,onValueChange:l,className:"space-y-6",children:[s.jsxs(Ga,{className:"bg-slate-800/50 border border-slate-600",children:[s.jsxs(mt,{value:"stats",className:"flex items-center space-x-2",children:[s.jsx(ky,{className:"w-4 h-4"}),s.jsx("span",{children:"Statistiche"})]}),s.jsxs(mt,{value:"users",className:"flex items-center space-x-2",children:[s.jsx(Qr,{className:"w-4 h-4"}),s.jsx("span",{children:"Utenti"})]}),s.jsxs(mt,{value:"reports",className:"flex items-center space-x-2",children:[s.jsx(yl,{className:"w-4 h-4"}),s.jsx("span",{children:"Segnalazioni"})]}),s.jsxs(mt,{value:"logs",className:"flex items-center space-x-2",children:[s.jsx(vf,{className:"w-4 h-4"}),s.jsx("span",{children:"Log Sistema"})]}),s.jsxs(mt,{value:"storage",className:"flex items-center space-x-2",children:[s.jsx(Od,{className:"w-4 h-4"}),s.jsx("span",{children:"Storage"})]}),s.jsxs(mt,{value:"database",className:"flex items-center space-x-2",children:[s.jsx(Id,{className:"w-4 h-4"}),s.jsx("span",{children:"Database"})]})]}),s.jsx(pt,{value:"stats",children:s.jsx(xD,{})}),s.jsx(pt,{value:"users",children:s.jsx(gD,{})}),s.jsx(pt,{value:"reports",children:s.jsx(yD,{})}),s.jsx(pt,{value:"logs",children:s.jsx(ND,{})}),s.jsx(pt,{value:"storage",children:s.jsx(jD,{})}),s.jsx(pt,{value:"database",children:s.jsx(bD,{})})]})})})})]})]})]})}const CD=({children:e})=>{const{profile:t,loading:n}=qe();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(t==null?void 0:t.role)==="admin"?e:s.jsx(U0,{to:"/dashboard",replace:!0})};function _D(){const e=ce();return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"404 - Pagina Non Trovata | SardAI"}),s.jsx("meta",{name:"description",content:"La pagina che stai cercando non esiste. Torna alla home di SardAI."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-lg",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"text-8xl font-bold text-blue-400 mb-4",children:"404"}),s.jsx(q,{className:"text-3xl font-bold text-white mb-2",children:"Pagina Non Trovata"}),s.jsx("p",{className:"text-gray-300",children:"Madonna mia! La pagina che stai cercando non esiste o  stata spostata."})]}),s.jsxs(B,{className:"text-center space-y-6",children:[s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4",children:[s.jsx("h3",{className:"text-blue-300 font-semibold mb-2",children:"Cosa puoi fare:"}),s.jsxs("ul",{className:"text-blue-200 text-sm text-left space-y-1",children:[s.jsx("li",{children:" Controlla l'URL per errori di battitura"}),s.jsx("li",{children:" Torna alla pagina principale"}),s.jsx("li",{children:" Usa la navigazione per trovare quello che cerchi"}),s.jsx("li",{children:" Contattaci se il problema persiste"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>e("/"),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(Iy,{className:"w-4 h-4 mr-2"}),"Torna alla Home"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(T,{onClick:()=>e(-1),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Indietro"]}),s.jsxs(T,{onClick:()=>e("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai bisogno di aiuto?"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"Contattaci"})]})})]})]}),s.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Aho, dove sei andato a finire? Torna da noi!" '})})]})})]})}function PD(){const e=ce();return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Informativa GDPR - SardAI"}),s.jsx("meta",{name:"description",content:"Informativa sul trattamento dei dati personali ai sensi del GDPR per SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e(-1),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Dy,{className:"w-6 h-6 mr-2"}),"Informativa GDPR"]}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-3xl text-white",children:"Informativa sul Trattamento dei Dati Personali"})}),s.jsxs(B,{className:"text-gray-300 space-y-6 prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-blue-400 hover:prose-a:text-blue-300",children:[s.jsx("p",{children:"Ultimo aggiornamento: 09 Luglio 2025"}),s.jsx("p",{children:"Benvenuto su SardAI.tech. La tua privacy  importante per noi. Questa informativa descrive quali dati personali raccogliamo e come li utilizziamo, in conformit con il Regolamento Generale sulla Protezione dei Dati (GDPR)."}),s.jsx("h2",{children:"1. Titolare del Trattamento"}),s.jsxs("p",{children:["Il titolare del trattamento dei dati  SardAI.tech, contattabile all'indirizzo email: ",s.jsx("a",{href:"mailto:info@sardai.tech",children:"info@sardai.tech"}),"."]}),s.jsx("h2",{children:"2. Dati Personali Raccolti"}),s.jsxs("p",{children:["Raccogliamo i seguenti dati:",s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Dati forniti dall'utente:"})," Nome, indirizzo email, password (crittografata), immagine del profilo."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dati di utilizzo:"})," Informazioni su come utilizzi il nostro servizio, incluse le interazioni con i chatbot. Le conversazioni sono salvate per migliorare il servizio."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dati tecnici:"})," Indirizzo IP, tipo di browser, informazioni sul dispositivo."]})]})]}),s.jsx("h2",{children:"3. Finalit del Trattamento"}),s.jsxs("p",{children:["Utilizziamo i tuoi dati per:",s.jsxs("ul",{children:[s.jsx("li",{children:"Fornire, mantenere e migliorare il servizio."}),s.jsx("li",{children:"Gestire il tuo account e l'abbonamento."}),s.jsx("li",{children:"Comunicare con te per assistenza o aggiornamenti."}),s.jsx("li",{children:"Garantire la sicurezza della piattaforma."}),s.jsx("li",{children:"Adempiere agli obblighi di legge."})]})]}),s.jsx("h2",{children:"4. Base Giuridica del Trattamento"}),s.jsx("p",{children:"Trattiamo i tuoi dati sulla base del consenso da te fornito al momento della registrazione, per l'esecuzione di un contratto (fornitura del servizio) e per legittimo interesse (miglioramento del servizio e sicurezza)."}),s.jsx("h2",{children:"5. Diritti dell'Interessato"}),s.jsxs("p",{children:["In qualit di utente, hai il diritto di:",s.jsxs("ul",{children:[s.jsx("li",{children:"Accedere ai tuoi dati personali."}),s.jsx("li",{children:"Richiedere la rettifica o la cancellazione dei dati."}),s.jsx("li",{children:"Limitare o opporti al trattamento."}),s.jsx("li",{children:"Richiedere la portabilit dei dati."}),s.jsx("li",{children:"Revocare il consenso in qualsiasi momento."}),s.jsx("li",{children:"Proporre reclamo a un'autorit di controllo."})]}),"Per esercitare i tuoi diritti, puoi contattarci a ",s.jsx("a",{href:"mailto:info@sardai.tech",children:"info@sardai.tech"}),"."]}),s.jsx("h2",{children:"6. Conservazione dei Dati"}),s.jsx("p",{children:"Conserviamo i tuoi dati personali per il tempo strettamente necessario a conseguire gli scopi per cui sono stati raccolti e per adempiere agli obblighi legali."})]})]})})})]})]})}function ED(){const e=ce();return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Condizioni di Utilizzo - SardAI"}),s.jsx("meta",{name:"description",content:"Leggi i termini e le condizioni di utilizzo del servizio SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e(-1),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(vf,{className:"w-6 h-6 mr-2"}),"Condizioni di Utilizzo"]}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-3xl text-white",children:"Termini e Condizioni del Servizio"})}),s.jsxs(B,{className:"text-gray-300 space-y-6 prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-blue-400 hover:prose-a:text-blue-300",children:[s.jsx("p",{children:"Ultimo aggiornamento: 09 Luglio 2025"}),s.jsx("p",{children:`Accedendo e utilizzando SardAI.tech ("Servizio"), accetti di essere vincolato dai seguenti termini e condizioni ("Condizioni di Utilizzo"). Se non sei d'accordo con una qualsiasi parte dei termini, non puoi accedere al Servizio.`}),s.jsx("h2",{children:"1. Utilizzo del Servizio"}),s.jsx("p",{children:"Ti impegni a utilizzare il Servizio in modo responsabile e legale.  vietato utilizzare il Servizio per scopi illegali, molesti, diffamatori o che violino i diritti di terzi. Non  consentito tentare di decodificare, decompilare o accedere in modo non autorizzato ai nostri sistemi."}),s.jsx("h2",{children:"2. Account Utente"}),s.jsx("p",{children:"Sei responsabile della salvaguardia della password che utilizzi per accedere al Servizio e di qualsiasi attivit o azione sotto la tua password. Ti impegni a notificarci immediatamente qualsiasi violazione della sicurezza o uso non autorizzato del tuo account."}),s.jsx("h2",{children:"3. Abbonamenti e Pagamenti"}),s.jsx("p",{children:'Alcune parti del Servizio sono disponibili solo con un abbonamento a pagamento ("Premium"). I pagamenti verranno fatturati su base ricorrente. Puoi annullare il tuo abbonamento in qualsiasi momento dal tuo pannello profilo. La cancellazione avr effetto alla fine del ciclo di fatturazione corrente.'}),s.jsx("h2",{children:"4. Propriet Intellettuale"}),s.jsx("p",{children:"Il Servizio e i suoi contenuti originali, le caratteristiche e le funzionalit sono e rimarranno di propriet esclusiva di SardAI.tech e dei suoi licenziatari. Il nostro marchio non pu essere utilizzato in relazione a nessun prodotto o servizio senza il previo consenso scritto."}),s.jsx("h2",{children:"5. Limitazione di Responsabilit"}),s.jsx("p",{children:`Il Servizio  fornito "cos com'". In nessun caso SardAI.tech sar responsabile per danni indiretti, incidentali, speciali, consequenziali o punitivi derivanti dall'uso del Servizio. Le risposte fornite dai chatbot sono generate da un'intelligenza artificiale e potrebbero non essere sempre accurate o complete.`}),s.jsx("h2",{children:"6. Modifiche ai Termini"}),s.jsx("p",{children:"Ci riserviamo il diritto, a nostra esclusiva discrezione, di modificare o sostituire questi Termini in qualsiasi momento. Ti informeremo di eventuali modifiche pubblicando i nuovi termini su questa pagina."})]})]})})})]})]})}function TD(){const e=ce();return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Privacy Policy - SardAI"}),s.jsx("meta",{name:"description",content:"Leggi la nostra informativa sulla privacy per capire come gestiamo i tuoi dati su SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e(-1),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(qr,{className:"w-6 h-6 mr-2"}),"Privacy Policy"]}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-3xl text-white",children:"Informativa sulla Privacy"})}),s.jsxs(B,{className:"text-gray-300 space-y-6 prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-blue-400 hover:prose-a:text-blue-300",children:[s.jsx("p",{children:"Ultimo aggiornamento: 09 Luglio 2025"}),s.jsx("p",{children:'Questa Privacy Policy descrive come SardAI.tech ("noi", "ci" o "nostro") raccoglie, utilizza e condivide le informazioni su di te quando utilizzi il nostro sito web e i nostri servizi (collettivamente, il "Servizio").'}),s.jsx("h2",{children:"1. Informazioni che Raccogliamo"}),s.jsx("p",{children:"Raccogliamo informazioni che ci fornisci direttamente, come quando crei un account, aggiorni il tuo profilo o comunichi con noi. Queste informazioni possono includere il tuo nome, email e immagine del profilo. Raccogliamo anche informazioni automaticamente quando utilizzi il Servizio, come le tue interazioni con i chatbot e i dati tecnici del tuo dispositivo."}),s.jsx("h2",{children:"2. Come Utilizziamo le Tue Informazioni"}),s.jsxs("p",{children:["Utilizziamo le tue informazioni per:",s.jsxs("ul",{children:[s.jsx("li",{children:"Fornire e personalizzare il nostro Servizio."}),s.jsx("li",{children:"Analizzare e migliorare il Servizio, inclusa l'accuratezza dei nostri modelli di intelligenza artificiale."}),s.jsx("li",{children:"Comunicare con te, rispondere alle tue richieste e inviarti aggiornamenti."}),s.jsx("li",{children:"Proteggere la sicurezza e l'integrit del nostro Servizio."})]})]}),s.jsx("h2",{children:"3. Condivisione delle Informazioni"}),s.jsxs("p",{children:["Non condividiamo le tue informazioni personali con terze parti, ad eccezione dei seguenti casi:",s.jsxs("ul",{children:[s.jsx("li",{children:"Con fornitori di servizi che lavorano per nostro conto (es. Supabase per il backend, OpenAI per l'elaborazione del linguaggio)."}),s.jsx("li",{children:"Se richiesto dalla legge o per proteggere i nostri diritti legali."}),s.jsx("li",{children:"Con il tuo consenso esplicito."})]})]}),s.jsx("h2",{children:"4. Sicurezza dei Dati"}),s.jsx("p",{children:"Adottiamo misure di sicurezza tecniche e organizzative ragionevoli per proteggere le tue informazioni da accessi non autorizzati, perdita o uso improprio. Tuttavia, nessun sistema di sicurezza  impenetrabile."}),s.jsx("h2",{children:"5. Cookie"}),s.jsx("p",{children:"Utilizziamo i cookie e tecnologie simili per gestire le sessioni utente e migliorare l'esperienza sul nostro sito. Puoi controllare l'uso dei cookie attraverso le impostazioni del tuo browser."}),s.jsx("h2",{children:"6. Contatti"}),s.jsxs("p",{children:["Se hai domande su questa Privacy Policy, puoi contattarci all'indirizzo: ",s.jsx("a",{href:"mailto:info@sardai.tech",children:"info@sardai.tech"}),"."]})]})]})})})]})]})}function kD(){const e=ce(),{user:t,profile:n}=qe(),{subscription:r}=ds(),{createCheckoutSession:i,loading:a}=vc();m.useState("monthly");const o=f=>{if(!t){e("/login");return}i(f,"subscription")},l={language:{title:"Lingua Sarda Autentica",icon:wl,color:"text-blue-400",features:[{name:"Dialetto Logudorese",description:"Conversazioni complete nel dialetto del nord Sardegna",icon:Fe},{name:"Dialetto Campidanese",description:"Chat autentica nel dialetto del sud dell'isola",icon:Fe},{name:"Dialetto Sassarese",description:"Variante linguistica di Sassari e provincia",icon:Fe},{name:"Traduttore Bidirezionale",description:"Traduzione istantanea italiano  sardo",icon:wl}]},culture:{title:"Contenuti Culturali Esclusivi",icon:Vi,color:"text-red-400",features:[{name:"Storia e Tradizioni",description:"Racconti storici, leggende e tradizioni popolari",icon:Xc},{name:"Ricette Tradizionali",description:"Cucina sarda autentica con ingredienti e preparazioni",icon:Vi},{name:"Feste e Sagre",description:"Calendario eventi e celebrazioni tradizionali",icon:ns},{name:"Musica e Folklore",description:"Canti tradizionali, balli e strumenti tipici",icon:dP}]},learning:{title:"Apprendimento Interattivo",icon:Xc,color:"text-green-400",features:[{name:"Mini-Corsi di Sardo",description:"Lezioni progressive per imparare la lingua",icon:Xc},{name:"Pronuncia Audio",description:"Ascolta la pronuncia corretta delle parole",icon:gP},{name:"Esercizi Interattivi",description:"Quiz e giochi per praticare la lingua",icon:mP},{name:"Certificati di Completamento",description:"Riconoscimenti per i progressi raggiunti",icon:nP}]},tourism:{title:"Guida Turistica Intelligente",icon:zp,color:"text-purple-400",features:[{name:"Itinerari Personalizzati",description:"Percorsi su misura basati sui tuoi interessi",icon:zp},{name:"Luoghi Nascosti",description:"Scopri gemme segrete conosciute solo dai locali",icon:Ay},{name:"Consigli Gastronomici",description:"Ristoranti autentici e specialit locali",icon:Vi},{name:"Eventi in Tempo Reale",description:"Sagre, concerti e manifestazioni attuali",icon:ns}]},exclusive:{title:"Funzionalit Esclusive",icon:W,color:"text-yellow-400",features:[{name:"Chat Illimitate",description:"Nessun limite di messaggi o conversazioni",icon:aP},{name:"Supporto Prioritario",description:"Assistenza dedicata entro 2 ore",icon:iP},{name:"Export Conversazioni",description:"Salva le chat in PDF con design personalizzato",icon:gf},{name:"Accesso Anticipato",description:"Prova le nuove funzionalit prima di tutti",icon:Jc}]}},c=[{id:"free",name:"Gratuito",price:"0",currency:"EUR",interval:"sempre",description:"Perfetto per iniziare",features:["Chat in italiano con carattere sardo","Informazioni base sulla Sardegna","Umorismo e calore tipico sardo","10 messaggi al giorno","Supporto via email"],buttonText:"Piano Attuale",buttonVariant:"outline",popular:!1},{id:"monthly",name:"Premium Mensile",price:"5.00",currency:"EUR",interval:"mese",description:"Ideale per esploratori curiosi",features:["Tutte le funzionalit gratuite","Chat in lingua sarda autentica","Tutti i dialetti disponibili","Contenuti culturali esclusivi","Mini-corsi di lingua sarda","Guida turistica interattiva","Chat illimitate","Supporto prioritario","Export PDF conversazioni"],buttonText:"Inizia Subito",buttonVariant:"default",popular:!0,priceId:"price_1RgpsmP3ZDp2xQGdHpezzWn0"},{id:"yearly",name:"Premium Annuale",price:"50.00",currency:"CHF",interval:"anno",description:"Massimo valore per veri appassionati",features:["Tutte le funzionalit Premium","Risparmio del 17% sul piano mensile","Accesso anticipato alle novit","Sessioni di coaching culturale","Contenuti esclusivi mensili","Certificati di completamento","Supporto telefonico dedicato","Inviti a eventi speciali"],buttonText:"Risparmia il 17%",buttonVariant:"default",popular:!1,priceId:"price_1Rgpu7P3ZDp2xQGdtuxS42fy",savings:!0}],u=[{name:"Maria Carta",location:"Cagliari",text:"Finalmente posso parlare sardo con un'AI!  incredibile quanto sia autentica.",rating:5},{name:"Giuseppe Mereu",location:"Nuoro",text:"I mini-corsi sono fantastici. Sto imparando il logudorese che non conoscevo.",rating:5},{name:"Anna Sanna",location:"Sassari",text:"La guida turistica mi ha fatto scoprire posti che non sapevo esistessero!",rating:5}],d=(n==null?void 0:n.role)==="admin",h=(r==null?void 0:r.isActive)||d;return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Funzionalit Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Scopri tutte le funzionalit premium di SardAI: chat in sardo autentico, contenuti culturali esclusivi e molto altro."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e(-1),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(W,{className:"w-6 h-6 mr-2 text-yellow-400"}),"SardAI Premium"]}),s.jsx("div",{className:"w-32"})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["Sblocca il Vero",s.jsx("span",{className:"block sardinian-gradient bg-clip-text text-transparent",children:"Potere di SardAI"})]}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Immergiti nella cultura sarda autentica con funzionalit esclusive, dialetti originali e contenuti che solo un vero sardo pu offrirti."}),!h&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(T,{onClick:()=>{var f;return o((f=Yr.find(p=>p.interval==="month"))==null?void 0:f.priceId)},disabled:a,className:"sardinian-gradient hover:opacity-90 text-lg px-8 py-4",children:[s.jsx(W,{className:"w-5 h-5 mr-2"}),"Diventa Premium"]}),s.jsx(T,{onClick:()=>e("/chat"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10 text-lg px-8 py-4",children:"Prova Gratuita"})]})]})}),s.jsx("div",{className:"space-y-16",children:Object.entries(l).map(([f,p],w)=>s.jsxs(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:w*.1},viewport:{once:!0},children:[s.jsx("div",{className:"text-center mb-12",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-xl flex items-center justify-center",children:s.jsx(p.icon,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-3xl font-bold text-white",children:p.title})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.features.map((g,y)=>s.jsx(F.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:y*.1},viewport:{once:!0},children:s.jsxs($,{className:"sardinian-card hover:border-yellow-400/50 transition-all duration-300 h-full",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:s.jsx(g.icon,{className:"w-6 h-6 text-white"})}),s.jsx(q,{className:"text-white text-lg",children:g.name})]}),s.jsx(B,{children:s.jsx("p",{className:"text-gray-300 text-sm text-center",children:g.description})})]})},y))})]},f))}),s.jsxs(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Scegli il Tuo Piano"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Prezzi trasparenti, nessun costo nascosto"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:c.map((f,p)=>s.jsxs(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:p*.1},viewport:{once:!0},className:"relative",children:[f.popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:s.jsxs(_t,{className:"bg-yellow-500 text-black px-4 py-1 text-sm font-medium",children:[s.jsx(Jc,{className:"w-3 h-3 mr-1"}),"Pi Popolare"]})}),s.jsxs($,{className:`sardinian-card h-full ${f.popular?"premium-glow border-yellow-500/30":""} ${f.id==="free"?"opacity-75":""}`,children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${f.id==="free"?"bg-gray-600":"sardinian-gradient"}`,children:f.id==="free"?s.jsx(Qr,{className:"w-8 h-8 text-white"}):s.jsx(W,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl text-white mb-2",children:f.name}),s.jsx("p",{className:"text-gray-300 mb-4",children:f.description}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-4xl font-bold text-white",children:["",f.price,s.jsxs("span",{className:"text-lg font-normal text-gray-400",children:["/",f.interval]})]}),f.savings&&s.jsxs("div",{className:"text-green-400 text-sm mt-2 flex items-center justify-center",children:[s.jsx(ya,{className:"w-4 h-4 mr-1"}),"Risparmia 10 all'anno!"]})]})]}),s.jsxs(B,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:f.features.map((w,g)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-300 text-sm",children:w})]},g))}),s.jsx("div",{className:"pt-4",children:f.id==="free"?s.jsx(T,{disabled:!0,variant:"outline",className:"w-full border-gray-500 text-gray-400",children:"Piano Attuale"}):h?s.jsxs(T,{disabled:!0,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Gi Premium"]}):s.jsx(T,{onClick:()=>o(f.priceId),disabled:a,className:`w-full text-lg py-3 ${f.popular?"sardinian-gradient hover:opacity-90":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:a?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Caricamento..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),f.buttonText]})})})]})]})]},f.id))})]}),s.jsxs(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Cosa Dicono i Nostri Utenti"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Storie di successo dalla comunit SardAI"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:u.map((f,p)=>s.jsx(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:p*.1},viewport:{once:!0},children:s.jsx($,{className:"sardinian-card h-full",children:s.jsxs(B,{className:"p-6",children:[s.jsx("div",{className:"flex items-center mb-4",children:[...Array(f.rating)].map((w,g)=>s.jsx(Jc,{className:"w-4 h-4 text-yellow-400 fill-current"},g))}),s.jsxs("p",{className:"text-gray-300 mb-4 italic",children:['"',f.text,'"']}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 sardinian-gradient rounded-full flex items-center justify-center",children:s.jsx(Ht,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:f.name}),s.jsx("p",{className:"text-gray-400 text-sm",children:f.location})]})]})]})})},p))})]}),s.jsxs(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Domande Frequenti"})}),s.jsx("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-8",children:[{question:"Posso cancellare in qualsiasi momento?",answer:"S, puoi cancellare il tuo abbonamento in qualsiasi momento dal tuo profilo. Continuerai ad avere accesso Premium fino alla fine del periodo pagato."},{question:"Quanto  autentico il sardo parlato?",answer:"SardAI  stato addestrato su testi autentici in logudorese, campidanese e sassarese. Collaboriamo con linguisti sardi per garantire l'autenticit."},{question:"Posso usare SardAI offline?",answer:"Attualmente SardAI richiede una connessione internet. Stiamo lavorando su una versione offline per le funzionalit base."},{question:"Ci sono sconti per studenti?",answer:"S! Contattaci a info@sardai.tech con la tua tessera studente per ottenere uno sconto del 30% sul piano annuale."}].map((f,p)=>s.jsx($,{className:"sardinian-card",children:s.jsxs(B,{className:"p-6",children:[s.jsx("h4",{className:"text-white font-semibold mb-3",children:f.question}),s.jsx("p",{className:"text-gray-300 text-sm",children:f.answer})]})},p))})]}),!h&&s.jsx(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20",children:s.jsx($,{className:"sardinian-card premium-glow max-w-4xl mx-auto",children:s.jsxs(B,{className:"p-8 md:p-12 text-center",children:[s.jsx(W,{className:"w-20 h-20 text-yellow-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Pronto per l'Esperienza Completa?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Unisciti a migliaia di sardi e appassionati che stanno gi conversando in lingua autentica con SardAI Premium."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(T,{onClick:()=>{var f;return o((f=Yr.find(p=>p.interval==="month"))==null?void 0:f.priceId)},disabled:a,className:"sardinian-gradient hover:opacity-90 text-lg px-8 py-4",children:[s.jsx(W,{className:"w-5 h-5 mr-2"}),"Inizia Oggi - 5/mese"]}),s.jsxs(T,{onClick:()=>{var f;return o((f=Yr.find(p=>p.interval==="year"))==null?void 0:f.priceId)},disabled:a,variant:"outline",className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10 text-lg px-8 py-4",children:[s.jsx(ya,{className:"w-5 h-5 mr-2"}),"Piano Annuale - Risparmia 17%"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Garanzia soddisfatti o rimborsati entro 30 giorni"})]})})})]})]})]})}function AD(){const e=ce(),[t]=hn(),[n,r]=m.useState("");m.useEffect(()=>{const l=t.get("message")||"Si  verificato un errore imprevisto";r(decodeURIComponent(l))},[t]);const i=()=>{e("/auth/resend-confirmation")},o=(l=>l.toLowerCase().includes("expired")?{title:"Link Scaduto",description:"Il link di conferma  scaduto. Richiedi un nuovo link per continuare.",showResend:!0}:l.toLowerCase().includes("invalid")||l.toLowerCase().includes("token")?{title:"Link Non Valido",description:"Il link utilizzato non  valido o  gi stato utilizzato. Richiedi un nuovo link.",showResend:!0}:l.toLowerCase().includes("already confirmed")?{title:"Account Gi Confermato",description:"Il tuo account  gi stato confermato. Puoi accedere normalmente.",showResend:!1}:{title:"Errore di Autenticazione",description:l,showResend:!0})(n);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Errore - SardAI"}),s.jsx("meta",{name:"description",content:"Si  verificato un errore durante l'autenticazione."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(gt,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:o.title})]}),s.jsxs(B,{className:"text-center space-y-6",children:[s.jsx("p",{className:"text-gray-300",children:o.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>e("/login"),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna al Login"]}),o.showResend&&s.jsxs(T,{onClick:i,variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[s.jsx(vr,{className:"w-4 h-4 mr-2"}),"Richiedi Nuovo Link"]}),s.jsxs(T,{onClick:()=>window.location.reload(),variant:"ghost",className:"w-full text-gray-400 hover:text-gray-300",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Riprova"]})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai bisogno di aiuto?"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"Contattaci"})]})})]})]})})})]})}function RD(){const e=ce(),[t]=hn(),[n,r]=m.useState(""),[i,a]=m.useState("/dashboard"),[o,l]=m.useState(5);m.useEffect(()=>{const d=t.get("type")||"signup",h=t.get("next")||"/dashboard";r(d),a(decodeURIComponent(h));const f=setInterval(()=>{l(p=>p<=1?(clearInterval(f),e(h),0):p-1)},1e3);return()=>clearInterval(f)},[t,e]);const u=(d=>{switch(d){case"signup":return{title:"Account Confermato! ",description:"Il tuo account SardAI  stato confermato con successo. Ora puoi accedere a tutte le funzionalit.",buttonText:"Inizia a Usare SardAI"};case"recovery":return{title:"Password Reimpostata! ",description:"La tua password  stata reimpostata con successo. Ora puoi accedere con la nuova password.",buttonText:"Vai alla Dashboard"};default:return{title:"Operazione Completata! ",description:"L'operazione  stata completata con successo.",buttonText:"Continua"}}})(n);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Successo - SardAI"}),s.jsx("meta",{name:"description",content:"Operazione completata con successo."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fr,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:u.title})]}),s.jsxs(B,{className:"text-center space-y-6",children:[s.jsx("p",{className:"text-gray-300",children:u.description}),n==="signup"&&s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsx(Ce,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-blue-300 font-semibold",children:"Benvenuto in SardAI!"})]}),s.jsx("p",{className:"text-blue-200 text-sm",children:"Ora puoi iniziare a conversare con il tuo assistente sardo preferito."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>e(i),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(Ty,{className:"w-4 h-4 mr-2"}),u.buttonText]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Reindirizzamento automatico tra ",o," secondi..."]}),s.jsx(T,{onClick:()=>e(i),variant:"ghost",className:"text-blue-400 hover:text-blue-300 text-sm",children:"Vai subito"})]})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai domande?"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"Contattaci"})]})})]})]})})})]})}function ID(){const e=ce(),[t]=hn(),{toast:n}=je(),[r,i]=m.useState({password:"",confirmPassword:""}),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(!1);m.useEffect(()=>{t.get("token")||(n({title:"Token mancante",description:"Link di reset password non valido.",variant:"destructive"}),e("/auth/error?message=Invalid+reset+link"))},[t,e,n]);const h=async g=>{if(g.preventDefault(),r.password!==r.confirmPassword){n({title:"Errore",description:"Le password non coincidono",variant:"destructive"});return}if(r.password.length<6){n({title:"Errore",description:"La password deve essere di almeno 6 caratteri",variant:"destructive"});return}o(!0);try{const{error:y}=await Y.auth.updateUser({password:r.password});if(y)throw y;n({title:"Password aggiornata! ",description:"La tua password  stata cambiata con successo."}),e("/auth/success?type=recovery&next=/dashboard")}catch(y){n({title:"Errore",description:y.message||"Impossibile aggiornare la password.",variant:"destructive"})}finally{o(!1)}},f=g=>{i({...r,[g.target.name]:g.target.value})},w=(g=>g.length<6?{strength:"weak",color:"text-red-400",text:"Troppo corta"}:g.length<8?{strength:"medium",color:"text-yellow-400",text:"Media"}:g.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/)?{strength:"strong",color:"text-green-400",text:"Forte"}:{strength:"medium",color:"text-yellow-400",text:"Media"})(r.password);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Reimposta Password - SardAI"}),s.jsx("meta",{name:"description",content:"Reimposta la tua password per accedere a SardAI."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(qr,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:"Nuova Password"}),s.jsx("p",{className:"text-gray-300",children:"Inserisci la tua nuova password per completare il reset"})]}),s.jsxs(B,{children:[s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"password",className:"text-white",children:"Nuova Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(qr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"password",name:"password",type:l?"text":"password",placeholder:"Almeno 6 caratteri",value:r.password,onChange:f,required:!0,className:"pl-10 pr-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"}),s.jsx(T,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(!l),className:"absolute right-1 top-1 h-8 w-8 text-gray-400 hover:text-gray-300",children:l?s.jsx(Lp,{className:"h-4 w-4"}):s.jsx(Dd,{className:"h-4 w-4"})})]}),r.password&&s.jsxs("p",{className:`text-xs ${w.color}`,children:["Sicurezza: ",w.text]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"confirmPassword",className:"text-white",children:"Conferma Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(qr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",placeholder:"Ripeti la password",value:r.confirmPassword,onChange:f,required:!0,className:"pl-10 pr-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"}),s.jsx(T,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(!u),className:"absolute right-1 top-1 h-8 w-8 text-gray-400 hover:text-gray-300",children:u?s.jsx(Lp,{className:"h-4 w-4"}):s.jsx(Dd,{className:"h-4 w-4"})})]}),r.confirmPassword&&r.password!==r.confirmPassword&&s.jsx("p",{className:"text-xs text-red-400",children:"Le password non coincidono"})]}),s.jsx(T,{type:"submit",disabled:a||r.password!==r.confirmPassword,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:a?"Aggiornamento...":"Aggiorna Password"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Ricordi la tua password?"," ",s.jsx(T,{variant:"ghost",onClick:()=>e("/login"),className:"text-blue-400 hover:text-blue-300 p-0 h-auto font-medium",children:"Accedi qui"})]})})]})]})]})})]})}function DD(){const e=ce(),{toast:t}=je(),[n,r]=m.useState(""),[i,a]=m.useState(!1),[o,l]=m.useState(!1),c=async u=>{if(u.preventDefault(),!n){t({title:"Errore",description:"Inserisci il tuo indirizzo email",variant:"destructive"});return}a(!0);try{const{data:d,error:h}=await Y.functions.invoke("custom-email-handler",{body:{type:"resend_confirmation",email:n,redirectTo:`${window.location.origin}/auth/confirm?type=signup`}});if(h)throw h;l(!0),t({title:"Email inviata! ",description:"Controlla la tua casella di posta per il link di conferma."})}catch(d){t({title:"Errore nell'invio",description:d.message||"Impossibile inviare l'email di conferma.",variant:"destructive"})}finally{a(!1)}};return o?s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Email Inviata - SardAI"}),s.jsx("meta",{name:"description",content:"Email di conferma inviata con successo."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsx(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(jl,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:"Email Inviata! "})]}),s.jsxs(B,{className:"text-center space-y-6",children:[s.jsxs("p",{className:"text-gray-300",children:["Abbiamo inviato un nuovo link di conferma a ",s.jsx("strong",{children:n})]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4",children:[s.jsx("h3",{className:"text-blue-300 font-semibold mb-2",children:"Cosa fare ora:"}),s.jsxs("ol",{className:"text-blue-200 text-sm text-left space-y-1",children:[s.jsx("li",{children:"1. Controlla la tua casella di posta"}),s.jsx("li",{children:"2. Cerca l'email da SardAI"}),s.jsx("li",{children:"3. Clicca sul link di conferma"}),s.jsx("li",{children:"4. Completa la registrazione"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(T,{onClick:()=>e("/login"),className:"w-full sardinian-gradient hover:opacity-90",children:"Vai al Login"}),s.jsx(T,{onClick:()=>l(!1),variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:"Invia a un altro indirizzo"})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Non hai ricevuto l'email? Controlla la cartella spam o"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"contattaci"})]})})]})]})})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Reinvia Conferma - SardAI"}),s.jsx("meta",{name:"description",content:"Richiedi un nuovo link di conferma per il tuo account SardAI."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/login"),className:"text-white hover:bg-white/10 mb-6",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna al Login"]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(vr,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:"Reinvia Conferma"}),s.jsx("p",{className:"text-gray-300",children:"Inserisci la tua email per ricevere un nuovo link di conferma"})]}),s.jsxs(B,{children:[s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{htmlFor:"email",className:"text-white",children:"Indirizzo Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(vr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Pe,{id:"email",name:"email",type:"email",placeholder:"la.tua.email@esempio.com",value:n,onChange:u=>r(u.target.value),required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsx(T,{type:"submit",disabled:i,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:i?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Invio in corso..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(jl,{className:"w-4 h-4 mr-2"}),"Invia Link di Conferma"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-300 text-sm",children:["Hai gi confermato il tuo account?"," ",s.jsx(T,{variant:"ghost",onClick:()=>e("/login"),className:"text-blue-400 hover:text-blue-300 p-0 h-auto font-medium",children:"Accedi qui"})]})})]})]})]})})]})}function vg(){const e=ce(),[t]=hn(),{toast:n}=je(),[r,i]=m.useState("processing");return m.useEffect(()=>{(async()=>{try{const o=t.get("code"),l=t.get("error"),c=t.get("error_description");if(l){console.error("Auth callback error:",l,c),e(`/auth/error?message=${encodeURIComponent(c||l)}`);return}if(o){const{data:u,error:d}=await Y.auth.exchangeCodeForSession(o);if(d){console.error("Code exchange error:",d),e(`/auth/error?message=${encodeURIComponent(d.message)}`);return}u.session?(i("success"),n({title:"Accesso effettuato! ",description:"Benvenuto in SardAI!"}),setTimeout(()=>{e("/dashboard")},1500)):e("/auth/error?message=No+session+created")}else e("/auth/error?message=No+authorization+code+received")}catch(o){console.error("Auth callback error:",o),e(`/auth/error?message=${encodeURIComponent(o.message)}`)}})()},[t,e,n]),s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Autenticazione - SardAI"}),s.jsx("meta",{name:"description",content:"Completamento autenticazione..."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-8",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]}),r==="processing"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-white text-lg",children:"Completamento autenticazione..."}),s.jsx("p",{className:"text-gray-400",children:"Attendere prego"})]}),r==="success"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("p",{className:"text-white text-lg",children:"Autenticazione completata!"}),s.jsx("p",{className:"text-gray-400",children:"Reindirizzamento in corso..."})]})]})})]})}function OD(){var u;const e=ce(),[t]=hn();qe();const{subscription:n,refetch:r}=ds(),{toast:i}=je(),[a,o]=m.useState(5);m.useEffect(()=>{r(),i({title:"Pagamento completato! ",description:"Benvenuto in SardAI Premium! Il tuo abbonamento  ora attivo."});const d=setInterval(()=>{o(h=>h<=1?(clearInterval(d),e("/chat"),0):h-1)},1e3);return()=>clearInterval(d)},[r,i,e]),t.get("session_id");const l=t.get("amount"),c=t.get("currency");return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Pagamento Completato - SardAI Premium"}),s.jsx("meta",{name:"description",content:"Il tuo pagamento  stato completato con successo. Benvenuto in SardAI Premium!"})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(fr,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs($,{className:"sardinian-card premium-glow",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"w-16 h-16 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(W,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-3xl font-bold text-white mb-2",children:"Benvenuto in SardAI Premium! "}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Il tuo pagamento  stato completato con successo"})]}),s.jsxs(B,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-800/30 p-6 rounded-lg border border-green-500/20",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[s.jsx(va,{className:"w-5 h-5 mr-2 text-green-400"}),"Dettagli Pagamento"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Piano Attivato"}),s.jsx("p",{className:"text-white font-medium",children:((u=n==null?void 0:n.product)==null?void 0:u.name)||"SardAI Premium"})]}),l&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Importo"}),s.jsxs("p",{className:"text-white font-medium",children:[(parseFloat(l)/100).toFixed(2)," ",(c==null?void 0:c.toUpperCase())||"EUR"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Data Attivazione"}),s.jsx("p",{className:"text-white font-medium",children:new Date().toLocaleDateString("it-IT")})]}),(n==null?void 0:n.current_period_end)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Prossimo Rinnovo"}),s.jsx("p",{className:"text-white font-medium",children:new Date(n.current_period_end*1e3).toLocaleDateString("it-IT")})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 p-6 rounded-lg border border-yellow-500/20",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[s.jsx(ya,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Ora Hai Accesso A:"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Chat in lingua sarda autentica","Dialetti: Logudorese, Campidanese","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle nuove funzionalit"].map((d,h)=>s.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+h*.1},className:"flex items-center space-x-2",children:[s.jsx(fr,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:d})]},h))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(T,{onClick:()=>e("/chat"),className:"w-full sardinian-gradient hover:opacity-90 text-lg py-4",children:[s.jsx(Fe,{className:"w-5 h-5 mr-2"}),"Inizia a Conversare in Sardo"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(T,{onClick:()=>e("/subscription"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),"Gestisci Abbonamento"]}),s.jsxs(T,{onClick:()=>e("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Vai alla Dashboard"]})]})]}),s.jsxs("div",{className:"text-center pt-4 border-t border-slate-600",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Reindirizzamento automatico alla chat tra ",a," secondi..."]}),s.jsx(T,{onClick:()=>e("/chat"),variant:"ghost",className:"text-blue-400 hover:text-blue-300 text-sm mt-2",children:"Vai subito alla chat"})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai domande sul tuo abbonamento?"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"Contattaci"})]})})]})]}),s.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Bene bene! Ora puoi parlare sardo come un vero isolano!" '})})]})})]})}function LD(){const e=ce(),[t]=hn(),{toast:n}=je(),[r,i]=m.useState(10);return m.useEffect(()=>{n({title:"Pagamento annullato",description:"Il pagamento  stato annullato. Puoi riprovare quando vuoi.",variant:"destructive"});const a=setInterval(()=>{i(o=>o<=1?(clearInterval(a),e("/subscription"),0):o-1)},1e3);return()=>clearInterval(a)},[n,e]),t.get("session_id"),s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Pagamento Annullato - SardAI"}),s.jsx("meta",{name:"description",content:"Il pagamento  stato annullato. Puoi riprovare quando vuoi."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-20 h-20 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(yf,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(q,{className:"text-3xl font-bold text-white mb-2",children:"Pagamento Annullato"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Nessun problema! Il tuo pagamento  stato annullato"})]}),s.jsxs(B,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-orange-900/20 border border-orange-500/30 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-orange-300 font-semibold mb-3 flex items-center",children:[s.jsx(Ry,{className:"w-5 h-5 mr-2"}),"Cosa  successo?"]}),s.jsxs("div",{className:"space-y-2 text-orange-200 text-sm",children:[s.jsx("p",{children:" Il processo di pagamento  stato interrotto"}),s.jsx("p",{children:" Non  stato addebitato alcun importo"}),s.jsx("p",{children:" Il tuo account rimane invariato"}),s.jsx("p",{children:" Puoi riprovare in qualsiasi momento"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 p-6 rounded-lg border border-yellow-500/20",children:[s.jsxs("h3",{className:"text-yellow-300 font-semibold mb-3 flex items-center",children:[s.jsx(W,{className:"w-5 h-5 mr-2"}),"Ti Ricordiamo i Vantaggi Premium:"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Chat in lingua sarda autentica","Dialetti logudorese e campidanese","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle novit"].map((a,o)=>s.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+o*.1},className:"flex items-center space-x-2",children:[s.jsx(W,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:a})]},o))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(T,{onClick:()=>e("/subscription"),className:"w-full sardinian-gradient hover:opacity-90 text-lg py-4",children:[s.jsx(dn,{className:"w-5 h-5 mr-2"}),"Riprova il Pagamento"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(T,{onClick:()=>e("/chat"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Chat Gratuita"]}),s.jsxs(T,{onClick:()=>e("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]}),s.jsxs("div",{className:"text-center pt-4 border-t border-slate-600",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Reindirizzamento automatico agli abbonamenti tra ",r," secondi..."]}),s.jsx(T,{onClick:()=>e("/subscription"),variant:"ghost",className:"text-blue-400 hover:text-blue-300 text-sm mt-2",children:"Vai subito"})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai avuto problemi con il pagamento?"," ",s.jsxs("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:[s.jsx(vr,{className:"w-4 h-4 inline mr-1"}),"Contattaci per assistenza"]})]})})]})]}),s.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Aho, non ti preoccupare! Quando sei pronto, SardAI ti aspetta!" '})})]})})]})}function MD(){const e=ce(),[t]=hn(),[n,r]=m.useState("");return m.useEffect(()=>{const i=setInterval(()=>{r(c=>c.length>=3?"":c+".")},500);t.get("session_id");const a=t.get("success"),o=t.get("canceled"),l=setTimeout(()=>{e(a==="true"?"/stripe/success":o==="true"?"/stripe/cancel":"/subscription")},3e3);return()=>{clearInterval(i),clearTimeout(l)}},[e,t]),s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Elaborazione Pagamento - SardAI"}),s.jsx("meta",{name:"description",content:"Stiamo elaborando il tuo pagamento. Attendere prego..."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-lg",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(F.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(va,{className:"w-8 h-8 text-white"})}),s.jsxs(q,{className:"text-2xl font-bold text-white mb-2",children:["Elaborazione Pagamento",n]}),s.jsx("p",{className:"text-gray-300",children:"Stiamo processando il tuo pagamento in sicurezza"})]}),s.jsxs(B,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"flex items-center space-x-3 p-3 bg-blue-900/20 rounded-lg border border-blue-500/20",children:[s.jsx(F.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},children:s.jsx(wa,{className:"w-5 h-5 text-blue-400 animate-spin"})}),s.jsx("span",{className:"text-blue-300",children:"Verifica dei dati di pagamento"})]}),s.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"flex items-center space-x-3 p-3 bg-yellow-900/20 rounded-lg border border-yellow-500/20",children:[s.jsx(F.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.5},children:s.jsx(W,{className:"w-5 h-5 text-yellow-400"})}),s.jsx("span",{className:"text-yellow-300",children:"Attivazione abbonamento Premium"})]}),s.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},className:"flex items-center space-x-3 p-3 bg-green-900/20 rounded-lg border border-green-500/20",children:[s.jsx(F.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:1},children:s.jsx(et,{className:"w-5 h-5 text-green-400"})}),s.jsx("span",{className:"text-green-300",children:"Configurazione account"})]})]}),s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-600",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(et,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-green-400 font-semibold text-sm",children:"Pagamento Sicuro"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"I tuoi dati di pagamento sono protetti da crittografia SSL e processati in sicurezza tramite Stripe, leader mondiale nei pagamenti online."})]}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[s.jsx(zn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Tempo di elaborazione: 30-60 secondi"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Non chiudere questa pagina durante l'elaborazione"})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Reindirizzamento automatico tra ",countdown," secondi..."]})}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Problemi con il pagamento?"," ",s.jsxs("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:[s.jsx(Mail,{className:"w-4 h-4 inline mr-1"}),"Contatta il supporto"]})]})})]})]}),s.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Aspetta un attimo, stiamo preparando tutto per te!" '})})]})})]})}function zD(){var l;const e=ce(),[t]=hn(),{toast:n}=je(),[r,i]=m.useState("");m.useEffect(()=>{const c=t.get("error")||"Si  verificato un errore durante il pagamento";i(decodeURIComponent(c)),n({title:"Errore nel pagamento",description:"Si  verificato un problema durante il processo di pagamento.",variant:"destructive"})},[t,n]);const o=(c=>{const u=c.toLowerCase();return u.includes("card")||u.includes("declined")?{title:"Carta Rifiutata",description:"La tua carta di credito  stata rifiutata. Verifica i dati inseriti o prova con un'altra carta.",suggestions:["Controlla il numero della carta","Verifica la data di scadenza","Controlla il codice CVV","Assicurati di avere fondi sufficienti","Prova con un'altra carta"]}:u.includes("expired")?{title:"Sessione Scaduta",description:"La sessione di pagamento  scaduta. Riprova il processo dall'inizio.",suggestions:["Torna alla pagina abbonamenti","Seleziona nuovamente il piano","Completa il pagamento entro 30 minuti"]}:u.includes("insufficient")?{title:"Fondi Insufficienti",description:"Non ci sono fondi sufficienti sulla carta per completare il pagamento.",suggestions:["Verifica il saldo della carta","Prova con un'altra carta","Contatta la tua banca"]}:{title:"Errore di Pagamento",description:c,suggestions:["Riprova il pagamento","Verifica i dati della carta","Prova con un'altra carta","Contatta il supporto se il problema persiste"]}})(r);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Errore Pagamento - SardAI"}),s.jsx("meta",{name:"description",content:"Si  verificato un errore durante il processo di pagamento."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-20 h-20 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(gt,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(q,{className:"text-3xl font-bold text-white mb-2",children:o.title}),s.jsx("p",{className:"text-gray-300 text-lg",children:o.description})]}),s.jsxs(B,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-red-300 font-semibold mb-3 flex items-center",children:[s.jsx(Ry,{className:"w-5 h-5 mr-2"}),"Cosa Puoi Fare:"]}),s.jsx("ul",{className:"space-y-2 text-red-200 text-sm",children:o.suggestions.map((c,u)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-red-400 mt-1",children:""}),s.jsx("span",{children:c})]},u))})]}),s.jsxs("div",{className:"bg-slate-800/30 p-6 rounded-lg border border-slate-600",children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center",children:[s.jsx(va,{className:"w-5 h-5 mr-2"}),"Problemi Comuni:"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white mb-1",children:"Carta Rifiutata"}),s.jsx("p",{children:"Verifica numero, scadenza e CVV"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white mb-1",children:"Fondi Insufficienti"}),s.jsx("p",{children:"Controlla il saldo disponibile"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white mb-1",children:"Carta Scaduta"}),s.jsx("p",{children:"Usa una carta con data valida"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white mb-1",children:"Blocco Banca"}),s.jsx("p",{children:"Contatta la tua banca"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(T,{onClick:()=>e("/subscription"),className:"w-full sardinian-gradient hover:opacity-90 text-lg py-4",children:[s.jsx(dn,{className:"w-5 h-5 mr-2"}),"Riprova il Pagamento"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(T,{onClick:()=>e("/chat"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Chat Gratuita"]}),s.jsxs(T,{onClick:()=>e("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]}),s.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-blue-300 font-semibold mb-3 flex items-center",children:[s.jsx(vr,{className:"w-5 h-5 mr-2"}),"Hai Bisogno di Aiuto?"]}),s.jsx("p",{className:"text-blue-200 text-sm mb-4",children:"Il nostro team di supporto  qui per aiutarti con qualsiasi problema di pagamento."}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vr,{className:"w-4 h-4 text-blue-400"}),s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"info@sardai.tech"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zn,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-200",children:"Risposta entro 24 ore"})]})]})]}),t.get("error_code")&&s.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-lg border border-slate-700",children:[s.jsx("h4",{className:"text-gray-400 font-medium mb-2",children:"Dettagli Tecnici:"}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[s.jsxs("p",{children:["Codice Errore: ",t.get("error_code")]}),s.jsxs("p",{children:["Sessione: ",(l=t.get("session_id"))==null?void 0:l.substring(0,20),"..."]})]})]})]})]}),s.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Madonna mia! Qualcosa  andato storto, ma non ti preoccupare!" '})})]})})]})}function FD(){var h,f,p,w,g,y,x,v,j,b;const e=ce();qe();const{subscription:t,loading:n,refetch:r}=ds(),{toast:i}=je(),[a,o]=m.useState(!1);m.useEffect(()=>{r()},[r]);const l=async()=>{o(!0);try{const{data:C,error:E}=await Y.functions.invoke("stripe-manage-subscription",{body:{action:"cancel",subscription_id:t.subscription_id}});if(E)throw E;i({title:"Abbonamento annullato",description:"Il tuo abbonamento verr cancellato alla fine del periodo corrente."}),r()}catch(C){i({title:"Errore nell'annullamento",description:C.message||"Impossibile annullare l'abbonamento.",variant:"destructive"})}finally{o(!1)}},c=async()=>{try{const{data:C,error:E}=await Y.functions.invoke("stripe-manage-subscription",{body:{action:"reactivate",subscription_id:t.subscription_id}});if(E)throw E;i({title:"Abbonamento riattivato! ",description:"Il tuo abbonamento Premium  stato riattivato con successo."}),r()}catch(C){i({title:"Errore nella riattivazione",description:C.message||"Impossibile riattivare l'abbonamento.",variant:"destructive"})}},u=C=>{const E={active:{color:"bg-green-500/20 text-green-400",icon:fr,label:"Attivo"},past_due:{color:"bg-yellow-500/20 text-yellow-400",icon:gt,label:"Scaduto"},canceled:{color:"bg-red-500/20 text-red-400",icon:gt,label:"Cancellato"},trialing:{color:"bg-blue-500/20 text-blue-400",icon:zn,label:"Prova"}},_=E[C]||E.active,N=_.icon;return s.jsxs(_t,{className:`${_.color} border-0`,children:[s.jsx(N,{className:"w-3 h-3 mr-1"}),_.label]})},d=C=>new Date(C*1e3).toLocaleDateString("it-IT",{day:"2-digit",month:"long",year:"numeric"});return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):t!=null&&t.isActive?s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Gestione Abbonamento Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento SardAI Premium, visualizza fatture e modifica impostazioni."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/subscription"),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna agli Abbonamenti"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestione Abbonamento"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:s.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs($,{className:"sardinian-card premium-glow",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(W,{className:"w-6 h-6 mr-2 text-yellow-400"}),"Il Tuo Abbonamento Premium"]})}),s.jsxs(B,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Piano Attuale"}),s.jsx("p",{className:"text-white text-xl font-semibold",children:((h=t.product)==null?void 0:h.name)||"SardAI Premium"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u(t.subscription_status),t.cancel_at_period_end&&s.jsxs(_t,{className:"bg-yellow-500/20 text-yellow-400 border-0",children:[s.jsx(gt,{className:"w-3 h-3 mr-1"}),"In Cancellazione"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Prezzo"}),s.jsxs("p",{className:"text-white text-lg font-medium",children:[(f=t.product)==null?void 0:f.price," ",(w=(p=t.product)==null?void 0:p.currency)==null?void 0:w.toUpperCase()," / ",((g=t.product)==null?void 0:g.interval)==="month"?"mese":"anno"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Prossimo Rinnovo"}),s.jsx("p",{className:"text-white text-lg font-medium",children:t.current_period_end?d(t.current_period_end):"Non disponibile"})]}),t.payment_method_last4&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Metodo di Pagamento"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(va,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-white",children:[(y=t.payment_method_brand)==null?void 0:y.toUpperCase(),"  ",t.payment_method_last4]})]})]})]})]}),t.cancel_at_period_end&&s.jsxs("div",{className:"mt-6 p-4 bg-yellow-900/30 border border-yellow-500/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(gt,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"text-yellow-400 font-semibold",children:"Abbonamento in Cancellazione"})]}),s.jsxs("p",{className:"text-yellow-200 text-sm",children:["Il tuo abbonamento verr cancellato il ",d(t.current_period_end),". Potrai continuare a usare le funzionalit Premium fino a quella data."]}),s.jsx(T,{onClick:c,className:"mt-3 sardinian-gradient hover:opacity-90",size:"sm",children:"Riattiva Abbonamento"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(va,{className:"w-5 h-5 mr-2"}),"Fatturazione"]})}),s.jsx(B,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{variant:"outline",className:"w-full justify-start border-white/20 text-white hover:bg-white/10",onClick:()=>{i({title:" Funzionalit in arrivo!",description:"La gestione delle fatture sar disponibile presto."})},children:[s.jsx(gf,{className:"w-4 h-4 mr-2"}),"Scarica Fatture"]}),s.jsxs(T,{variant:"outline",className:"w-full justify-start border-white/20 text-white hover:bg-white/10",onClick:()=>{i({title:" Funzionalit in arrivo!",description:"La modifica del metodo di pagamento sar disponibile presto."})},children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),"Modifica Metodo di Pagamento"]})]})})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(ja,{className:"w-5 h-5 mr-2"}),"Gestione Abbonamento"]})}),s.jsx(B,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[t.cancel_at_period_end?s.jsxs(T,{onClick:c,className:"w-full justify-start sardinian-gradient hover:opacity-90",children:[s.jsx(fr,{className:"w-4 h-4 mr-2"}),"Riattiva Abbonamento"]}):s.jsxs(tr,{children:[s.jsx(nr,{asChild:!0,children:s.jsxs(T,{variant:"outline",className:"w-full justify-start border-red-500/50 text-red-400 hover:bg-red-500/10",children:[s.jsx(gt,{className:"w-4 h-4 mr-2"}),"Annulla Abbonamento"]})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Annulla Abbonamento Premium"}),s.jsxs(En,{children:["Sei sicuro di voler annullare il tuo abbonamento Premium? Potrai continuare a usare le funzionalit Premium fino al ",d(t.current_period_end),"."]})]}),s.jsxs(_n,{children:[s.jsx(Tn,{children:"Mantieni Premium"}),s.jsx(rr,{onClick:l,className:"bg-red-600 hover:bg-red-700",disabled:a,children:a?"Annullamento...":"Annulla Abbonamento"})]})]})]}),s.jsxs(T,{variant:"outline",className:"w-full justify-start border-white/20 text-white hover:bg-white/10",onClick:()=>{i({title:" Funzionalit in arrivo!",description:"Il cambio piano sar disponibile presto."})},children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),"Cambia Piano"]})]})})]})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(ns,{className:"w-5 h-5 mr-2"}),"Cronologia Fatturazione"]})}),s.jsx(B,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/30 rounded-lg border border-slate-600",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:s.jsx(fr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:((x=t.product)==null?void 0:x.name)||"SardAI Premium"}),s.jsx("p",{className:"text-gray-400 text-sm",children:d(t.current_period_start||Date.now()/1e3)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white font-medium",children:[(v=t.product)==null?void 0:v.price," ",(b=(j=t.product)==null?void 0:j.currency)==null?void 0:b.toUpperCase()]}),s.jsx(_t,{className:"bg-green-500/20 text-green-400 border-0 mt-1",children:"Pagato"})]})]}),s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"La cronologia completa delle fatture sar disponibile presto"})})]})})]}),s.jsxs($,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(et,{className:"w-5 h-5 mr-2"}),"Supporto e Assistenza"]})}),s.jsx(B,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Hai Domande?"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Il nostro team di supporto  qui per aiutarti con qualsiasi domanda sul tuo abbonamento Premium."}),s.jsx(T,{variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-500/10",onClick:()=>window.open("mailto:info@sardai.tech","_blank"),children:"Contatta il Supporto"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Informazioni Utili"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsx("p",{children:" Puoi annullare in qualsiasi momento"}),s.jsx("p",{children:" Nessun costo di cancellazione"}),s.jsx("p",{children:" Accesso Premium fino alla scadenza"}),s.jsx("p",{children:" Fatture inviate via email"})]})]})]})})]})]})})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Gestione Abbonamento - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento SardAI Premium."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/subscription"),className:"text-white hover:bg-white/10",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Torna agli Abbonamenti"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestione Abbonamento"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx($,{className:"sardinian-card text-center",children:s.jsxs(B,{className:"p-8",children:[s.jsx(W,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Nessun Abbonamento Attivo"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Non hai un abbonamento Premium attivo. Scopri tutti i vantaggi!"}),s.jsxs(T,{onClick:()=>e("/subscription"),className:"sardinian-gradient hover:opacity-90",children:[s.jsx(W,{className:"w-4 h-4 mr-2"}),"Diventa Premium"]})]})})})})]})]})}function $D(){var f,p,w,g;const{user:e,profile:t,logout:n}=qe(),r=_r(),i=ce(),[a,o]=m.useState(!1),l=y=>r.pathname===y,c=async()=>{await n(),i("/"),o(!1)},d=[{path:"/",label:"Home",icon:Iy,public:!0},{path:"/premium",label:"Premium",icon:W,public:!0},{path:"/dashboard",label:"Dashboard",icon:Fe,protected:!0},{path:"/profile",label:"Profilo",icon:Ht,protected:!0},{path:"/subscription",label:"Premium",icon:W,protected:!0,premium:!1},{path:"/admin",label:"Admin",icon:et,admin:!0}].filter(y=>y.public?!0:!(y.protected&&!e||y.admin&&(t==null?void 0:t.role)!=="admin"||y.premium===!1&&(t!=null&&t.is_premium))),h=({item:y,mobile:x=!1})=>s.jsxs(xt,{to:y.path,onClick:()=>x&&o(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${l(y.path)?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-white/10"} ${x?"w-full justify-start":""}`,children:[s.jsx(y.icon,{className:"w-4 h-4"}),s.jsx("span",{children:y.label}),y.path==="/subscription"&&!(t!=null&&t.is_premium)&&s.jsx("span",{className:"ml-auto px-2 py-1 text-xs bg-yellow-500 text-black rounded-full",children:"Upgrade"})]});return s.jsx("nav",{className:"glass-effect border-b border-white/10 sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs(xt,{to:"/",className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"SardAI"})]}),s.jsx("div",{className:"hidden md:flex items-center space-x-1",children:d.map(y=>s.jsx(h,{item:y},y.path))}),s.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Ft,{className:"w-8 h-8",children:[s.jsx(Ea,{src:t==null?void 0:t.avatar_url}),s.jsx($t,{className:"bg-blue-600 text-white text-sm",children:(p=(f=t==null?void 0:t.full_name)==null?void 0:f.charAt(0))==null?void 0:p.toUpperCase()})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-gray-400 text-xs",children:(t==null?void 0:t.role)==="admin"?" Admin":t!=null&&t.is_premium?" Premium":" Gratuito"})]})]}),s.jsx(T,{variant:"ghost",size:"sm",onClick:c,className:"text-red-400 hover:text-red-300 hover:bg-red-400/10",children:s.jsx(Ld,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(T,{variant:"ghost",onClick:()=>i("/login"),className:"text-white hover:bg-white/10",children:"Accedi"}),s.jsx(T,{onClick:()=>i("/register"),className:"sardinian-gradient hover:opacity-90",children:"Registrati"})]})}),s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>o(!a),className:"md:hidden text-white hover:bg-white/10",children:a?s.jsx(Na,{className:"w-5 h-5"}):s.jsx(tc,{className:"w-5 h-5"})})]}),s.jsx(UR,{children:a&&s.jsx(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"md:hidden border-t border-white/10 py-4",children:s.jsxs("div",{className:"space-y-2",children:[d.map(y=>s.jsx(h,{item:y,mobile:!0},y.path)),e?s.jsxs("div",{className:"pt-4 border-t border-white/10 mt-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 mb-3",children:[s.jsxs(Ft,{className:"w-10 h-10",children:[s.jsx(Ea,{src:t==null?void 0:t.avatar_url}),s.jsx($t,{className:"bg-blue-600 text-white",children:(g=(w=t==null?void 0:t.full_name)==null?void 0:w.charAt(0))==null?void 0:g.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-gray-400 text-sm",children:(t==null?void 0:t.role)==="admin"?" Admin":t!=null&&t.is_premium?" Premium":" Gratuito"})]})]}),s.jsxs(T,{variant:"ghost",onClick:c,className:"w-full justify-start text-red-400 hover:text-red-300 hover:bg-red-400/10",children:[s.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Logout"]})]}):s.jsxs("div",{className:"pt-4 border-t border-white/10 mt-4 space-y-2",children:[s.jsx(T,{variant:"ghost",onClick:()=>{i("/login"),o(!1)},className:"w-full justify-start text-white hover:bg-white/10",children:"Accedi"}),s.jsx(T,{onClick:()=>{i("/register"),o(!1)},className:"w-full sardinian-gradient hover:opacity-90",children:"Registrati"})]})]})})})]})})}function UD(){return s.jsx("footer",{className:"glass-effect border-t border-white/10 mt-auto",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left",children:[s.jsxs("div",{className:"mb-6 md:mb-0",children:[s.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"SardAI"})]}),s.jsxs("p",{className:"text-gray-400 flex items-center justify-center md:justify-start",children:["Fatto con  in Sardegna  SardAI ",new Date().getFullYear()]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-8 text-gray-300",children:[s.jsx(xt,{to:"/terms",className:"hover:text-white transition-colors",children:"Condizioni di Utilizzo"}),s.jsx(xt,{to:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"}),s.jsx(xt,{to:"/gdpr",className:"hover:text-white transition-colors",children:"GDPR"}),s.jsx("a",{href:"mailto:info@sardai.tech",className:"hover:text-white transition-colors",children:"Contatto"})]})]})})})}function VD(){return s.jsx(ST,{children:s.jsxs(O2,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"SardAI - Assistente Virtuale Sardo"}),s.jsx("meta",{name:"description",content:"L'assistente virtuale che parla sardo. Scopri la cultura sarda attraverso l'intelligenza artificiale con modalit gratuita e premium."}),s.jsx("meta",{name:"keywords",content:"sardegna, sardo, AI, assistente virtuale, chatbot, cultura sarda, logudorese, campidanese"}),s.jsx("meta",{property:"og:title",content:"SardAI - Assistente Virtuale Sardo"}),s.jsx("meta",{property:"og:description",content:"L'assistente virtuale che parla sardo. Scopri la cultura sarda attraverso l'intelligenza artificiale."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://sardai.tech"})]}),s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx($D,{}),s.jsx("main",{className:"flex-grow",children:s.jsxs(P2,{children:[s.jsx(ye,{path:"/",element:s.jsx(BR,{})}),s.jsx(ye,{path:"/login",element:s.jsx(dD,{})}),s.jsx(ye,{path:"/register",element:s.jsx(hD,{})}),s.jsx(ye,{path:"/gdpr",element:s.jsx(PD,{})}),s.jsx(ye,{path:"/terms",element:s.jsx(ED,{})}),s.jsx(ye,{path:"/privacy",element:s.jsx(TD,{})}),s.jsx(ye,{path:"/premium",element:s.jsx(kD,{})}),s.jsx(ye,{path:"/auth/error",element:s.jsx(AD,{})}),s.jsx(ye,{path:"/auth/success",element:s.jsx(RD,{})}),s.jsx(ye,{path:"/auth/reset-password",element:s.jsx(ID,{})}),s.jsx(ye,{path:"/auth/resend-confirmation",element:s.jsx(DD,{})}),s.jsx(ye,{path:"/auth/callback",element:s.jsx(vg,{})}),s.jsx(ye,{path:"/auth/confirm",element:s.jsx(vg,{})}),s.jsx(ye,{path:"/stripe/success",element:s.jsx(OD,{})}),s.jsx(ye,{path:"/stripe/cancel",element:s.jsx(LD,{})}),s.jsx(ye,{path:"/stripe/processing",element:s.jsx(MD,{})}),s.jsx(ye,{path:"/stripe/error",element:s.jsx(zD,{})}),s.jsx(ye,{path:"/stripe/manage",element:s.jsx(Si,{children:s.jsx(FD,{})})}),s.jsx(ye,{path:"/chat",element:s.jsx(Si,{children:s.jsx(MI,{})})}),s.jsx(ye,{path:"/dashboard",element:s.jsx(Si,{children:s.jsx(fD,{})})}),s.jsx(ye,{path:"/profile",element:s.jsx(Si,{children:s.jsx(mD,{})})}),s.jsx(ye,{path:"/subscription",element:s.jsx(Si,{children:s.jsx(pD,{})})}),s.jsx(ye,{path:"/admin",element:s.jsx(CD,{children:s.jsx(SD,{})})}),s.jsx(ye,{path:"*",element:s.jsx(_D,{})})]})}),s.jsx(UD,{})]}),s.jsx(SP,{})]})})}Pu.createRoot(document.getElementById("root")).render(s.jsx(X.StrictMode,{children:s.jsx(VD,{})}));

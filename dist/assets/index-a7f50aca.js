function mx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var px={exports:{}},Rl={},gx={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),e1=Symbol.for("react.portal"),t1=Symbol.for("react.fragment"),n1=Symbol.for("react.strict_mode"),r1=Symbol.for("react.profiler"),s1=Symbol.for("react.provider"),i1=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),o1=Symbol.for("react.suspense"),l1=Symbol.for("react.memo"),c1=Symbol.for("react.lazy"),tm=Symbol.iterator;function u1(e){return e===null||typeof e!="object"?null:(e=tm&&e[tm]||e["@@iterator"],typeof e=="function"?e:null)}var xx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vx=Object.assign,yx={};function ni(e,t,n){this.props=e,this.context=t,this.refs=yx,this.updater=n||xx}ni.prototype.isReactComponent={};ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wx(){}wx.prototype=ni.prototype;function lh(e,t,n){this.props=e,this.context=t,this.refs=yx,this.updater=n||xx}var ch=lh.prototype=new wx;ch.constructor=lh;vx(ch,ni.prototype);ch.isPureReactComponent=!0;var nm=Array.isArray,jx=Object.prototype.hasOwnProperty,uh={current:null},bx={key:!0,ref:!0,__self:!0,__source:!0};function Nx(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)jx.call(t,r)&&!bx.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ta,type:e,key:a,ref:o,props:i,_owner:uh.current}}function d1(e,t){return{$$typeof:Ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ta}function h1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rm=/\/+/g;function yc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h1(""+e.key):t.toString(36)}function Po(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ta:case e1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+yc(o,0):r,nm(i)?(n="",e!=null&&(n=e.replace(rm,"$&/")+"/"),Po(i,t,n,"",function(u){return u})):i!=null&&(dh(i)&&(i=d1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",nm(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+yc(a,l);o+=Po(a,t,n,c,i)}else if(c=u1(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+yc(a,l++),o+=Po(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ga(e,t,n){if(e==null)return e;var r=[],i=0;return Po(e,r,"","",function(a){return t.call(n,a,i++)}),r}function f1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},To={transition:null},m1={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:To,ReactCurrentOwner:uh};function Sx(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Ga,forEach:function(e,t,n){Ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!dh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=ni;ee.Fragment=t1;ee.Profiler=r1;ee.PureComponent=lh;ee.StrictMode=n1;ee.Suspense=o1;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1;ee.act=Sx;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vx({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=uh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)jx.call(t,c)&&!bx.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ta,type:e.type,key:i,ref:a,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:i1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s1,_context:e},e.Consumer=e};ee.createElement=Nx;ee.createFactory=function(e){var t=Nx.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:a1,render:e}};ee.isValidElement=dh;ee.lazy=function(e){return{$$typeof:c1,_payload:{_status:-1,_result:e},_init:f1}};ee.memo=function(e,t){return{$$typeof:l1,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=To.transition;To.transition={};try{e()}finally{To.transition=t}};ee.unstable_act=Sx;ee.useCallback=function(e,t){return at.current.useCallback(e,t)};ee.useContext=function(e){return at.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return at.current.useDeferredValue(e)};ee.useEffect=function(e,t){return at.current.useEffect(e,t)};ee.useId=function(){return at.current.useId()};ee.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return at.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};ee.useRef=function(e){return at.current.useRef(e)};ee.useState=function(e){return at.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return at.current.useTransition()};ee.version="18.3.1";gx.exports=ee;var m=gx.exports;const Y=rs(m),hh=mx({__proto__:null,default:Y},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1=m,g1=Symbol.for("react.element"),x1=Symbol.for("react.fragment"),v1=Object.prototype.hasOwnProperty,y1=p1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w1={key:!0,ref:!0,__self:!0,__source:!0};function Cx(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)v1.call(t,r)&&!w1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:g1,type:e,key:a,ref:o,props:i,_owner:y1.current}}Rl.Fragment=x1;Rl.jsx=Cx;Rl.jsxs=Cx;px.exports=Rl;var s=px.exports,Su={},_x={exports:{}},At={},Px={exports:{}},Tx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var M=A.length;A.push(L);e:for(;0<M;){var W=M-1>>>1,Z=A[W];if(0<i(Z,L))A[W]=L,A[M]=Z,M=W;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var L=A[0],M=A.pop();if(M!==L){A[0]=M;e:for(var W=0,Z=A.length,ce=Z>>>1;W<ce;){var ie=2*(W+1)-1,lt=A[ie],Nt=ie+1,Pr=A[Nt];if(0>i(lt,M))Nt<Z&&0>i(Pr,lt)?(A[W]=Pr,A[Nt]=M,W=Nt):(A[W]=lt,A[ie]=M,W=ie);else if(Nt<Z&&0>i(Pr,M))A[W]=Pr,A[Nt]=M,W=Nt;else break e}}return L}function i(A,L){var M=A.sortIndex-L.sortIndex;return M!==0?M:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,w=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(A){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=A)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function b(A){if(x=!1,j(A),!w)if(n(c)!==null)w=!0,E(S);else{var L=n(u);L!==null&&B(b,L.startTime-A)}}function S(A,L){w=!1,x&&(x=!1,p(N),N=-1),g=!0;var M=f;try{for(j(L),h=n(c);h!==null&&(!(h.expirationTime>L)||A&&!H());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var Z=W(h.expirationTime<=L);L=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(c)&&r(c),j(L)}else r(c);h=n(c)}if(h!==null)var ce=!0;else{var ie=n(u);ie!==null&&B(b,ie.startTime-L),ce=!1}return ce}finally{h=null,f=M,g=!1}}var P=!1,_=null,N=-1,k=5,O=-1;function H(){return!(e.unstable_now()-O<k)}function D(){if(_!==null){var A=e.unstable_now();O=A;var L=!0;try{L=_(!0,A)}finally{L?ne():(P=!1,_=null)}}else P=!1}var ne;if(typeof v=="function")ne=function(){v(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,C=R.port2;R.port1.onmessage=D,ne=function(){C.postMessage(null)}}else ne=function(){y(D,0)};function E(A){_=A,P||(P=!0,ne())}function B(A,L){N=y(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,E(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var M=f;f=L;try{return A()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=f;f=A;try{return L()}finally{f=M}},e.unstable_scheduleCallback=function(A,L,M){var W=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?W+M:W):M=W,A){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=M+Z,A={id:d++,callback:L,priorityLevel:A,startTime:M,expirationTime:Z,sortIndex:-1},M>W?(A.sortIndex=M,t(u,A),n(c)===null&&A===n(u)&&(x?(p(N),N=-1):x=!0,B(b,M-W))):(A.sortIndex=Z,t(c,A),w||g||(w=!0,E(S))),A},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(A){var L=f;return function(){var M=f;f=L;try{return A.apply(this,arguments)}finally{f=M}}}})(Tx);Px.exports=Tx;var j1=Px.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=m,Et=j1;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ex=new Set,Xi={};function ss(e,t){Ws(e,t),Ws(e+"Capture",t)}function Ws(e,t){for(Xi[e]=t,e=0;e<t.length;e++)Ex.add(t[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,N1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sm={},im={};function S1(e){return Cu.call(im,e)?!0:Cu.call(sm,e)?!1:N1.test(e)?im[e]=!0:(sm[e]=!0,!1)}function C1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _1(e,t,n,r){if(t===null||typeof t>"u"||C1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var fh=/[\-:]([a-z])/g;function mh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fh,mh);Ke[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fh,mh);Ke[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fh,mh);Ke[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function ph(e,t,n,r){var i=Ke.hasOwnProperty(t)?Ke[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_1(t,n,i,r)&&(n=null),r||i===null?S1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fn=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ka=Symbol.for("react.element"),ys=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),gh=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),xh=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),vh=Symbol.for("react.memo"),Gn=Symbol.for("react.lazy"),Rx=Symbol.for("react.offscreen"),am=Symbol.iterator;function ui(e){return e===null||typeof e!="object"?null:(e=am&&e[am]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,wc;function Pi(e){if(wc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wc=t&&t[1]||""}return`
`+wc+e}var jc=!1;function bc(e,t){if(!e||jc)return"";jc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{jc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pi(e):""}function P1(e){switch(e.tag){case 5:return Pi(e.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 2:case 15:return e=bc(e.type,!1),e;case 11:return e=bc(e.type.render,!1),e;case 1:return e=bc(e.type,!0),e;default:return""}}function Eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ws:return"Fragment";case ys:return"Portal";case _u:return"Profiler";case gh:return"StrictMode";case Pu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ax:return(e.displayName||"Context")+".Consumer";case kx:return(e._context.displayName||"Context")+".Provider";case xh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vh:return t=e.displayName||null,t!==null?t:Eu(e.type)||"Memo";case Gn:t=e._payload,e=e._init;try{return Eu(e(t))}catch{}}return null}function T1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(t);case 8:return t===gh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ix(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E1(e){var t=Ix(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qa(e){e._valueTracker||(e._valueTracker=E1(e))}function Ox(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ix(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ku(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function om(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dx(e,t){t=t.checked,t!=null&&ph(e,"checked",t,!1)}function Au(e,t){Dx(e,t);var n=pr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ru(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ru(e,t.type,pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ru(e,t,n){(t!=="number"||Wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ti=Array.isArray;function Ls(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Iu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Ti(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pr(n)}}function Lx(e,t){var n=pr(t.value),r=pr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function um(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qa,zx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ji(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k1=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(e){k1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ii[t]=Ii[e]})});function Fx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ii.hasOwnProperty(e)&&Ii[e]?(""+t).trim():t+"px"}function $x(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var A1=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(e,t){if(t){if(A1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=null;function yh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zu=null,Ms=null,zs=null;function dm(e){if(e=Aa(e)){if(typeof zu!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Ml(t),zu(e.stateNode,e.type,t))}}function Ux(e){Ms?zs?zs.push(e):zs=[e]:Ms=e}function Vx(){if(Ms){var e=Ms,t=zs;if(zs=Ms=null,dm(e),t)for(e=0;e<t.length;e++)dm(t[e])}}function Bx(e,t){return e(t)}function Hx(){}var Nc=!1;function Wx(e,t,n){if(Nc)return e(t,n);Nc=!0;try{return Bx(e,t,n)}finally{Nc=!1,(Ms!==null||zs!==null)&&(Hx(),Vx())}}function Zi(e,t){var n=e.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Fu=!1;if(In)try{var di={};Object.defineProperty(di,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Fu=!1}function R1(e,t,n,r,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Oi=!1,Go=null,Ko=!1,$u=null,I1={onError:function(e){Oi=!0,Go=e}};function O1(e,t,n,r,i,a,o,l,c){Oi=!1,Go=null,R1.apply(I1,arguments)}function D1(e,t,n,r,i,a,o,l,c){if(O1.apply(this,arguments),Oi){if(Oi){var u=Go;Oi=!1,Go=null}else throw Error(I(198));Ko||(Ko=!0,$u=u)}}function is(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hm(e){if(is(e)!==e)throw Error(I(188))}function L1(e){var t=e.alternate;if(!t){if(t=is(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return hm(i),e;if(a===r)return hm(i),t;a=a.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Kx(e){return e=L1(e),e!==null?qx(e):null}function qx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qx(e);if(t!==null)return t;e=e.sibling}return null}var Qx=Et.unstable_scheduleCallback,fm=Et.unstable_cancelCallback,M1=Et.unstable_shouldYield,z1=Et.unstable_requestPaint,Ie=Et.unstable_now,F1=Et.unstable_getCurrentPriorityLevel,wh=Et.unstable_ImmediatePriority,Yx=Et.unstable_UserBlockingPriority,qo=Et.unstable_NormalPriority,$1=Et.unstable_LowPriority,Xx=Et.unstable_IdlePriority,Il=null,ln=null;function U1(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Il,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:H1,V1=Math.log,B1=Math.LN2;function H1(e){return e>>>=0,e===0?32:31-(V1(e)/B1|0)|0}var Ya=64,Xa=4194304;function Ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ei(l):(a&=o,a!==0&&(r=Ei(a)))}else o=n&~i,o!==0?r=Ei(o):a!==0&&(r=Ei(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Jt(t),i=1<<n,r|=e[n],t&=~i;return r}function W1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Jt(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=W1(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Uu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jx(){var e=Ya;return Ya<<=1,!(Ya&4194240)&&(Ya=64),e}function Sc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function K1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Jt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function jh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ue=0;function Zx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ev,bh,tv,nv,rv,Vu=!1,Ja=[],rr=null,sr=null,ir=null,ea=new Map,ta=new Map,Qn=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(t.pointerId)}}function hi(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Aa(t),t!==null&&bh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Q1(e,t,n,r,i){switch(t){case"focusin":return rr=hi(rr,e,t,n,r,i),!0;case"dragenter":return sr=hi(sr,e,t,n,r,i),!0;case"mouseover":return ir=hi(ir,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ea.set(a,hi(ea.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ta.set(a,hi(ta.get(a)||null,e,t,n,r,i)),!0}return!1}function sv(e){var t=zr(e.target);if(t!==null){var n=is(t);if(n!==null){if(t=n.tag,t===13){if(t=Gx(n),t!==null){e.blockedOn=t,rv(e.priority,function(){tv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mu=r,n.target.dispatchEvent(r),Mu=null}else return t=Aa(n),t!==null&&bh(t),e.blockedOn=n,!1;t.shift()}return!0}function pm(e,t,n){Eo(e)&&n.delete(t)}function Y1(){Vu=!1,rr!==null&&Eo(rr)&&(rr=null),sr!==null&&Eo(sr)&&(sr=null),ir!==null&&Eo(ir)&&(ir=null),ea.forEach(pm),ta.forEach(pm)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,Y1)))}function na(e){function t(i){return fi(i,e)}if(0<Ja.length){fi(Ja[0],e);for(var n=1;n<Ja.length;n++){var r=Ja[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rr!==null&&fi(rr,e),sr!==null&&fi(sr,e),ir!==null&&fi(ir,e),ea.forEach(t),ta.forEach(t),n=0;n<Qn.length;n++)r=Qn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)sv(n),n.blockedOn===null&&Qn.shift()}var Fs=Fn.ReactCurrentBatchConfig,Yo=!0;function X1(e,t,n,r){var i=ue,a=Fs.transition;Fs.transition=null;try{ue=1,Nh(e,t,n,r)}finally{ue=i,Fs.transition=a}}function J1(e,t,n,r){var i=ue,a=Fs.transition;Fs.transition=null;try{ue=4,Nh(e,t,n,r)}finally{ue=i,Fs.transition=a}}function Nh(e,t,n,r){if(Yo){var i=Bu(e,t,n,r);if(i===null)Oc(e,t,r,Xo,n),mm(e,r);else if(Q1(i,e,t,n,r))r.stopPropagation();else if(mm(e,r),t&4&&-1<q1.indexOf(e)){for(;i!==null;){var a=Aa(i);if(a!==null&&ev(a),a=Bu(e,t,n,r),a===null&&Oc(e,t,r,Xo,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Oc(e,t,r,null,n)}}var Xo=null;function Bu(e,t,n,r){if(Xo=null,e=yh(r),e=zr(e),e!==null)if(t=is(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xo=e,null}function iv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F1()){case wh:return 1;case Yx:return 4;case qo:case $1:return 16;case Xx:return 536870912;default:return 16}default:return 16}}var Xn=null,Sh=null,ko=null;function av(){if(ko)return ko;var e,t=Sh,n=t.length,r,i="value"in Xn?Xn.value:Xn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return ko=i.slice(e,1<r?1-r:void 0)}function Ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Za(){return!0}function gm(){return!1}function Rt(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Za:gm,this.isPropagationStopped=gm,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=Rt(ri),ka=ke({},ri,{view:0,detail:0}),Z1=Rt(ka),Cc,_c,mi,Ol=ke({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(Cc=e.screenX-mi.screenX,_c=e.screenY-mi.screenY):_c=Cc=0,mi=e),Cc)},movementY:function(e){return"movementY"in e?e.movementY:_c}}),xm=Rt(Ol),eN=ke({},Ol,{dataTransfer:0}),tN=Rt(eN),nN=ke({},ka,{relatedTarget:0}),Pc=Rt(nN),rN=ke({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),sN=Rt(rN),iN=ke({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aN=Rt(iN),oN=ke({},ri,{data:0}),vm=Rt(oN),lN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uN[e])?!!t[e]:!1}function _h(){return dN}var hN=ke({},ka,{key:function(e){if(e.key){var t=lN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fN=Rt(hN),mN=ke({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ym=Rt(mN),pN=ke({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),gN=Rt(pN),xN=ke({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),vN=Rt(xN),yN=ke({},Ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wN=Rt(yN),jN=[9,13,27,32],Ph=In&&"CompositionEvent"in window,Di=null;In&&"documentMode"in document&&(Di=document.documentMode);var bN=In&&"TextEvent"in window&&!Di,ov=In&&(!Ph||Di&&8<Di&&11>=Di),wm=String.fromCharCode(32),jm=!1;function lv(e,t){switch(e){case"keyup":return jN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function NN(e,t){switch(e){case"compositionend":return cv(t);case"keypress":return t.which!==32?null:(jm=!0,wm);case"textInput":return e=t.data,e===wm&&jm?null:e;default:return null}}function SN(e,t){if(js)return e==="compositionend"||!Ph&&lv(e,t)?(e=av(),ko=Sh=Xn=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ov&&t.locale!=="ko"?null:t.data;default:return null}}var CN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CN[e.type]:t==="textarea"}function uv(e,t,n,r){Ux(r),t=Jo(t,"onChange"),0<t.length&&(n=new Ch("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Li=null,ra=null;function _N(e){jv(e,0)}function Dl(e){var t=Ss(e);if(Ox(t))return e}function PN(e,t){if(e==="change")return t}var dv=!1;if(In){var Tc;if(In){var Ec="oninput"in document;if(!Ec){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),Ec=typeof Nm.oninput=="function"}Tc=Ec}else Tc=!1;dv=Tc&&(!document.documentMode||9<document.documentMode)}function Sm(){Li&&(Li.detachEvent("onpropertychange",hv),ra=Li=null)}function hv(e){if(e.propertyName==="value"&&Dl(ra)){var t=[];uv(t,ra,e,yh(e)),Wx(_N,t)}}function TN(e,t,n){e==="focusin"?(Sm(),Li=t,ra=n,Li.attachEvent("onpropertychange",hv)):e==="focusout"&&Sm()}function EN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(ra)}function kN(e,t){if(e==="click")return Dl(t)}function AN(e,t){if(e==="input"||e==="change")return Dl(t)}function RN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:RN;function sa(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cu.call(t,i)||!en(e[i],t[i]))return!1}return!0}function Cm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _m(e,t){var n=Cm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cm(n)}}function fv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mv(){for(var e=window,t=Wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wo(e.document)}return t}function Th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IN(e){var t=mv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fv(n.ownerDocument.documentElement,n)){if(r!==null&&Th(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=_m(n,a);var o=_m(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ON=In&&"documentMode"in document&&11>=document.documentMode,bs=null,Hu=null,Mi=null,Wu=!1;function Pm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wu||bs==null||bs!==Wo(r)||(r=bs,"selectionStart"in r&&Th(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&sa(Mi,r)||(Mi=r,r=Jo(Hu,"onSelect"),0<r.length&&(t=new Ch("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bs)))}function eo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ns={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},kc={},pv={};In&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Ll(e){if(kc[e])return kc[e];if(!Ns[e])return e;var t=Ns[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pv)return kc[e]=t[n];return e}var gv=Ll("animationend"),xv=Ll("animationiteration"),vv=Ll("animationstart"),yv=Ll("transitionend"),wv=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){wv.set(e,t),ss(t,[e])}for(var Ac=0;Ac<Tm.length;Ac++){var Rc=Tm[Ac],DN=Rc.toLowerCase(),LN=Rc[0].toUpperCase()+Rc.slice(1);wr(DN,"on"+LN)}wr(gv,"onAnimationEnd");wr(xv,"onAnimationIteration");wr(vv,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(yv,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function Em(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,D1(r,t,void 0,e),e.currentTarget=null}function jv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Em(i,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Em(i,l,u),a=c}}}if(Ko)throw e=$u,Ko=!1,$u=null,e}function ve(e,t){var n=t[Yu];n===void 0&&(n=t[Yu]=new Set);var r=e+"__bubble";n.has(r)||(bv(t,e,2,!1),n.add(r))}function Ic(e,t,n){var r=0;t&&(r|=4),bv(n,e,r,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function ia(e){if(!e[to]){e[to]=!0,Ex.forEach(function(n){n!=="selectionchange"&&(MN.has(n)||Ic(n,!1,e),Ic(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,Ic("selectionchange",!1,t))}}function bv(e,t,n,r){switch(iv(t)){case 1:var i=X1;break;case 4:i=J1;break;default:i=Nh}n=i.bind(null,t,n,e),i=void 0,!Fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Oc(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=zr(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Wx(function(){var u=a,d=yh(n),h=[];e:{var f=wv.get(e);if(f!==void 0){var g=Ch,w=e;switch(e){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":g=fN;break;case"focusin":w="focus",g=Pc;break;case"focusout":w="blur",g=Pc;break;case"beforeblur":case"afterblur":g=Pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=tN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=gN;break;case gv:case xv:case vv:g=sN;break;case yv:g=vN;break;case"scroll":g=Z1;break;case"wheel":g=wN;break;case"copy":case"cut":case"paste":g=aN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ym}var x=(t&4)!==0,y=!x&&e==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var v=u,j;v!==null;){j=v;var b=j.stateNode;if(j.tag===5&&b!==null&&(j=b,p!==null&&(b=Zi(v,p),b!=null&&x.push(aa(v,b,j)))),y)break;v=v.return}0<x.length&&(f=new g(f,w,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Mu&&(w=n.relatedTarget||n.fromElement)&&(zr(w)||w[On]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?zr(w):null,w!==null&&(y=is(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(x=xm,b="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=ym,b="onPointerLeave",p="onPointerEnter",v="pointer"),y=g==null?f:Ss(g),j=w==null?f:Ss(w),f=new x(b,v+"leave",g,n,d),f.target=y,f.relatedTarget=j,b=null,zr(d)===u&&(x=new x(p,v+"enter",w,n,d),x.target=j,x.relatedTarget=y,b=x),y=b,g&&w)t:{for(x=g,p=w,v=0,j=x;j;j=hs(j))v++;for(j=0,b=p;b;b=hs(b))j++;for(;0<v-j;)x=hs(x),v--;for(;0<j-v;)p=hs(p),j--;for(;v--;){if(x===p||p!==null&&x===p.alternate)break t;x=hs(x),p=hs(p)}x=null}else x=null;g!==null&&km(h,f,g,x,!1),w!==null&&y!==null&&km(h,y,w,x,!0)}}e:{if(f=u?Ss(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=PN;else if(bm(f))if(dv)S=AN;else{S=EN;var P=TN}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=kN);if(S&&(S=S(e,u))){uv(h,S,n,d);break e}P&&P(e,f,u),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Ru(f,"number",f.value)}switch(P=u?Ss(u):window,e){case"focusin":(bm(P)||P.contentEditable==="true")&&(bs=P,Hu=u,Mi=null);break;case"focusout":Mi=Hu=bs=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,Pm(h,n,d);break;case"selectionchange":if(ON)break;case"keydown":case"keyup":Pm(h,n,d)}var _;if(Ph)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else js?lv(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ov&&n.locale!=="ko"&&(js||N!=="onCompositionStart"?N==="onCompositionEnd"&&js&&(_=av()):(Xn=d,Sh="value"in Xn?Xn.value:Xn.textContent,js=!0)),P=Jo(u,N),0<P.length&&(N=new vm(N,e,null,n,d),h.push({event:N,listeners:P}),_?N.data=_:(_=cv(n),_!==null&&(N.data=_)))),(_=bN?NN(e,n):SN(e,n))&&(u=Jo(u,"onBeforeInput"),0<u.length&&(d=new vm("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=_))}jv(h,t)})}function aa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Zi(e,n),a!=null&&r.unshift(aa(e,a,i)),a=Zi(e,t),a!=null&&r.push(aa(e,a,i))),e=e.return}return r}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function km(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Zi(n,a),c!=null&&o.unshift(aa(n,c,l))):i||(c=Zi(n,a),c!=null&&o.push(aa(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var zN=/\r\n?/g,FN=/\u0000|\uFFFD/g;function Am(e){return(typeof e=="string"?e:""+e).replace(zN,`
`).replace(FN,"")}function no(e,t,n){if(t=Am(t),Am(e)!==t&&n)throw Error(I(425))}function Zo(){}var Gu=null,Ku=null;function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qu=typeof setTimeout=="function"?setTimeout:void 0,$N=typeof clearTimeout=="function"?clearTimeout:void 0,Rm=typeof Promise=="function"?Promise:void 0,UN=typeof queueMicrotask=="function"?queueMicrotask:typeof Rm<"u"?function(e){return Rm.resolve(null).then(e).catch(VN)}:Qu;function VN(e){setTimeout(function(){throw e})}function Dc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),na(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);na(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Im(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),an="__reactFiber$"+si,oa="__reactProps$"+si,On="__reactContainer$"+si,Yu="__reactEvents$"+si,BN="__reactListeners$"+si,HN="__reactHandles$"+si;function zr(e){var t=e[an];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[an]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Im(e);e!==null;){if(n=e[an])return n;e=Im(e)}return t}e=n,n=e.parentNode}return null}function Aa(e){return e=e[an]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Ml(e){return e[oa]||null}var Xu=[],Cs=-1;function jr(e){return{current:e}}function we(e){0>Cs||(e.current=Xu[Cs],Xu[Cs]=null,Cs--)}function me(e,t){Cs++,Xu[Cs]=e.current,e.current=t}var gr={},et=jr(gr),vt=jr(!1),Qr=gr;function Gs(e,t){var n=e.type.contextTypes;if(!n)return gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yt(e){return e=e.childContextTypes,e!=null}function el(){we(vt),we(et)}function Om(e,t,n){if(et.current!==gr)throw Error(I(168));me(et,t),me(vt,n)}function Nv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,T1(e)||"Unknown",i));return ke({},n,r)}function tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gr,Qr=et.current,me(et,e),me(vt,vt.current),!0}function Dm(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Nv(e,t,Qr),r.__reactInternalMemoizedMergedChildContext=e,we(vt),we(et),me(et,e)):we(vt),me(vt,n)}var yn=null,zl=!1,Lc=!1;function Sv(e){yn===null?yn=[e]:yn.push(e)}function WN(e){zl=!0,Sv(e)}function br(){if(!Lc&&yn!==null){Lc=!0;var e=0,t=ue;try{var n=yn;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yn=null,zl=!1}catch(i){throw yn!==null&&(yn=yn.slice(e+1)),Qx(wh,br),i}finally{ue=t,Lc=!1}}return null}var _s=[],Ps=0,nl=null,rl=0,Dt=[],Lt=0,Yr=null,wn=1,jn="";function Ar(e,t){_s[Ps++]=rl,_s[Ps++]=nl,nl=e,rl=t}function Cv(e,t,n){Dt[Lt++]=wn,Dt[Lt++]=jn,Dt[Lt++]=Yr,Yr=e;var r=wn;e=jn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var a=32-Jt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wn=1<<32-Jt(t)+i|n<<i|r,jn=a+e}else wn=1<<a|n<<i|r,jn=e}function Eh(e){e.return!==null&&(Ar(e,1),Cv(e,1,0))}function kh(e){for(;e===nl;)nl=_s[--Ps],_s[Ps]=null,rl=_s[--Ps],_s[Ps]=null;for(;e===Yr;)Yr=Dt[--Lt],Dt[Lt]=null,jn=Dt[--Lt],Dt[Lt]=null,wn=Dt[--Lt],Dt[Lt]=null}var Tt=null,_t=null,Ne=!1,Qt=null;function _v(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,_t=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yr!==null?{id:wn,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,_t=null,!0):!1;default:return!1}}function Ju(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zu(e){if(Ne){var t=_t;if(t){var n=t;if(!Lm(e,t)){if(Ju(e))throw Error(I(418));t=ar(n.nextSibling);var r=Tt;t&&Lm(e,t)?_v(r,n):(e.flags=e.flags&-4097|2,Ne=!1,Tt=e)}}else{if(Ju(e))throw Error(I(418));e.flags=e.flags&-4097|2,Ne=!1,Tt=e}}}function Mm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function ro(e){if(e!==Tt)return!1;if(!Ne)return Mm(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qu(e.type,e.memoizedProps)),t&&(t=_t)){if(Ju(e))throw Pv(),Error(I(418));for(;t;)_v(e,t),t=ar(t.nextSibling)}if(Mm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Tt?ar(e.stateNode.nextSibling):null;return!0}function Pv(){for(var e=_t;e;)e=ar(e.nextSibling)}function Ks(){_t=Tt=null,Ne=!1}function Ah(e){Qt===null?Qt=[e]:Qt.push(e)}var GN=Fn.ReactCurrentBatchConfig;function pi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function so(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zm(e){var t=e._init;return t(e._payload)}function Tv(e){function t(p,v){if(e){var j=p.deletions;j===null?(p.deletions=[v],p.flags|=16):j.push(v)}}function n(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=ur(p,v),p.index=0,p.sibling=null,p}function a(p,v,j){return p.index=j,e?(j=p.alternate,j!==null?(j=j.index,j<v?(p.flags|=2,v):j):(p.flags|=2,v)):(p.flags|=1048576,v)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,j,b){return v===null||v.tag!==6?(v=Bc(j,p.mode,b),v.return=p,v):(v=i(v,j),v.return=p,v)}function c(p,v,j,b){var S=j.type;return S===ws?d(p,v,j.props.children,b,j.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gn&&zm(S)===v.type)?(b=i(v,j.props),b.ref=pi(p,v,j),b.return=p,b):(b=zo(j.type,j.key,j.props,null,p.mode,b),b.ref=pi(p,v,j),b.return=p,b)}function u(p,v,j,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=Hc(j,p.mode,b),v.return=p,v):(v=i(v,j.children||[]),v.return=p,v)}function d(p,v,j,b,S){return v===null||v.tag!==7?(v=Hr(j,p.mode,b,S),v.return=p,v):(v=i(v,j),v.return=p,v)}function h(p,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Bc(""+v,p.mode,j),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ka:return j=zo(v.type,v.key,v.props,null,p.mode,j),j.ref=pi(p,null,v),j.return=p,j;case ys:return v=Hc(v,p.mode,j),v.return=p,v;case Gn:var b=v._init;return h(p,b(v._payload),j)}if(Ti(v)||ui(v))return v=Hr(v,p.mode,j,null),v.return=p,v;so(p,v)}return null}function f(p,v,j,b){var S=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(p,v,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ka:return j.key===S?c(p,v,j,b):null;case ys:return j.key===S?u(p,v,j,b):null;case Gn:return S=j._init,f(p,v,S(j._payload),b)}if(Ti(j)||ui(j))return S!==null?null:d(p,v,j,b,null);so(p,j)}return null}function g(p,v,j,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(j)||null,l(v,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ka:return p=p.get(b.key===null?j:b.key)||null,c(v,p,b,S);case ys:return p=p.get(b.key===null?j:b.key)||null,u(v,p,b,S);case Gn:var P=b._init;return g(p,v,j,P(b._payload),S)}if(Ti(b)||ui(b))return p=p.get(j)||null,d(v,p,b,S,null);so(v,b)}return null}function w(p,v,j,b){for(var S=null,P=null,_=v,N=v=0,k=null;_!==null&&N<j.length;N++){_.index>N?(k=_,_=null):k=_.sibling;var O=f(p,_,j[N],b);if(O===null){_===null&&(_=k);break}e&&_&&O.alternate===null&&t(p,_),v=a(O,v,N),P===null?S=O:P.sibling=O,P=O,_=k}if(N===j.length)return n(p,_),Ne&&Ar(p,N),S;if(_===null){for(;N<j.length;N++)_=h(p,j[N],b),_!==null&&(v=a(_,v,N),P===null?S=_:P.sibling=_,P=_);return Ne&&Ar(p,N),S}for(_=r(p,_);N<j.length;N++)k=g(_,p,N,j[N],b),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?N:k.key),v=a(k,v,N),P===null?S=k:P.sibling=k,P=k);return e&&_.forEach(function(H){return t(p,H)}),Ne&&Ar(p,N),S}function x(p,v,j,b){var S=ui(j);if(typeof S!="function")throw Error(I(150));if(j=S.call(j),j==null)throw Error(I(151));for(var P=S=null,_=v,N=v=0,k=null,O=j.next();_!==null&&!O.done;N++,O=j.next()){_.index>N?(k=_,_=null):k=_.sibling;var H=f(p,_,O.value,b);if(H===null){_===null&&(_=k);break}e&&_&&H.alternate===null&&t(p,_),v=a(H,v,N),P===null?S=H:P.sibling=H,P=H,_=k}if(O.done)return n(p,_),Ne&&Ar(p,N),S;if(_===null){for(;!O.done;N++,O=j.next())O=h(p,O.value,b),O!==null&&(v=a(O,v,N),P===null?S=O:P.sibling=O,P=O);return Ne&&Ar(p,N),S}for(_=r(p,_);!O.done;N++,O=j.next())O=g(_,p,N,O.value,b),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?N:O.key),v=a(O,v,N),P===null?S=O:P.sibling=O,P=O);return e&&_.forEach(function(D){return t(p,D)}),Ne&&Ar(p,N),S}function y(p,v,j,b){if(typeof j=="object"&&j!==null&&j.type===ws&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ka:e:{for(var S=j.key,P=v;P!==null;){if(P.key===S){if(S=j.type,S===ws){if(P.tag===7){n(p,P.sibling),v=i(P,j.props.children),v.return=p,p=v;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gn&&zm(S)===P.type){n(p,P.sibling),v=i(P,j.props),v.ref=pi(p,P,j),v.return=p,p=v;break e}n(p,P);break}else t(p,P);P=P.sibling}j.type===ws?(v=Hr(j.props.children,p.mode,b,j.key),v.return=p,p=v):(b=zo(j.type,j.key,j.props,null,p.mode,b),b.ref=pi(p,v,j),b.return=p,p=b)}return o(p);case ys:e:{for(P=j.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){n(p,v.sibling),v=i(v,j.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else t(p,v);v=v.sibling}v=Hc(j,p.mode,b),v.return=p,p=v}return o(p);case Gn:return P=j._init,y(p,v,P(j._payload),b)}if(Ti(j))return w(p,v,j,b);if(ui(j))return x(p,v,j,b);so(p,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(n(p,v.sibling),v=i(v,j),v.return=p,p=v):(n(p,v),v=Bc(j,p.mode,b),v.return=p,p=v),o(p)):n(p,v)}return y}var qs=Tv(!0),Ev=Tv(!1),sl=jr(null),il=null,Ts=null,Rh=null;function Ih(){Rh=Ts=il=null}function Oh(e){var t=sl.current;we(sl),e._currentValue=t}function ed(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $s(e,t){il=e,Rh=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(Rh!==e)if(e={context:e,memoizedValue:t,next:null},Ts===null){if(il===null)throw Error(I(308));Ts=e,il.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var Fr=null;function Dh(e){Fr===null?Fr=[e]:Fr.push(e)}function kv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Dh(t)):(n.next=i.next,i.next=n),t.interleaved=n,Dn(e,r)}function Dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kn=!1;function Lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Av(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Dn(e,n)}return i=r.interleaved,i===null?(t.next=t,Dh(r)):(t.next=i.next,i.next=t),r.interleaved=t,Dn(e,n)}function Ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jh(e,n)}}function Fm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function al(e,t,n,r){var i=e.updateQueue;Kn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(f=t,g=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(g,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(g,h,f):w,f==null)break e;h=ke({},h,f);break e;case 2:Kn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Jr|=o,e.lanes=o,e.memoizedState=h}}function $m(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Ra={},cn=jr(Ra),la=jr(Ra),ca=jr(Ra);function $r(e){if(e===Ra)throw Error(I(174));return e}function Mh(e,t){switch(me(ca,t),me(la,e),me(cn,Ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ou(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ou(t,e)}we(cn),me(cn,t)}function Qs(){we(cn),we(la),we(ca)}function Rv(e){$r(ca.current);var t=$r(cn.current),n=Ou(t,e.type);t!==n&&(me(la,e),me(cn,n))}function zh(e){la.current===e&&(we(cn),we(la))}var Ce=jr(0);function ol(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mc=[];function Fh(){for(var e=0;e<Mc.length;e++)Mc[e]._workInProgressVersionPrimary=null;Mc.length=0}var Io=Fn.ReactCurrentDispatcher,zc=Fn.ReactCurrentBatchConfig,Xr=0,Te=null,Me=null,Ue=null,ll=!1,zi=!1,ua=0,KN=0;function qe(){throw Error(I(321))}function $h(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Uh(e,t,n,r,i,a){if(Xr=a,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Io.current=e===null||e.memoizedState===null?XN:JN,e=n(r,i),zi){a=0;do{if(zi=!1,ua=0,25<=a)throw Error(I(301));a+=1,Ue=Me=null,t.updateQueue=null,Io.current=ZN,e=n(r,i)}while(zi)}if(Io.current=cl,t=Me!==null&&Me.next!==null,Xr=0,Ue=Me=Te=null,ll=!1,t)throw Error(I(300));return e}function Vh(){var e=ua!==0;return ua=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Vt(){if(Me===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ue===null?Te.memoizedState:Ue.next;if(t!==null)Ue=t,Me=e;else{if(e===null)throw Error(I(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function da(e,t){return typeof t=="function"?t(e):t}function Fc(e){var t=Vt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Me,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Xr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Te.lanes|=d,Jr|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,en(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Te.lanes|=a,Jr|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $c(e){var t=Vt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);en(a,t.memoizedState)||(xt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Iv(){}function Ov(e,t){var n=Te,r=Vt(),i=t(),a=!en(r.memoizedState,i);if(a&&(r.memoizedState=i,xt=!0),r=r.queue,Bh(Mv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ha(9,Lv.bind(null,n,r,i,t),void 0,null),Ve===null)throw Error(I(349));Xr&30||Dv(n,t,i)}return i}function Dv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lv(e,t,n,r){t.value=n,t.getSnapshot=r,zv(t)&&Fv(e)}function Mv(e,t,n){return n(function(){zv(t)&&Fv(e)})}function zv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function Fv(e){var t=Dn(e,1);t!==null&&Zt(t,e,1,-1)}function Um(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t.queue=e,e=e.dispatch=YN.bind(null,Te,e),[t.memoizedState,e]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $v(){return Vt().memoizedState}function Oo(e,t,n,r){var i=sn();Te.flags|=e,i.memoizedState=ha(1|t,n,void 0,r===void 0?null:r)}function Fl(e,t,n,r){var i=Vt();r=r===void 0?null:r;var a=void 0;if(Me!==null){var o=Me.memoizedState;if(a=o.destroy,r!==null&&$h(r,o.deps)){i.memoizedState=ha(t,n,a,r);return}}Te.flags|=e,i.memoizedState=ha(1|t,n,a,r)}function Vm(e,t){return Oo(8390656,8,e,t)}function Bh(e,t){return Fl(2048,8,e,t)}function Uv(e,t){return Fl(4,2,e,t)}function Vv(e,t){return Fl(4,4,e,t)}function Bv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hv(e,t,n){return n=n!=null?n.concat([e]):null,Fl(4,4,Bv.bind(null,t,e),n)}function Hh(){}function Wv(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$h(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gv(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$h(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kv(e,t,n){return Xr&21?(en(n,t)||(n=Jx(),Te.lanes|=n,Jr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function qN(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=zc.transition;zc.transition={};try{e(!1),t()}finally{ue=n,zc.transition=r}}function qv(){return Vt().memoizedState}function QN(e,t,n){var r=cr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qv(e))Yv(t,n);else if(n=kv(e,t,n,r),n!==null){var i=it();Zt(n,e,r,i),Xv(n,t,r)}}function YN(e,t,n){var r=cr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qv(e))Yv(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,en(l,o)){var c=t.interleaved;c===null?(i.next=i,Dh(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=kv(e,t,i,r),n!==null&&(i=it(),Zt(n,e,r,i),Xv(n,t,r))}}function Qv(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Yv(e,t){zi=ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jh(e,n)}}var cl={readContext:Ut,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},XN={readContext:Ut,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Vm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oo(4194308,4,Bv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=QN.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:Um,useDebugValue:Hh,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=Um(!1),t=e[0];return e=qN.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,i=sn();if(Ne){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Ve===null)throw Error(I(349));Xr&30||Dv(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Vm(Mv.bind(null,r,a,e),[e]),r.flags|=2048,ha(9,Lv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=sn(),t=Ve.identifierPrefix;if(Ne){var n=jn,r=wn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ua++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=KN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JN={readContext:Ut,useCallback:Wv,useContext:Ut,useEffect:Bh,useImperativeHandle:Hv,useInsertionEffect:Uv,useLayoutEffect:Vv,useMemo:Gv,useReducer:Fc,useRef:$v,useState:function(){return Fc(da)},useDebugValue:Hh,useDeferredValue:function(e){var t=Vt();return Kv(t,Me.memoizedState,e)},useTransition:function(){var e=Fc(da)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Iv,useSyncExternalStore:Ov,useId:qv,unstable_isNewReconciler:!1},ZN={readContext:Ut,useCallback:Wv,useContext:Ut,useEffect:Bh,useImperativeHandle:Hv,useInsertionEffect:Uv,useLayoutEffect:Vv,useMemo:Gv,useReducer:$c,useRef:$v,useState:function(){return $c(da)},useDebugValue:Hh,useDeferredValue:function(e){var t=Vt();return Me===null?t.memoizedState=e:Kv(t,Me.memoizedState,e)},useTransition:function(){var e=$c(da)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Iv,useSyncExternalStore:Ov,useId:qv,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function td(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?is(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),i=cr(e),a=kn(r,i);a.payload=t,n!=null&&(a.callback=n),t=or(e,a,i),t!==null&&(Zt(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),i=cr(e),a=kn(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=or(e,a,i),t!==null&&(Zt(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=cr(e),i=kn(n,r);i.tag=2,t!=null&&(i.callback=t),t=or(e,i,r),t!==null&&(Zt(t,e,r,n),Ro(t,e,r))}};function Bm(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!sa(n,r)||!sa(i,a):!0}function Jv(e,t,n){var r=!1,i=gr,a=t.contextType;return typeof a=="object"&&a!==null?a=Ut(a):(i=yt(t)?Qr:et.current,r=t.contextTypes,a=(r=r!=null)?Gs(e,i):gr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Hm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function nd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lh(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ut(a):(a=yt(t)?Qr:et.current,i.context=Gs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(td(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$l.enqueueReplaceState(i,i.state,null),al(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ys(e,t){try{var n="",r=t;do n+=P1(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Uc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eS=typeof WeakMap=="function"?WeakMap:Map;function Zv(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){dl||(dl=!0,fd=r),rd(e,t)},n}function e0(e,t,n){n=kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){rd(e,t),typeof r!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Wm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=mS.bind(null,e,t,n),t.then(e,e))}function Gm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Km(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,or(n,t,1))),n.lanes|=1),e)}var tS=Fn.ReactCurrentOwner,xt=!1;function st(e,t,n,r){t.child=e===null?Ev(t,null,n,r):qs(t,e.child,n,r)}function qm(e,t,n,r,i){n=n.render;var a=t.ref;return $s(t,i),r=Uh(e,t,n,r,a,i),n=Vh(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(Ne&&n&&Eh(t),t.flags|=1,st(e,t,r,i),t.child)}function Qm(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Jh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,t0(e,t,a,r,i)):(e=zo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(o,r)&&e.ref===t.ref)return Ln(e,t,i)}return t.flags|=1,e=ur(a,r),e.ref=t.ref,e.return=t,t.child=e}function t0(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(sa(a,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,Ln(e,t,i)}return sd(e,t,n,r,i)}function n0(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(ks,St),St|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(ks,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,me(ks,St),St|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,me(ks,St),St|=r;return st(e,t,i,n),t.child}function r0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sd(e,t,n,r,i){var a=yt(n)?Qr:et.current;return a=Gs(t,a),$s(t,i),n=Uh(e,t,n,r,a,i),r=Vh(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(Ne&&r&&Eh(t),t.flags|=1,st(e,t,n,i),t.child)}function Ym(e,t,n,r,i){if(yt(n)){var a=!0;tl(t)}else a=!1;if($s(t,i),t.stateNode===null)Do(e,t),Jv(t,n,r),nd(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ut(u):(u=yt(n)?Qr:et.current,u=Gs(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Hm(t,o,r,u),Kn=!1;var f=t.memoizedState;o.state=f,al(t,r,o,i),c=t.memoizedState,l!==r||f!==c||vt.current||Kn?(typeof d=="function"&&(td(t,n,d,r),c=t.memoizedState),(l=Kn||Bm(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Av(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=yt(n)?Qr:et.current,c=Gs(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Hm(t,o,r,c),Kn=!1,f=t.memoizedState,o.state=f,al(t,r,o,i);var w=t.memoizedState;l!==h||f!==w||vt.current||Kn?(typeof g=="function"&&(td(t,n,g,r),w=t.memoizedState),(u=Kn||Bm(t,n,u,r,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return id(e,t,n,r,a,i)}function id(e,t,n,r,i,a){r0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Dm(t,n,!1),Ln(e,t,a);r=t.stateNode,tS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=qs(t,e.child,null,a),t.child=qs(t,null,l,a)):st(e,t,l,a),t.memoizedState=r.state,i&&Dm(t,n,!0),t.child}function s0(e){var t=e.stateNode;t.pendingContext?Om(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Om(e,t.context,!1),Mh(e,t.containerInfo)}function Xm(e,t,n,r,i){return Ks(),Ah(i),t.flags|=256,st(e,t,n,r),t.child}var ad={dehydrated:null,treeContext:null,retryLane:0};function od(e){return{baseLanes:e,cachePool:null,transitions:null}}function i0(e,t,n){var r=t.pendingProps,i=Ce.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),me(Ce,i&1),e===null)return Zu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Bl(o,r,0,null),e=Hr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=od(n),t.memoizedState=ad,e):Wh(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return nS(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ur(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ur(l,a):(a=Hr(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?od(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=ad,r}return a=e.child,e=a.sibling,r=ur(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wh(e,t){return t=Bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function io(e,t,n,r){return r!==null&&Ah(r),qs(t,e.child,null,n),e=Wh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nS(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Uc(Error(I(422))),io(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bl({mode:"visible",children:r.children},i,0,null),a=Hr(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&qs(t,e.child,null,o),t.child.memoizedState=od(o),t.memoizedState=ad,a);if(!(t.mode&1))return io(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(I(419)),r=Uc(a,r,void 0),io(e,t,o,r)}if(l=(o&e.childLanes)!==0,xt||l){if(r=Ve,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Dn(e,i),Zt(r,e,i,-1))}return Xh(),r=Uc(Error(I(421))),io(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pS.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,_t=ar(i.nextSibling),Tt=t,Ne=!0,Qt=null,e!==null&&(Dt[Lt++]=wn,Dt[Lt++]=jn,Dt[Lt++]=Yr,wn=e.id,jn=e.overflow,Yr=t),t=Wh(t,r.children),t.flags|=4096,t)}function Jm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ed(e.return,t,n)}function Vc(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function a0(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(st(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jm(e,n,t);else if(e.tag===19)Jm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ol(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vc(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ol(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vc(t,!0,n,null,a);break;case"together":Vc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Do(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=ur(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ur(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rS(e,t,n){switch(t.tag){case 3:s0(t),Ks();break;case 5:Rv(t);break;case 1:yt(t.type)&&tl(t);break;case 4:Mh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;me(sl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?i0(e,t,n):(me(Ce,Ce.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);me(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return a0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,n0(e,t,n)}return Ln(e,t,n)}var o0,ld,l0,c0;o0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ld=function(){};l0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$r(cn.current);var a=null;switch(n){case"input":i=ku(e,i),r=ku(e,r),a=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),a=[];break;case"textarea":i=Iu(e,i),r=Iu(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zo)}Du(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};c0=function(e,t,n,r){n!==r&&(t.flags|=4)};function gi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sS(e,t,n){var r=t.pendingProps;switch(kh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return yt(t.type)&&el(),Qe(t),null;case 3:return r=t.stateNode,Qs(),we(vt),we(et),Fh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(gd(Qt),Qt=null))),ld(e,t),Qe(t),null;case 5:zh(t);var i=$r(ca.current);if(n=t.type,e!==null&&t.stateNode!=null)l0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Qe(t),null}if(e=$r(cn.current),ro(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[an]=t,r[oa]=a,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<ki.length;i++)ve(ki[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":om(r,a),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ve("invalid",r);break;case"textarea":cm(r,a),ve("invalid",r)}Du(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&no(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&no(r.textContent,l,e),i=["children",""+l]):Xi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":qa(r),lm(r,a,!0);break;case"textarea":qa(r),um(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Zo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[an]=t,e[oa]=r,o0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),i=r;break;case"iframe":case"object":case"embed":ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<ki.length;i++)ve(ki[i],e);i=r;break;case"source":ve("error",e),i=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=r;break;case"details":ve("toggle",e),i=r;break;case"input":om(e,r),i=ku(e,r),ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":cm(e,r),i=Iu(e,r),ve("invalid",e);break;default:i=r}Du(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?$x(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zx(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ji(e,c):typeof c=="number"&&Ji(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ve("scroll",e):c!=null&&ph(e,a,c,o))}switch(n){case"input":qa(e),lm(e,r,!1);break;case"textarea":qa(e),um(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ls(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)c0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=$r(ca.current),$r(cn.current),ro(t)){if(r=t.stateNode,n=t.memoizedProps,r[an]=t,(a=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:no(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&no(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=t,t.stateNode=r}return Qe(t),null;case 13:if(we(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&_t!==null&&t.mode&1&&!(t.flags&128))Pv(),Ks(),t.flags|=98560,a=!1;else if(a=ro(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[an]=t}else Ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),a=!1}else Qt!==null&&(gd(Qt),Qt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?ze===0&&(ze=3):Xh())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Qs(),ld(e,t),e===null&&ia(t.stateNode.containerInfo),Qe(t),null;case 10:return Oh(t.type._context),Qe(t),null;case 17:return yt(t.type)&&el(),Qe(t),null;case 19:if(we(Ce),a=t.memoizedState,a===null)return Qe(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)gi(a,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ol(e),o!==null){for(t.flags|=128,gi(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(Ce,Ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ie()>Xs&&(t.flags|=128,r=!0,gi(a,!1),t.lanes=4194304)}else{if(!r)if(e=ol(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ne)return Qe(t),null}else 2*Ie()-a.renderingStartTime>Xs&&n!==1073741824&&(t.flags|=128,r=!0,gi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ie(),t.sibling=null,n=Ce.current,me(Ce,r?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return Yh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?St&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function iS(e,t){switch(kh(t),t.tag){case 1:return yt(t.type)&&el(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qs(),we(vt),we(et),Fh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zh(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return Qs(),null;case 10:return Oh(t.type._context),null;case 22:case 23:return Yh(),null;case 24:return null;default:return null}}var ao=!1,Xe=!1,aS=typeof WeakSet=="function"?WeakSet:Set,U=null;function Es(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function cd(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var Zm=!1;function oS(e,t){if(Gu=Yo,e=mv(),Th(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},Yo=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,y=w.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Gt(t.type,x),y);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){Ae(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return w=Zm,Zm=!1,w}function Fi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&cd(t,n,a)}i=i.next}while(i!==r)}}function Ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ud(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function u0(e){var t=e.alternate;t!==null&&(e.alternate=null,u0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[oa],delete t[Yu],delete t[BN],delete t[HN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d0(e){return e.tag===5||e.tag===3||e.tag===4}function ep(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zo));else if(r!==4&&(e=e.child,e!==null))for(dd(e,t,n),e=e.sibling;e!==null;)dd(e,t,n),e=e.sibling}function hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}var He=null,Kt=!1;function Un(e,t,n){for(n=n.child;n!==null;)h0(e,t,n),n=n.sibling}function h0(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Il,n)}catch{}switch(n.tag){case 5:Xe||Es(n,t);case 6:var r=He,i=Kt;He=null,Un(e,t,n),He=r,Kt=i,He!==null&&(Kt?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Kt?(e=He,n=n.stateNode,e.nodeType===8?Dc(e.parentNode,n):e.nodeType===1&&Dc(e,n),na(e)):Dc(He,n.stateNode));break;case 4:r=He,i=Kt,He=n.stateNode.containerInfo,Kt=!0,Un(e,t,n),He=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&cd(n,t,o),i=i.next}while(i!==r)}Un(e,t,n);break;case 1:if(!Xe&&(Es(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ae(n,t,l)}Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,Un(e,t,n),Xe=r):Un(e,t,n);break;default:Un(e,t,n)}}function tp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aS),t.forEach(function(r){var i=gS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Kt=!1;break e;case 3:He=l.stateNode.containerInfo,Kt=!0;break e;case 4:He=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(He===null)throw Error(I(160));h0(a,o,i),He=null,Kt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ae(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f0(t,e),t=t.sibling}function f0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),rn(e),r&4){try{Fi(3,e,e.return),Ul(3,e)}catch(x){Ae(e,e.return,x)}try{Fi(5,e,e.return)}catch(x){Ae(e,e.return,x)}}break;case 1:Ht(t,e),rn(e),r&512&&n!==null&&Es(n,n.return);break;case 5:if(Ht(t,e),rn(e),r&512&&n!==null&&Es(n,n.return),e.flags&32){var i=e.stateNode;try{Ji(i,"")}catch(x){Ae(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Dx(i,a),Lu(l,o);var u=Lu(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?$x(i,h):d==="dangerouslySetInnerHTML"?zx(i,h):d==="children"?Ji(i,h):ph(i,d,h,u)}switch(l){case"input":Au(i,a);break;case"textarea":Lx(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Ls(i,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ls(i,!!a.multiple,a.defaultValue,!0):Ls(i,!!a.multiple,a.multiple?[]:"",!1))}i[oa]=a}catch(x){Ae(e,e.return,x)}}break;case 6:if(Ht(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){Ae(e,e.return,x)}}break;case 3:if(Ht(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{na(t.containerInfo)}catch(x){Ae(e,e.return,x)}break;case 4:Ht(t,e),rn(e);break;case 13:Ht(t,e),rn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(qh=Ie())),r&4&&tp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(u=Xe)||d,Ht(t,e),Xe=u):Ht(t,e),rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(h=U=d;U!==null;){switch(f=U,g=f.child,f.tag){case 0:case 11:case 14:case 15:Fi(4,f,f.return);break;case 1:Es(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ae(r,n,x)}}break;case 5:Es(f,f.return);break;case 22:if(f.memoizedState!==null){rp(h);continue}}g!==null?(g.return=f,U=g):rp(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fx("display",o))}catch(x){Ae(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ae(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(t,e),rn(e),r&4&&tp(e);break;case 21:break;default:Ht(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(d0(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ji(i,""),r.flags&=-33);var a=ep(e);hd(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ep(e);dd(e,l,o);break;default:throw Error(I(161))}}catch(c){Ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lS(e,t,n){U=e,m0(e)}function m0(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var i=U,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ao;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Xe;l=ao;var u=Xe;if(ao=o,(Xe=c)&&!u)for(U=i;U!==null;)o=U,c=o.child,o.tag===22&&o.memoizedState!==null?sp(i):c!==null?(c.return=o,U=c):sp(i);for(;a!==null;)U=a,m0(a),a=a.sibling;U=i,ao=l,Xe=u}np(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,U=a):np(e)}}function np(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||Ul(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&$m(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$m(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&na(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Xe||t.flags&512&&ud(t)}catch(f){Ae(t,t.return,f)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function rp(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function sp(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ul(4,t)}catch(c){Ae(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Ae(t,i,c)}}var a=t.return;try{ud(t)}catch(c){Ae(t,a,c)}break;case 5:var o=t.return;try{ud(t)}catch(c){Ae(t,o,c)}}}catch(c){Ae(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var cS=Math.ceil,ul=Fn.ReactCurrentDispatcher,Gh=Fn.ReactCurrentOwner,$t=Fn.ReactCurrentBatchConfig,se=0,Ve=null,Le=null,Ge=0,St=0,ks=jr(0),ze=0,fa=null,Jr=0,Vl=0,Kh=0,$i=null,ht=null,qh=0,Xs=1/0,gn=null,dl=!1,fd=null,lr=null,oo=!1,Jn=null,hl=0,Ui=0,md=null,Lo=-1,Mo=0;function it(){return se&6?Ie():Lo!==-1?Lo:Lo=Ie()}function cr(e){return e.mode&1?se&2&&Ge!==0?Ge&-Ge:GN.transition!==null?(Mo===0&&(Mo=Jx()),Mo):(e=ue,e!==0||(e=window.event,e=e===void 0?16:iv(e.type)),e):1}function Zt(e,t,n,r){if(50<Ui)throw Ui=0,md=null,Error(I(185));Ea(e,n,r),(!(se&2)||e!==Ve)&&(e===Ve&&(!(se&2)&&(Vl|=n),ze===4&&Yn(e,Ge)),wt(e,r),n===1&&se===0&&!(t.mode&1)&&(Xs=Ie()+500,zl&&br()))}function wt(e,t){var n=e.callbackNode;G1(e,t);var r=Qo(e,e===Ve?Ge:0);if(r===0)n!==null&&fm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fm(n),t===1)e.tag===0?WN(ip.bind(null,e)):Sv(ip.bind(null,e)),UN(function(){!(se&6)&&br()}),n=null;else{switch(Zx(r)){case 1:n=wh;break;case 4:n=Yx;break;case 16:n=qo;break;case 536870912:n=Xx;break;default:n=qo}n=b0(n,p0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function p0(e,t){if(Lo=-1,Mo=0,se&6)throw Error(I(327));var n=e.callbackNode;if(Us()&&e.callbackNode!==n)return null;var r=Qo(e,e===Ve?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fl(e,r);else{t=r;var i=se;se|=2;var a=x0();(Ve!==e||Ge!==t)&&(gn=null,Xs=Ie()+500,Br(e,t));do try{hS();break}catch(l){g0(e,l)}while(1);Ih(),ul.current=a,se=i,Le!==null?t=0:(Ve=null,Ge=0,t=ze)}if(t!==0){if(t===2&&(i=Uu(e),i!==0&&(r=i,t=pd(e,i))),t===1)throw n=fa,Br(e,0),Yn(e,r),wt(e,Ie()),n;if(t===6)Yn(e,r);else{if(i=e.current.alternate,!(r&30)&&!uS(i)&&(t=fl(e,r),t===2&&(a=Uu(e),a!==0&&(r=a,t=pd(e,a))),t===1))throw n=fa,Br(e,0),Yn(e,r),wt(e,Ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:Rr(e,ht,gn);break;case 3:if(Yn(e,r),(r&130023424)===r&&(t=qh+500-Ie(),10<t)){if(Qo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qu(Rr.bind(null,e,ht,gn),t);break}Rr(e,ht,gn);break;case 4:if(Yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Jt(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cS(r/1960))-r,10<r){e.timeoutHandle=Qu(Rr.bind(null,e,ht,gn),r);break}Rr(e,ht,gn);break;case 5:Rr(e,ht,gn);break;default:throw Error(I(329))}}}return wt(e,Ie()),e.callbackNode===n?p0.bind(null,e):null}function pd(e,t){var n=$i;return e.current.memoizedState.isDehydrated&&(Br(e,t).flags|=256),e=fl(e,t),e!==2&&(t=ht,ht=n,t!==null&&gd(t)),e}function gd(e){ht===null?ht=e:ht.push.apply(ht,e)}function uS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!en(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~Kh,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),r=1<<n;e[n]=-1,t&=~r}}function ip(e){if(se&6)throw Error(I(327));Us();var t=Qo(e,0);if(!(t&1))return wt(e,Ie()),null;var n=fl(e,t);if(e.tag!==0&&n===2){var r=Uu(e);r!==0&&(t=r,n=pd(e,r))}if(n===1)throw n=fa,Br(e,0),Yn(e,t),wt(e,Ie()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rr(e,ht,gn),wt(e,Ie()),null}function Qh(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Xs=Ie()+500,zl&&br())}}function Zr(e){Jn!==null&&Jn.tag===0&&!(se&6)&&Us();var t=se;se|=1;var n=$t.transition,r=ue;try{if($t.transition=null,ue=1,e)return e()}finally{ue=r,$t.transition=n,se=t,!(se&6)&&br()}}function Yh(){St=ks.current,we(ks)}function Br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$N(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(kh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&el();break;case 3:Qs(),we(vt),we(et),Fh();break;case 5:zh(r);break;case 4:Qs();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:Oh(r.type._context);break;case 22:case 23:Yh()}n=n.return}if(Ve=e,Le=e=ur(e.current,null),Ge=St=t,ze=0,fa=null,Kh=Vl=Jr=0,ht=$i=null,Fr!==null){for(t=0;t<Fr.length;t++)if(n=Fr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Fr=null}return e}function g0(e,t){do{var n=Le;try{if(Ih(),Io.current=cl,ll){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ll=!1}if(Xr=0,Ue=Me=Te=null,zi=!1,ua=0,Gh.current=null,n===null||n.return===null){ze=1,fa=t,Le=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Gm(o);if(g!==null){g.flags&=-257,Km(g,o,l,a,t),g.mode&1&&Wm(a,u,t),t=g,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Wm(a,u,t),Xh();break e}c=Error(I(426))}}else if(Ne&&l.mode&1){var y=Gm(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Km(y,o,l,a,t),Ah(Ys(c,l));break e}}a=c=Ys(c,l),ze!==4&&(ze=2),$i===null?$i=[a]:$i.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Zv(a,c,t);Fm(a,p);break e;case 1:l=c;var v=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(lr===null||!lr.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=e0(a,l,t);Fm(a,b);break e}}a=a.return}while(a!==null)}y0(n)}catch(S){t=S,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function x0(){var e=ul.current;return ul.current=cl,e===null?cl:e}function Xh(){(ze===0||ze===3||ze===2)&&(ze=4),Ve===null||!(Jr&268435455)&&!(Vl&268435455)||Yn(Ve,Ge)}function fl(e,t){var n=se;se|=2;var r=x0();(Ve!==e||Ge!==t)&&(gn=null,Br(e,t));do try{dS();break}catch(i){g0(e,i)}while(1);if(Ih(),se=n,ul.current=r,Le!==null)throw Error(I(261));return Ve=null,Ge=0,ze}function dS(){for(;Le!==null;)v0(Le)}function hS(){for(;Le!==null&&!M1();)v0(Le)}function v0(e){var t=j0(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?y0(e):Le=t,Gh.current=null}function y0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=iS(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Le=null;return}}else if(n=sS(n,t,St),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ze===0&&(ze=5)}function Rr(e,t,n){var r=ue,i=$t.transition;try{$t.transition=null,ue=1,fS(e,t,n,r)}finally{$t.transition=i,ue=r}return null}function fS(e,t,n,r){do Us();while(Jn!==null);if(se&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(K1(e,a),e===Ve&&(Le=Ve=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oo||(oo=!0,b0(qo,function(){return Us(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$t.transition,$t.transition=null;var o=ue;ue=1;var l=se;se|=4,Gh.current=null,oS(e,n),f0(n,e),IN(Ku),Yo=!!Gu,Ku=Gu=null,e.current=n,lS(n),z1(),se=l,ue=o,$t.transition=a}else e.current=n;if(oo&&(oo=!1,Jn=e,hl=i),a=e.pendingLanes,a===0&&(lr=null),U1(n.stateNode),wt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dl)throw dl=!1,e=fd,fd=null,e;return hl&1&&e.tag!==0&&Us(),a=e.pendingLanes,a&1?e===md?Ui++:(Ui=0,md=e):Ui=0,br(),null}function Us(){if(Jn!==null){var e=Zx(hl),t=$t.transition,n=ue;try{if($t.transition=null,ue=16>e?16:e,Jn===null)var r=!1;else{if(e=Jn,Jn=null,hl=0,se&6)throw Error(I(331));var i=se;for(se|=4,U=e.current;U!==null;){var a=U,o=a.child;if(U.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Fi(8,d,a)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var f=d.sibling,g=d.return;if(u0(d),d===u){U=null;break}if(f!==null){f.return=g,U=f;break}U=g}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}U=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,U=o;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fi(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,U=p;break e}U=a.return}}var v=e.current;for(U=v;U!==null;){o=U;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,U=j;else e:for(o=v;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ul(9,l)}}catch(S){Ae(l,l.return,S)}if(l===o){U=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,U=b;break e}U=l.return}}if(se=i,br(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Il,e)}catch{}r=!0}return r}finally{ue=n,$t.transition=t}}return!1}function ap(e,t,n){t=Ys(n,t),t=Zv(e,t,1),e=or(e,t,1),t=it(),e!==null&&(Ea(e,1,t),wt(e,t))}function Ae(e,t,n){if(e.tag===3)ap(e,e,n);else for(;t!==null;){if(t.tag===3){ap(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lr===null||!lr.has(r))){e=Ys(n,e),e=e0(t,e,1),t=or(t,e,1),e=it(),t!==null&&(Ea(t,1,e),wt(t,e));break}}t=t.return}}function mS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ge&n)===n&&(ze===4||ze===3&&(Ge&130023424)===Ge&&500>Ie()-qh?Br(e,0):Kh|=n),wt(e,t)}function w0(e,t){t===0&&(e.mode&1?(t=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):t=1);var n=it();e=Dn(e,t),e!==null&&(Ea(e,t,n),wt(e,n))}function pS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),w0(e,n)}function gS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),w0(e,n)}var j0;j0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,rS(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Ne&&t.flags&1048576&&Cv(t,rl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Do(e,t),e=t.pendingProps;var i=Gs(t,et.current);$s(t,n),i=Uh(null,t,r,e,i,n);var a=Vh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(r)?(a=!0,tl(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lh(t),i.updater=$l,t.stateNode=i,i._reactInternals=t,nd(t,r,e,n),t=id(null,t,r,!0,a,n)):(t.tag=0,Ne&&a&&Eh(t),st(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Do(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=vS(r),e=Gt(r,e),i){case 0:t=sd(null,t,r,e,n);break e;case 1:t=Ym(null,t,r,e,n);break e;case 11:t=qm(null,t,r,e,n);break e;case 14:t=Qm(null,t,r,Gt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),sd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Ym(e,t,r,i,n);case 3:e:{if(s0(t),e===null)throw Error(I(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Av(e,t),al(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ys(Error(I(423)),t),t=Xm(e,t,r,n,i);break e}else if(r!==i){i=Ys(Error(I(424)),t),t=Xm(e,t,r,n,i);break e}else for(_t=ar(t.stateNode.containerInfo.firstChild),Tt=t,Ne=!0,Qt=null,n=Ev(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ks(),r===i){t=Ln(e,t,n);break e}st(e,t,r,n)}t=t.child}return t;case 5:return Rv(t),e===null&&Zu(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,qu(r,i)?o=null:a!==null&&qu(r,a)&&(t.flags|=32),r0(e,t),st(e,t,o,n),t.child;case 6:return e===null&&Zu(t),null;case 13:return i0(e,t,n);case 4:return Mh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qs(t,null,r,n):st(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),qm(e,t,r,i,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,me(sl,r._currentValue),r._currentValue=o,a!==null)if(en(a.value,o)){if(a.children===i.children&&!vt.current){t=Ln(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=kn(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ed(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ed(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}st(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$s(t,n),i=Ut(i),r=r(i),t.flags|=1,st(e,t,r,n),t.child;case 14:return r=t.type,i=Gt(r,t.pendingProps),i=Gt(r.type,i),Qm(e,t,r,i,n);case 15:return t0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Do(e,t),t.tag=1,yt(r)?(e=!0,tl(t)):e=!1,$s(t,n),Jv(t,r,i),nd(t,r,i,n),id(null,t,r,!0,e,n);case 19:return a0(e,t,n);case 22:return n0(e,t,n)}throw Error(I(156,t.tag))};function b0(e,t){return Qx(e,t)}function xS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new xS(e,t,n,r)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vS(e){if(typeof e=="function")return Jh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xh)return 11;if(e===vh)return 14}return 2}function ur(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zo(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")Jh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ws:return Hr(n.children,i,a,t);case gh:o=8,i|=8;break;case _u:return e=Mt(12,n,t,i|2),e.elementType=_u,e.lanes=a,e;case Pu:return e=Mt(13,n,t,i),e.elementType=Pu,e.lanes=a,e;case Tu:return e=Mt(19,n,t,i),e.elementType=Tu,e.lanes=a,e;case Rx:return Bl(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kx:o=10;break e;case Ax:o=9;break e;case xh:o=11;break e;case vh:o=14;break e;case Gn:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Mt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function Bl(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=Rx,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function Hc(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sc(0),this.expirationTimes=Sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zh(e,t,n,r,i,a,o,l,c){return e=new yS(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Mt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(a),e}function wS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function N0(e){if(!e)return gr;e=e._reactInternals;e:{if(is(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(yt(n))return Nv(e,n,t)}return t}function S0(e,t,n,r,i,a,o,l,c){return e=Zh(n,r,!0,e,i,a,o,l,c),e.context=N0(null),n=e.current,r=it(),i=cr(n),a=kn(r,i),a.callback=t??null,or(n,a,i),e.current.lanes=i,Ea(e,i,r),wt(e,r),e}function Hl(e,t,n,r){var i=t.current,a=it(),o=cr(i);return n=N0(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=or(i,t,o),e!==null&&(Zt(e,i,o,a),Ro(e,i,o)),o}function ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ef(e,t){op(e,t),(e=e.alternate)&&op(e,t)}function jS(){return null}var C0=typeof reportError=="function"?reportError:function(e){console.error(e)};function tf(e){this._internalRoot=e}Wl.prototype.render=tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Hl(e,t,null,null)};Wl.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zr(function(){Hl(null,e,null,null)}),t[On]=null}};function Wl(e){this._internalRoot=e}Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=nv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qn.length&&t!==0&&t<Qn[n].priority;n++);Qn.splice(n,0,e),n===0&&sv(e)}};function nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lp(){}function bS(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=ml(o);a.call(u)}}var o=S0(t,r,e,0,null,!1,!1,"",lp);return e._reactRootContainer=o,e[On]=o.current,ia(e.nodeType===8?e.parentNode:e),Zr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ml(c);l.call(u)}}var c=Zh(e,0,!1,null,null,!1,!1,"",lp);return e._reactRootContainer=c,e[On]=c.current,ia(e.nodeType===8?e.parentNode:e),Zr(function(){Hl(t,c,n,r)}),c}function Kl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=ml(o);l.call(c)}}Hl(t,o,e,i)}else o=bS(n,t,e,i,r);return ml(o)}ev=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ei(t.pendingLanes);n!==0&&(jh(t,n|1),wt(t,Ie()),!(se&6)&&(Xs=Ie()+500,br()))}break;case 13:Zr(function(){var r=Dn(e,1);if(r!==null){var i=it();Zt(r,e,1,i)}}),ef(e,1)}};bh=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var n=it();Zt(t,e,134217728,n)}ef(e,134217728)}};tv=function(e){if(e.tag===13){var t=cr(e),n=Dn(e,t);if(n!==null){var r=it();Zt(n,e,t,r)}ef(e,t)}};nv=function(){return ue};rv=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};zu=function(e,t,n){switch(t){case"input":if(Au(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ml(r);if(!i)throw Error(I(90));Ox(r),Au(r,i)}}}break;case"textarea":Lx(e,n);break;case"select":t=n.value,t!=null&&Ls(e,!!n.multiple,t,!1)}};Bx=Qh;Hx=Zr;var NS={usingClientEntryPoint:!1,Events:[Aa,Ss,Ml,Ux,Vx,Qh]},xi={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SS={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kx(e),e===null?null:e.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance||jS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{Il=lo.inject(SS),ln=lo}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;At.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(t))throw Error(I(200));return wS(e,t,null,n)};At.createRoot=function(e,t){if(!nf(e))throw Error(I(299));var n=!1,r="",i=C0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zh(e,1,!1,null,null,n,!1,r,i),e[On]=t.current,ia(e.nodeType===8?e.parentNode:e),new tf(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Kx(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return Zr(e)};At.hydrate=function(e,t,n){if(!Gl(t))throw Error(I(200));return Kl(null,e,t,!0,n)};At.hydrateRoot=function(e,t,n){if(!nf(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=C0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=S0(t,null,e,1,n??null,i,!1,a,o),e[On]=t.current,ia(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wl(t)};At.render=function(e,t,n){if(!Gl(t))throw Error(I(200));return Kl(null,e,t,!1,n)};At.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(I(40));return e._reactRootContainer?(Zr(function(){Kl(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};At.unstable_batchedUpdates=Qh;At.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Kl(e,t,n,!1,r)};At.version="18.3.1-next-f1338f8080-20240426";function _0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_0)}catch(e){console.error(e)}}_0(),_x.exports=At;var ql=_x.exports;const CS=rs(ql);var cp=ql;Su.createRoot=cp.createRoot,Su.hydrateRoot=cp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ma.apply(this,arguments)}var Zn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zn||(Zn={}));const up="popstate";function _S(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return xd("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pl(i)}return TS(t,n,null,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PS(){return Math.random().toString(36).substr(2,8)}function dp(e,t){return{usr:e.state,key:e.key,idx:t}}function xd(e,t,n,r){return n===void 0&&(n=null),ma({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ii(t):t,{state:n,key:t&&t.key||r||PS()})}function pl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ii(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function TS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=Zn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ma({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Zn.Pop;let y=d(),p=y==null?null:y-u;u=y,c&&c({action:l,location:x.location,delta:p})}function f(y,p){l=Zn.Push;let v=xd(x.location,y,p);n&&n(v,y),u=d()+1;let j=dp(v,u),b=x.createHref(v);try{o.pushState(j,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}a&&c&&c({action:l,location:x.location,delta:1})}function g(y,p){l=Zn.Replace;let v=xd(x.location,y,p);n&&n(v,y),u=d();let j=dp(v,u),b=x.createHref(v);o.replaceState(j,"",b),a&&c&&c({action:l,location:x.location,delta:0})}function w(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:pl(y);return v=v.replace(/ $/,"%20"),Oe(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let x={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(up,h),c=y,()=>{i.removeEventListener(up,h),c=null}},createHref(y){return t(i,y)},createURL:w,encodeLocation(y){let p=w(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(y){return o.go(y)}};return x}var hp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hp||(hp={}));function ES(e,t,n){return n===void 0&&(n="/"),kS(e,t,n,!1)}function kS(e,t,n,r){let i=typeof t=="string"?ii(t):t,a=rf(i.pathname||"/",n);if(a==null)return null;let o=T0(e);AS(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=VS(a);l=$S(o[c],u,r)}return l}function T0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=dr([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Oe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),T0(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:zS(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of E0(a.path))i(a,o,c)}),t}function E0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=E0(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function AS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:FS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RS=/^:[\w-]+$/,IS=3,OS=2,DS=1,LS=10,MS=-2,fp=e=>e==="*";function zS(e,t){let n=e.split("/"),r=n.length;return n.some(fp)&&(r+=MS),t&&(r+=OS),n.filter(i=>!fp(i)).reduce((i,a)=>i+(RS.test(a)?IS:a===""?DS:LS),r)}function FS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function $S(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=mp({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=mp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:dr([a,h.pathname]),pathnameBase:GS(dr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=dr([a,h.pathnameBase]))}return o}function mp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=US(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let x=l[h]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[h];return g&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function US(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),P0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function VS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return P0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function BS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ii(e):e;return{pathname:n?n.startsWith("/")?n:HS(n,t):t,search:KS(r),hash:qS(i)}}function HS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sf(e,t){let n=WS(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function af(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ii(e):(i=ma({},e),Oe(!i.pathname||!i.pathname.includes("?"),Wc("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Wc("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Wc("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=BS(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const dr=e=>e.join("/").replace(/\/\/+/g,"/"),GS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const k0=["post","put","patch","delete"];new Set(k0);const YS=["get",...k0];new Set(YS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(this,arguments)}const of=m.createContext(null),XS=m.createContext(null),Nr=m.createContext(null),Ql=m.createContext(null),Sr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),A0=m.createContext(null);function JS(e,t){let{relative:n}=t===void 0?{}:t;ai()||Oe(!1);let{basename:r,navigator:i}=m.useContext(Nr),{hash:a,pathname:o,search:l}=I0(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:dr([r,o])),i.createHref({pathname:c,search:l,hash:a})}function ai(){return m.useContext(Ql)!=null}function Cr(){return ai()||Oe(!1),m.useContext(Ql).location}function R0(e){m.useContext(Nr).static||m.useLayoutEffect(e)}function he(){let{isDataRoute:e}=m.useContext(Sr);return e?d2():ZS()}function ZS(){ai()||Oe(!1);let e=m.useContext(of),{basename:t,future:n,navigator:r}=m.useContext(Nr),{matches:i}=m.useContext(Sr),{pathname:a}=Cr(),o=JSON.stringify(sf(i,n.v7_relativeSplatPath)),l=m.useRef(!1);return R0(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=af(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:dr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,a,e])}function I0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Nr),{matches:i}=m.useContext(Sr),{pathname:a}=Cr(),o=JSON.stringify(sf(i,r.v7_relativeSplatPath));return m.useMemo(()=>af(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function e2(e,t){return t2(e,t)}function t2(e,t,n,r){ai()||Oe(!1);let{navigator:i}=m.useContext(Nr),{matches:a}=m.useContext(Sr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Cr(),d;if(t){var h;let y=typeof t=="string"?ii(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Oe(!1),d=y}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=ES(e,{pathname:g}),x=a2(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:dr([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:dr([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&x?m.createElement(Ql.Provider,{value:{location:pa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zn.Pop}},x):x}function n2(){let e=u2(),t=QS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,a)}const r2=m.createElement(n2,null);class s2 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Sr.Provider,{value:this.props.routeContext},m.createElement(A0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i2(e){let{routeContext:t,match:n,children:r}=e,i=m.useContext(of);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Sr.Provider,{value:t},r)}function a2(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Oe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,w=!1,x=null,y=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||r2,c&&(u<0&&f===0?(h2("route-fallback",!1),w=!0,y=null):u===f&&(w=!0,y=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),v=()=>{let j;return g?j=x:w?j=y:h.route.Component?j=m.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,m.createElement(i2,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(s2,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var O0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O0||{}),gl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gl||{});function o2(e){let t=m.useContext(of);return t||Oe(!1),t}function l2(e){let t=m.useContext(XS);return t||Oe(!1),t}function c2(e){let t=m.useContext(Sr);return t||Oe(!1),t}function D0(e){let t=c2(),n=t.matches[t.matches.length-1];return n.route.id||Oe(!1),n.route.id}function u2(){var e;let t=m.useContext(A0),n=l2(gl.UseRouteError),r=D0(gl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function d2(){let{router:e}=o2(O0.UseNavigateStable),t=D0(gl.UseNavigateStable),n=m.useRef(!1);return R0(()=>{n.current=!0}),m.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,pa({fromRouteId:t},a)))},[e,t])}const pp={};function h2(e,t,n){!t&&!pp[e]&&(pp[e]=!0)}function f2(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function L0(e){let{to:t,replace:n,state:r,relative:i}=e;ai()||Oe(!1);let{future:a,static:o}=m.useContext(Nr),{matches:l}=m.useContext(Sr),{pathname:c}=Cr(),u=he(),d=af(t,sf(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function ye(e){Oe(!1)}function m2(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Zn.Pop,navigator:a,static:o=!1,future:l}=e;ai()&&Oe(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:pa({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=ii(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:w="default"}=r,x=m.useMemo(()=>{let y=rf(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:g,key:w},navigationType:i}},[c,d,h,f,g,w,i]);return x==null?null:m.createElement(Nr.Provider,{value:u},m.createElement(Ql.Provider,{children:n,value:x}))}function p2(e){let{children:t,location:n}=e;return e2(vd(t),n)}new Promise(()=>{});function vd(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,i)=>{if(!m.isValidElement(r))return;let a=[...t,i];if(r.type===m.Fragment){n.push.apply(n,vd(r.props.children,a));return}r.type!==ye&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vd(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yd.apply(this,arguments)}function g2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function x2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v2(e,t){return e.button===0&&(!t||t==="_self")&&!x2(e)}function wd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function y2(e,t){let n=wd(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const w2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j2="6";try{window.__reactRouterVersion=j2}catch{}const b2="startTransition",gp=hh[b2];function N2(e){let{basename:t,children:n,future:r,window:i}=e,a=m.useRef();a.current==null&&(a.current=_S({window:i,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=m.useCallback(h=>{u&&gp?gp(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>f2(r),[r]),m.createElement(m2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const S2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=m.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=g2(t,w2),{basename:g}=m.useContext(Nr),w,x=!1;if(typeof u=="string"&&C2.test(u)&&(w=u,S2))try{let j=new URL(window.location.href),b=u.startsWith("//")?new URL(j.protocol+u):new URL(u),S=rf(b.pathname,g);b.origin===j.origin&&S!=null?u=S+b.search+b.hash:x=!0}catch{}let y=JS(u,{relative:i}),p=_2(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function v(j){r&&r(j),j.defaultPrevented||p(j)}return m.createElement("a",yd({},f,{href:w||y,onClick:x||a?r:v,ref:n,target:c}))});var xp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xp||(xp={}));var vp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vp||(vp={}));function _2(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=he(),u=Cr(),d=I0(e,{relative:o});return m.useCallback(h=>{if(v2(h,n)){h.preventDefault();let f=r!==void 0?r:pl(u)===pl(d);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,i,n,e,a,o,l])}function hn(e){let t=m.useRef(wd(e)),n=m.useRef(!1),r=Cr(),i=m.useMemo(()=>y2(r.search,n.current?null:t.current),[r.search]),a=he(),o=m.useCallback((l,c)=>{const u=wd(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var M0={exports:{}},P2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",T2=P2,E2=T2;function z0(){}function F0(){}F0.resetWarningCache=z0;var k2=function(){function e(r,i,a,o,l,c){if(c!==E2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:F0,resetWarningCache:z0};return n.PropTypes=n,n};M0.exports=k2();var A2=M0.exports;const je=rs(A2);function R2(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var $0=m,I2=R2($0);function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var D2=!!(typeof window<"u"&&window.document&&window.document.createElement);function L2(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(d){return d.props})),u.canUseDOM?t(l):n&&(l=n(l))}var u=function(d){O2(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=l;return l=void 0,o=[],w};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var w=o.indexOf(this);o.splice(w,1),c()},f.render=function(){return I2.createElement(a,this.props)},h}($0.PureComponent);return yp(u,"displayName","SideEffect("+r(a)+")"),yp(u,"canUseDOM",D2),u}}var M2=L2;const z2=rs(M2);var F2=typeof Element<"u",$2=typeof Map=="function",U2=typeof Set=="function",V2=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Fo(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Fo(e[r],t[r]))return!1;return!0}var a;if($2&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!Fo(r.value[1],t.get(r.value[0])))return!1;return!0}if(U2&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(V2&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(F2&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Fo(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var B2=function(t,n){try{return Fo(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const H2=rs(B2);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var wp=Object.getOwnPropertySymbols,W2=Object.prototype.hasOwnProperty,G2=Object.prototype.propertyIsEnumerable;function K2(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function q2(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Q2=q2()?Object.assign:function(e,t){for(var n,r=K2(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)W2.call(n,o)&&(r[o]=n[o]);if(wp){i=wp(n);for(var l=0;l<i.length;l++)G2.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};const Y2=rs(Q2);var Wr={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},X={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(X).map(function(e){return X[e]});var be={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},xl={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ga={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},X2=Object.keys(xl).reduce(function(e,t){return e[xl[t]]=t,e},{}),J2=[X.NOSCRIPT,X.SCRIPT,X.STYLE],Xt="data-react-helmet",Z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eC=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},tC=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nC=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},jp=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},rC=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},jd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},sC=function(t){var n=Vs(t,X.TITLE),r=Vs(t,ga.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Vs(t,ga.DEFAULT_TITLE);return n||i||void 0},iC=function(t){return Vs(t,ga.ON_CHANGE_CLIENT_STATE)||function(){}},Gc=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return dt({},r,i)},{})},aC=function(t,n){return n.filter(function(r){return typeof r[X.BASE]<"u"}).map(function(r){return r[X.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var a=Object.keys(i),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},vi=function(t,n,r){var i={};return r.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&uC("Helmet: "+t+' should be of type "Array". Instead found type "'+Z2(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var l={};o.filter(function(f){for(var g=void 0,w=Object.keys(f),x=0;x<w.length;x++){var y=w[x],p=y.toLowerCase();n.indexOf(p)!==-1&&!(g===be.REL&&f[g].toLowerCase()==="canonical")&&!(p===be.REL&&f[p].toLowerCase()==="stylesheet")&&(g=p),n.indexOf(y)!==-1&&(y===be.INNER_HTML||y===be.CSS_TEXT||y===be.ITEM_PROP)&&(g=y)}if(!g||!f[g])return!1;var v=f[g].toLowerCase();return i[g]||(i[g]={}),l[g]||(l[g]={}),i[g][v]?!1:(l[g][v]=!0,!0)}).reverse().forEach(function(f){return a.push(f)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=Y2({},i[d],l[d]);i[d]=h}return a},[]).reverse()},Vs=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},oC=function(t){return{baseTag:aC([be.HREF,be.TARGET],t),bodyAttributes:Gc(Wr.BODY,t),defer:Vs(t,ga.DEFER),encode:Vs(t,ga.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Gc(Wr.HTML,t),linkTags:vi(X.LINK,[be.REL,be.HREF],t),metaTags:vi(X.META,[be.NAME,be.CHARSET,be.HTTPEQUIV,be.PROPERTY,be.ITEM_PROP],t),noscriptTags:vi(X.NOSCRIPT,[be.INNER_HTML],t),onChangeClientState:iC(t),scriptTags:vi(X.SCRIPT,[be.SRC,be.INNER_HTML],t),styleTags:vi(X.STYLE,[be.CSS_TEXT],t),title:sC(t),titleAttributes:Gc(Wr.TITLE,t)}},bd=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){bd(t)},0)}}(),bp=function(t){return clearTimeout(t)},lC=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||bd:global.requestAnimationFrame||bd,cC=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||bp:global.cancelAnimationFrame||bp,uC=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},yi=null,dC=function(t){yi&&cC(yi),t.defer?yi=lC(function(){Np(t,function(){yi=null})}):(Np(t),yi=null)},Np=function(t,n){var r=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,h=t.styleTags,f=t.title,g=t.titleAttributes;Nd(X.BODY,i),Nd(X.HTML,a),hC(f,g);var w={baseTag:fs(X.BASE,r),linkTags:fs(X.LINK,o),metaTags:fs(X.META,l),noscriptTags:fs(X.NOSCRIPT,c),scriptTags:fs(X.SCRIPT,d),styleTags:fs(X.STYLE,h)},x={},y={};Object.keys(w).forEach(function(p){var v=w[p],j=v.newTags,b=v.oldTags;j.length&&(x[p]=j),b.length&&(y[p]=w[p].oldTags)}),n&&n(),u(t,x,y)},U0=function(t){return Array.isArray(t)?t.join(""):t},hC=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=U0(t)),Nd(X.TITLE,n)},Nd=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Xt),a=i?i.split(","):[],o=[].concat(a),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),a.indexOf(u)===-1&&a.push(u);var h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);a.length===o.length?r.removeAttribute(Xt):r.getAttribute(Xt)!==l.join(",")&&r.setAttribute(Xt,l.join(","))}},fs=function(t,n){var r=document.head||document.querySelector(X.HEAD),i=r.querySelectorAll(t+"["+Xt+"]"),a=Array.prototype.slice.call(i),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===be.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===be.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(Xt,"true"),a.some(function(f,g){return l=g,u.isEqualNode(f)})?a.splice(l,1):o.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:a,newTags:o}},V0=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},fC=function(t,n,r,i){var a=V0(r),o=U0(n);return a?"<"+t+" "+Xt+'="true" '+a+">"+jd(o,i)+"</"+t+">":"<"+t+" "+Xt+'="true">'+jd(o,i)+"</"+t+">"},mC=function(t,n,r){return n.reduce(function(i,a){var o=Object.keys(a).filter(function(u){return!(u===be.INNER_HTML||u===be.CSS_TEXT)}).reduce(function(u,d){var h=typeof a[d]>"u"?d:d+'="'+jd(a[d],r)+'"';return u?u+" "+h:h},""),l=a.innerHTML||a.cssText||"",c=J2.indexOf(t)===-1;return i+"<"+t+" "+Xt+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},B0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[xl[i]||i]=t[i],r},n)},pC=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[X2[i]||i]=t[i],r},n)},gC=function(t,n,r){var i,a=(i={key:n},i[Xt]=!0,i),o=B0(r,a);return[Y.createElement(X.TITLE,o,n)]},xC=function(t,n){return n.map(function(r,i){var a,o=(a={key:i},a[Xt]=!0,a);return Object.keys(r).forEach(function(l){var c=xl[l]||l;if(c===be.INNER_HTML||c===be.CSS_TEXT){var u=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=r[l]}),Y.createElement(t,o)})},fn=function(t,n,r){switch(t){case X.TITLE:return{toComponent:function(){return gC(t,n.title,n.titleAttributes)},toString:function(){return fC(t,n.title,n.titleAttributes,r)}};case Wr.BODY:case Wr.HTML:return{toComponent:function(){return B0(n)},toString:function(){return V0(n)}};default:return{toComponent:function(){return xC(t,n)},toString:function(){return mC(t,n,r)}}}},H0=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,h=t.title,f=h===void 0?"":h,g=t.titleAttributes;return{base:fn(X.BASE,n,i),bodyAttributes:fn(Wr.BODY,r,i),htmlAttributes:fn(Wr.HTML,a,i),link:fn(X.LINK,o,i),meta:fn(X.META,l,i),noscript:fn(X.NOSCRIPT,c,i),script:fn(X.SCRIPT,u,i),style:fn(X.STYLE,d,i),title:fn(X.TITLE,{title:f,titleAttributes:g},i)}},vC=function(t){var n,r;return r=n=function(i){nC(a,i);function a(){return eC(this,a),rC(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!H2(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case X.SCRIPT:case X.NOSCRIPT:return{innerHTML:c};case X.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return dt({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[dt({},h,this.mapNestedChildrenToProps(u,f))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,f=l.newChildProps,g=l.nestedChildren;switch(d.type){case X.TITLE:return dt({},h,(c={},c[d.type]=g,c.titleAttributes=dt({},f),c));case X.BODY:return dt({},h,{bodyAttributes:dt({},f)});case X.HTML:return dt({},h,{htmlAttributes:dt({},f)})}return dt({},h,(u={},u[d.type]=dt({},f),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=dt({},c);return Object.keys(l).forEach(function(d){var h;u=dt({},u,(h={},h[d]=l[d],h))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Y.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,g=f.children,w=jp(f,["children"]),x=pC(w);switch(u.warnOnInvalidChildren(h,g),h.type){case X.LINK:case X.META:case X.NOSCRIPT:case X.SCRIPT:case X.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:x,nestedChildren:g});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:x,nestedChildren:g});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=jp(l,["children"]),d=dt({},u);return c&&(d=this.mapChildrenToProps(c,d)),Y.createElement(t,d)},tC(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(Y.Component),n.propTypes={base:je.object,bodyAttributes:je.object,children:je.oneOfType([je.arrayOf(je.node),je.node]),defaultTitle:je.string,defer:je.bool,encodeSpecialCharacters:je.bool,htmlAttributes:je.object,link:je.arrayOf(je.object),meta:je.arrayOf(je.object),noscript:je.arrayOf(je.object),onChangeClientState:je.func,script:je.arrayOf(je.object),style:je.arrayOf(je.object),title:je.string,titleAttributes:je.object,titleTemplate:je.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=H0({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},yC=function(){return null},wC=z2(oC,dC,H0)(yC),le=vC(wC);le.renderStatic=le.rewind;function W0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=W0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function G0(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=W0(e))&&(r&&(r+=" "),r+=t);return r}function jC(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=K0(t))&&(r&&(r+=" "),r+=n);return r}function K0(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=K0(e[r]))&&(n&&(n+=" "),n+=t);return n}var lf="-";function bC(e){var t=SC(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function a(l){var c=l.split(lf);return c[0]===""&&c.length!==1&&c.shift(),q0(c,t)||NC(l)}function o(l,c){var u=n[l]||[];return c&&i[l]?[].concat(u,i[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function q0(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?q0(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var a=e.join(lf);return(o=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:o.classGroupId}}var Sp=/^\[(.+)\]$/;function NC(e){if(Sp.test(e)){var t=Sp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function SC(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=_C(Object.entries(e.classGroups),n);return i.forEach(function(a){var o=a[0],l=a[1];Sd(l,r,o,t)}),r}function Sd(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var a=i===""?t:Cp(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(CC(i)){Sd(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var l=o[0],c=o[1];Sd(c,Cp(t,l),n,r)})})}function Cp(e,t){var n=e;return t.split(lf).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function CC(e){return e.isThemeGetter}function _C(e,t){return t?e.map(function(n){var r=n[0],i=n[1],a=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[r,a]}):e}function PC(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(a,o){n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):i(o,l)}}}var Q0="!";function TC(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(o){for(var l=[],c=0,u=0,d,h=0;h<o.length;h++){var f=o[h];if(c===0){if(f===r&&(n||o.slice(h,h+i)===t)){l.push(o.slice(u,h)),u=h+i;continue}if(f==="/"){d=h;continue}}f==="["?c++:f==="]"&&c--}var g=l.length===0?o:o.substring(u),w=g.startsWith(Q0),x=w?g.substring(1):g,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:y}}}function EC(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function kC(e){return{cache:PC(e.cacheSize),splitModifiers:TC(e),...bC(e)}}var AC=/\s+/;function RC(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(AC).map(function(o){var l=n(o),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,h=l.maybePostfixModifierPosition,f=r(h?d.substring(0,h):d),g=!!h;if(!f){if(!h)return{isTailwindClass:!1,originalClassName:o};if(f=r(d),!f)return{isTailwindClass:!1,originalClassName:o};g=!1}var w=EC(c).join(":"),x=u?w+Q0:w;return{isTailwindClass:!0,modifierId:x,classGroupId:f,originalClassName:o,hasPostfixModifier:g}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=l+c;return a.has(d)?!1:(a.add(d),i(c,u).forEach(function(h){return a.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function IC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,a,o=l;function l(u){var d=t[0],h=t.slice(1),f=h.reduce(function(g,w){return w(g)},d());return r=kC(f),i=r.cache.get,a=r.cache.set,o=c,c(u)}function c(u){var d=i(u);if(d)return d;var h=RC(u,r);return a(u,h),h}return function(){return o(jC.apply(null,arguments))}}function xe(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Y0=/^\[(?:([a-z-]+):)?(.+)\]$/i,OC=/^\d+\/\d+$/,DC=new Set(["px","full","screen"]),LC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zC=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Wt(e){return Ur(e)||DC.has(e)||OC.test(e)||Cd(e)}function Cd(e){return as(e,"length",HC)}function FC(e){return as(e,"size",X0)}function $C(e){return as(e,"position",X0)}function UC(e){return as(e,"url",WC)}function co(e){return as(e,"number",Ur)}function Ur(e){return!Number.isNaN(Number(e))}function VC(e){return e.endsWith("%")&&Ur(e.slice(0,-1))}function wi(e){return _p(e)||as(e,"number",_p)}function te(e){return Y0.test(e)}function ji(){return!0}function Vn(e){return LC.test(e)}function BC(e){return as(e,"",GC)}function as(e,t,n){var r=Y0.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function HC(e){return MC.test(e)}function X0(){return!1}function WC(e){return e.startsWith("url(")}function _p(e){return Number.isInteger(Number(e))}function GC(e){return zC.test(e)}function KC(){var e=xe("colors"),t=xe("spacing"),n=xe("blur"),r=xe("brightness"),i=xe("borderColor"),a=xe("borderRadius"),o=xe("borderSpacing"),l=xe("borderWidth"),c=xe("contrast"),u=xe("grayscale"),d=xe("hueRotate"),h=xe("invert"),f=xe("gap"),g=xe("gradientColorStops"),w=xe("gradientColorStopPositions"),x=xe("inset"),y=xe("margin"),p=xe("opacity"),v=xe("padding"),j=xe("saturate"),b=xe("scale"),S=xe("sepia"),P=xe("skew"),_=xe("space"),N=xe("translate"),k=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},H=function(){return["auto",te,t]},D=function(){return[te,t]},ne=function(){return["",Wt]},R=function(){return["auto",Ur,te]},C=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},E=function(){return["solid","dashed","dotted","double","none"]},B=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},L=function(){return["","0",te]},M=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},W=function(){return[Ur,co]},Z=function(){return[Ur,te]};return{cacheSize:500,theme:{colors:[ji],spacing:[Wt],blur:["none","",Vn,te],brightness:W(),borderColor:[e],borderRadius:["none","","full",Vn,te],borderSpacing:D(),borderWidth:ne(),contrast:W(),grayscale:L(),hueRotate:Z(),invert:L(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[VC,Cd],inset:H(),margin:H(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:L(),skew:Z(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[Vn]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(C(),[te])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wi]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",wi]}],"grid-cols":[{"grid-cols":[ji]}],"col-start-end":[{col:["auto",{span:["full",wi]},te]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[ji]}],"row-start-end":[{row:["auto",{span:[wi]},te]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",te,t]}],"min-w":[{"min-w":["min","max","fit",te,Wt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Vn]},Vn,te]}],h:[{h:[te,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",te,Wt]}],"max-h":[{"max-h":[te,t,"min","max","fit"]}],"font-size":[{text:["base",Vn,Cd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",co]}],"font-family":[{font:[ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",Ur,co]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",te,Wt]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(E(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Wt]}],"underline-offset":[{"underline-offset":["auto",te,Wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(C(),[$C])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[].concat(E(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:E()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(E())}],"outline-offset":[{"outline-offset":[te,Wt]}],"outline-w":[{outline:[Wt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Wt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vn,BC]}],"shadow-color":[{shadow:[ji]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vn,te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[wi,te]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wt,co]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var qC=IC(KC);function oe(...e){return qC(G0(e))}function de(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Pp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function J0(...e){return t=>{let n=!1;const r=e.map(i=>{const a=Pp(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Pp(e[i],null)}}}}function jt(...e){return m.useCallback(J0(...e),e)}function QC(e,t){const n=m.createContext(t),r=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function os(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];const u=h=>{var p;const{scope:f,children:g,...w}=h,x=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,y=m.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(h,f){var x;const g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,YC(i,...t)]}function YC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function xa(e){const t=JC(e),n=m.forwardRef((r,i)=>{const{children:a,...o}=r,l=m.Children.toArray(a),c=l.find(e_);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var XC=xa("Slot");function JC(e){const t=m.forwardRef((n,r)=>{const{children:i,...a}=n;if(m.isValidElement(i)){const o=n_(i),l=t_(a,i.props);return i.type!==m.Fragment&&(l.ref=r?J0(r,o):o),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Z0=Symbol("radix.slottable");function ZC(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Z0,t}function e_(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Z0}function t_(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function n_(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ey(e){const t=e+"CollectionProvider",[n,r]=os(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:p}=x,v=Y.useRef(null),j=Y.useRef(new Map).current;return s.jsx(i,{scope:y,itemMap:j,collectionRef:v,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=xa(l),u=Y.forwardRef((x,y)=>{const{scope:p,children:v}=x,j=a(l,p),b=jt(y,j.collectionRef);return s.jsx(c,{ref:b,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=xa(d),g=Y.forwardRef((x,y)=>{const{scope:p,children:v,...j}=x,b=Y.useRef(null),S=jt(y,b),P=a(d,p);return Y.useEffect(()=>(P.itemMap.set(b,{ref:b,...j}),()=>void P.itemMap.delete(b))),s.jsx(f,{[h]:"",ref:S,children:v})});g.displayName=d;function w(x){const y=a(e+"CollectionConsumer",x);return Y.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((P,_)=>j.indexOf(P.ref.current)-j.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},w,r]}var r_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=r_.reduce((e,t)=>{const n=xa(`Primitive.${t}`),r=m.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ty(e,t){e&&ql.flushSync(()=>e.dispatchEvent(t))}function tn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function s_(e,t=globalThis==null?void 0:globalThis.document){const n=tn(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var i_="DismissableLayer",_d="dismissableLayer.update",a_="dismissableLayer.pointerDownOutside",o_="dismissableLayer.focusOutside",Tp,ny=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cf=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(ny),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=jt(t,_=>h(_)),x=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(y),v=d?x.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=p,S=c_(_=>{const N=_.target,k=[...u.branches].some(O=>O.contains(N));!b||k||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},f),P=u_(_=>{const N=_.target;[...u.branches].some(O=>O.contains(N))||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},f);return s_(_=>{v===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ep(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Tp)}},[d,f,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ep())},[d,u]),m.useEffect(()=>{const _=()=>g({});return document.addEventListener(_d,_),()=>document.removeEventListener(_d,_)},[]),s.jsx(ge.div,{...c,ref:w,style:{pointerEvents:j?b?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,P.onFocusCapture),onBlurCapture:de(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,S.onPointerDownCapture)})});cf.displayName=i_;var l_="DismissableLayerBranch",ry=m.forwardRef((e,t)=>{const n=m.useContext(ny),r=m.useRef(null),i=jt(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(ge.div,{...e,ref:i})});ry.displayName=l_;function c_(e,t=globalThis==null?void 0:globalThis.document){const n=tn(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){sy(a_,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function u_(e,t=globalThis==null?void 0:globalThis.document){const n=tn(e),r=m.useRef(!1);return m.useEffect(()=>{const i=a=>{a.target&&!r.current&&sy(o_,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ep(){const e=new CustomEvent(_d);document.dispatchEvent(e)}function sy(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ty(i,a):i.dispatchEvent(a)}var d_=cf,h_=ry,Mn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},f_="Portal",uf=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=m.useState(!1);Mn(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?CS.createPortal(s.jsx(ge.div,{...r,ref:t}),o):null});uf.displayName=f_;function m_(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var oi=e=>{const{present:t,children:n}=e,r=p_(t),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=jt(r.ref,g_(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:a}):null};oi.displayName="Presence";function p_(e){const[t,n]=m.useState(),r=m.useRef(null),i=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=m_(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=uo(r.current);a.current=l==="mounted"?u:"none"},[l]),Mn(()=>{const u=r.current,d=i.current;if(d!==e){const f=a.current,g=uo(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Mn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=g=>{const x=uo(r.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=g=>{g.target===t&&(a.current=uo(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function uo(e){return(e==null?void 0:e.animationName)||"none"}function g_(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var x_=hh[" useInsertionEffect ".trim().toString()]||Mn;function Yl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=v_({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var h;if(l){const f=y_(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else a(d)},[l,e,a,o]);return[c,u]}function v_({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),i=m.useRef(n),a=m.useRef(t);return x_(()=>{a.current=t},[t]),m.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function y_(e){return typeof e=="function"}var w_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),j_="VisuallyHidden",df=m.forwardRef((e,t)=>s.jsx(ge.span,{...e,ref:t,style:{...w_,...e.style}}));df.displayName=j_;var hf="ToastProvider",[ff,b_,N_]=ey("Toast"),[iy,NO]=os("Toast",[N_]),[S_,Xl]=iy(hf),ay=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hf}\`. Expected non-empty \`string\`.`),s.jsx(ff.Provider,{scope:t,children:s.jsx(S_,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};ay.displayName=hf;var oy="ToastViewport",C_=["F8"],Pd="toast.viewportPause",Td="toast.viewportResume",ly=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=C_,label:i="Notifications ({hotkey})",...a}=e,o=Xl(oy,n),l=b_(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=jt(t,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const y=p=>{var j;r.length!==0&&r.every(b=>p[b]||p.code===b)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),m.useEffect(()=>{const y=c.current,p=h.current;if(w&&y&&p){const v=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Pd);p.dispatchEvent(P),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Td);p.dispatchEvent(P),o.isClosePausedRef.current=!1}},b=P=>{!y.contains(P.relatedTarget)&&j()},S=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",v),y.addEventListener("focusout",b),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",j)}}},[w,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:y})=>{const v=l().map(j=>{const b=j.ref.current,S=[b,...z_(b)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const y=h.current;if(y){const p=v=>{var S,P,_;const j=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!j){const N=document.activeElement,k=v.shiftKey;if(v.target===y&&k){(S=u.current)==null||S.focus();return}const D=x({tabbingDirection:k?"backwards":"forwards"}),ne=D.findIndex(R=>R===N);Kc(D.slice(ne+1))?v.preventDefault():k?(P=u.current)==null||P.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",p),()=>y.removeEventListener("keydown",p)}},[l,x]),s.jsxs(h_,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(Ed,{ref:u,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});Kc(y)}}),s.jsx(ff.Slot,{scope:n,children:s.jsx(ge.ol,{tabIndex:-1,...a,ref:f})}),w&&s.jsx(Ed,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});Kc(y)}})]})});ly.displayName=oy;var cy="ToastFocusProxy",Ed=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Xl(cy,n);return s.jsx(df,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Ed.displayName=cy;var Ia="Toast",__="toast.swipeStart",P_="toast.swipeMove",T_="toast.swipeCancel",E_="toast.swipeEnd",uy=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=Yl({prop:r,defaultProp:i??!0,onChange:a,caller:Ia});return s.jsx(oi,{present:n||l,children:s.jsx(R_,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:tn(e.onPause),onResume:tn(e.onResume),onSwipeStart:de(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:de(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:de(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:de(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});uy.displayName=Ia;var[k_,A_]=iy(Ia,{onClose(){}}),R_=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...w}=e,x=Xl(Ia,n),[y,p]=m.useState(null),v=jt(t,R=>p(R)),j=m.useRef(null),b=m.useRef(null),S=i||x.duration,P=m.useRef(0),_=m.useRef(S),N=m.useRef(0),{onToastAdd:k,onToastRemove:O}=x,H=tn(()=>{var C;(y==null?void 0:y.contains(document.activeElement))&&((C=x.viewport)==null||C.focus()),o()}),D=m.useCallback(R=>{!R||R===1/0||(window.clearTimeout(N.current),P.current=new Date().getTime(),N.current=window.setTimeout(H,R))},[H]);m.useEffect(()=>{const R=x.viewport;if(R){const C=()=>{D(_.current),u==null||u()},E=()=>{const B=new Date().getTime()-P.current;_.current=_.current-B,window.clearTimeout(N.current),c==null||c()};return R.addEventListener(Pd,E),R.addEventListener(Td,C),()=>{R.removeEventListener(Pd,E),R.removeEventListener(Td,C)}}},[x.viewport,S,c,u,D]),m.useEffect(()=>{a&&!x.isClosePausedRef.current&&D(S)},[a,S,x.isClosePausedRef,D]),m.useEffect(()=>(k(),()=>O()),[k,O]);const ne=m.useMemo(()=>y?xy(y):null,[y]);return x.viewport?s.jsxs(s.Fragment,{children:[ne&&s.jsx(I_,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ne}),s.jsx(k_,{scope:n,onClose:H,children:ql.createPortal(s.jsx(ff.ItemSlot,{scope:n,children:s.jsx(d_,{asChild:!0,onEscapeKeyDown:de(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||H(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:de(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:de(e.onPointerDown,R=>{R.button===0&&(j.current={x:R.clientX,y:R.clientY})}),onPointerMove:de(e.onPointerMove,R=>{if(!j.current)return;const C=R.clientX-j.current.x,E=R.clientY-j.current.y,B=!!b.current,A=["left","right"].includes(x.swipeDirection),L=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,M=A?L(0,C):0,W=A?0:L(0,E),Z=R.pointerType==="touch"?10:2,ce={x:M,y:W},ie={originalEvent:R,delta:ce};B?(b.current=ce,ho(P_,h,ie,{discrete:!1})):kp(ce,x.swipeDirection,Z)?(b.current=ce,ho(__,d,ie,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(C)>Z||Math.abs(E)>Z)&&(j.current=null)}),onPointerUp:de(e.onPointerUp,R=>{const C=b.current,E=R.target;if(E.hasPointerCapture(R.pointerId)&&E.releasePointerCapture(R.pointerId),b.current=null,j.current=null,C){const B=R.currentTarget,A={originalEvent:R,delta:C};kp(C,x.swipeDirection,x.swipeThreshold)?ho(E_,g,A,{discrete:!0}):ho(T_,f,A,{discrete:!0}),B.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),I_=e=>{const{__scopeToast:t,children:n,...r}=e,i=Xl(Ia,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return L_(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(uf,{asChild:!0,children:s.jsx(df,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},O_="ToastTitle",dy=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(ge.div,{...r,ref:t})});dy.displayName=O_;var D_="ToastDescription",hy=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(ge.div,{...r,ref:t})});hy.displayName=D_;var fy="ToastAction",my=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(gy,{altText:n,asChild:!0,children:s.jsx(mf,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${fy}\`. Expected non-empty \`string\`.`),null)});my.displayName=fy;var py="ToastClose",mf=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=A_(py,n);return s.jsx(gy,{asChild:!0,children:s.jsx(ge.button,{type:"button",...r,ref:t,onClick:de(e.onClick,i.onClose)})})});mf.displayName=py;var gy=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function xy(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),M_(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...xy(r))}}),t}function ho(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ty(i,a):i.dispatchEvent(a)}var kp=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function L_(e=()=>{}){const t=tn(e);Mn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function M_(e){return e.nodeType===e.ELEMENT_NODE}function z_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kc(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var F_=ay,vy=ly,yy=uy,wy=dy,jy=hy,by=my,Ny=mf;const Ap=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rp=G0,Jl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Rp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=Ap(d)||Ap(h);return i[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(w=>{let[x,y]=w;return Array.isArray(y)?y.includes({...a,...l}[x]):{...a,...l}[x]===y})?[...u,h,f]:u},[]);return Rp(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};var $_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},u)=>m.createElement("svg",{ref:u,...$_,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${U_(e)}`,...c},[...t.map(([d,h])=>m.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},V_=$("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),B_=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yt=$("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fe=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Sy=$("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),H_=$("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Cy=$("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),qc=$("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),fo=$("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),W_=$("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),es=$("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_y=$("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),hr=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),As=$("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ts=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),va=$("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),G=$("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),kd=$("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),pf=$("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ip=$("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ad=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),G_=$("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),gf=$("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),vl=$("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Rd=$("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),yl=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Id=$("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),K_=$("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Vi=$("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Py=$("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ty=$("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Op=$("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),q_=$("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]),Q_=$("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Y_=$("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),X_=$("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ya=$("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Gr=$("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Od=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),J_=$("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]),xr=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Dp=$("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Zl=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),We=$("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Dd=$("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Z_=$("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),eP=$("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Bi=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dn=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ld=$("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Oa=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),wl=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),wa=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ey=$("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ze=$("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),tP=$("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Ee=$("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Qc=$("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),nP=$("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ja=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ky=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),rP=$("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),sP=$("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Bt=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Kr=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),iP=$("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),xf=$("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ba=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vf=$("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),aP=F_,Ay=Y.forwardRef(({className:e,...t},n)=>s.jsx(vy,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ay.displayName=vy.displayName;const oP=Jl("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ry=Y.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(yy,{ref:r,className:oe(oP({variant:t}),e),...n}));Ry.displayName=yy.displayName;const lP=Y.forwardRef(({className:e,...t},n)=>s.jsx(by,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));lP.displayName=by.displayName;const Iy=Y.forwardRef(({className:e,...t},n)=>s.jsx(Ny,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ba,{className:"h-4 w-4"})}));Iy.displayName=Ny.displayName;const Oy=Y.forwardRef(({className:e,...t},n)=>s.jsx(wy,{ref:n,className:oe("text-sm font-semibold",e),...t}));Oy.displayName=wy.displayName;const Dy=Y.forwardRef(({className:e,...t},n)=>s.jsx(jy,{ref:n,className:oe("text-sm opacity-90",e),...t}));Dy.displayName=jy.displayName;const cP=1;let Yc=0;function uP(){return Yc=(Yc+1)%Number.MAX_VALUE,Yc.toString()}const nt={state:{toasts:[]},listeners:[],getState:()=>nt.state,setState:e=>{typeof e=="function"?nt.state=e(nt.state):nt.state={...nt.state,...e},nt.listeners.forEach(t=>t(nt.state))},subscribe:e=>(nt.listeners.push(e),()=>{nt.listeners=nt.listeners.filter(t=>t!==e)})},dP=({...e})=>{const t=uP(),n=i=>nt.setState(a=>({...a,toasts:a.toasts.map(o=>o.id===t?{...o,...i}:o)})),r=()=>nt.setState(i=>({...i,toasts:i.toasts.filter(a=>a.id!==t)}));return nt.setState(i=>({...i,toasts:[{...e,id:t,dismiss:r},...i.toasts].slice(0,cP)})),{id:t,dismiss:r,update:n}};function Se(){const[e,t]=m.useState(nt.getState());return m.useEffect(()=>nt.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:dP,toasts:e.toasts}}function hP(){const{toasts:e}=Se();return s.jsxs(aP,{children:[e.map(({id:t,title:n,description:r,action:i,...a})=>s.jsxs(Ry,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(Oy,{children:n}),r&&s.jsx(Dy,{children:r})]}),i,s.jsx(Iy,{})]},t)),s.jsx(Ay,{})]})}const fP="modulepreload",mP=function(e){return"/"+e},Lp={},Da=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=mP(a),a in Lp)return;Lp[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":fP,o||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},pP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Da(()=>Promise.resolve().then(()=>Ma),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class yf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class gP extends yf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mp extends yf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zp extends yf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Md;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Md||(Md={}));var xP=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class vP{constructor(t,{headers:n={},customFetch:r,region:i=Md.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=pP(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return xP(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(x=>{throw new gP(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Mp(h);if(!h.ok)throw new zp(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield h.json():g==="application/octet-stream"?w=yield h.blob():g==="text/event-stream"?w=h:g==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof zp||i instanceof Mp?i.context:void 0}}})}}var ft={},wf={},ec={},La={},tc={},nc={},yP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Js=yP();const wP=Js.fetch,jP=Js.fetch.bind(Js),bP=Js.Headers,NP=Js.Request,SP=Js.Response,Ma=Object.freeze(Object.defineProperty({__proto__:null,Headers:bP,Request:NP,Response:SP,default:jP,fetch:wP},Symbol.toStringTag,{value:"Module"})),CP=Zb(Ma);var rc={};Object.defineProperty(rc,"__esModule",{value:!0});let _P=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};rc.default=_P;var Ly=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nc,"__esModule",{value:!0});const PP=Ly(CP),TP=Ly(rc);let EP=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=PP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,h=null,f=null,g=a.status,w=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=v:h=JSON.parse(v))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(h=[],d=null,g=200,w="OK")}catch{a.status===404&&y===""?(g=204,w="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,w="OK"),d&&this.shouldThrowOnError)throw new TP.default(d)}return{error:d,data:h,count:f,status:g,statusText:w}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};nc.default=EP;var kP=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tc,"__esModule",{value:!0});const AP=kP(nc);let RP=class extends AP.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};tc.default=RP;var IP=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(La,"__esModule",{value:!0});const OP=IP(tc);let DP=class extends OP.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};La.default=DP;var LP=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ec,"__esModule",{value:!0});const bi=LP(La);let MP=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new bi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new bi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new bi.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new bi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new bi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ec.default=MP;var My=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wf,"__esModule",{value:!0});const zP=My(ec),FP=My(La);let $P=class zy{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new zP.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new zy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new FP.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};wf.default=$P;var li=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const Fy=li(wf);ft.PostgrestClient=Fy.default;const $y=li(ec);ft.PostgrestQueryBuilder=$y.default;const Uy=li(La);ft.PostgrestFilterBuilder=Uy.default;const Vy=li(tc);ft.PostgrestTransformBuilder=Vy.default;const By=li(nc);ft.PostgrestBuilder=By.default;const Hy=li(rc);ft.PostgrestError=Hy.default;var UP=ft.default={PostgrestClient:Fy.default,PostgrestQueryBuilder:$y.default,PostgrestFilterBuilder:Uy.default,PostgrestTransformBuilder:Vy.default,PostgrestBuilder:By.default,PostgrestError:Hy.default};const{PostgrestClient:VP,PostgrestQueryBuilder:EO,PostgrestFilterBuilder:kO,PostgrestTransformBuilder:AO,PostgrestBuilder:RO,PostgrestError:IO}=UP;function BP(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const HP=BP(),WP="2.12.1",GP=`realtime-js/${WP}`,KP="1.0.0",Wy=1e4,qP=1e3;var Hi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hi||(Hi={}));var Be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Be||(Be={}));var qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qt||(qt={}));var zd;(function(e){e.websocket="websocket"})(zd||(zd={}));var Lr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Lr||(Lr={}));class QP{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+i));o=o+i;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Gy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const Fp=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=YP(o,e,t,i),a),{})},YP=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?Ky(a,o):Fd(o)},Ky=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return eT(t,n)}switch(e){case fe.bool:return XP(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return JP(t);case fe.json:case fe.jsonb:return ZP(t);case fe.timestamp:return tT(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Fd(t);default:return Fd(t)}},Fd=e=>e,XP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Ky(t,l))}return e},tT=e=>typeof e=="string"?e.replace(" ","T"):e,qy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Xc{constructor(t,n,r={},i=Wy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $p;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($p||($p={}));class Wi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wi.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Wi.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Wi.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(y=>y.presence_ref),g=h.map(y=>y.presence_ref),w=d.filter(y=>g.indexOf(y.presence_ref)<0),x=h.filter(y=>f.indexOf(y.presence_ref)<0);w.length>0&&(l[u]=w),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Up;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Up||(Up={}));var jl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jl||(jl={}));var xn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xn||(xn={}));class jf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xc(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Gy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Wi(this),this.broadcastEndpointURL=qy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[jl.PRESENCE],d={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(xn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(xn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){t==null||t(xn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(g=w==null?void 0:w.length)!==null&&g!==void 0?g:0,y=[];for(let p=0;p<x;p++){const v=w[p],{filter:{event:j,schema:b,table:S,filter:P}}=v,_=f&&f[p];if(_&&_.event===j&&_.schema===b&&_.table===S&&_.filter===P)y.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=Be.errored,t==null||t(xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(xn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Be.errored,t==null||t(xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Be.joined&&t===jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Xc(this,qt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xc(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=qt;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var w,x,y;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((y=(x=g.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var w,x,y,p,v,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,S=(w=g.filter)===null||w===void 0?void 0:w.event;return b&&((x=n.ids)===null||x===void 0?void 0:x.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(v=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:x,table:y,commit_timestamp:p,type:v,errors:j}=w;f=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:p,eventType:v,new:{},old:{},errors:j}),this._getPayloadRecords(w))}g.callback(f,r)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&jf.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qt.close,{},t)}_onError(t){this._on(qt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Fp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Fp(t.columns,t.old_record)),n}}const Vp=()=>{},nT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rT{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vp,this.ref=0,this.logger=Vp,this.conn=null,this.sendBuffer=[],this.serializer=new QP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Da(()=>Promise.resolve().then(()=>Ma),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${zd.websocket}`,this.httpEndpoint=qy(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=HP),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection(),setTimeout(()=>{this.setAuth().catch(t=>{this.log("error","error setting auth",t)})},0)}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KP}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hi.connecting:return Lr.Connecting;case Hi.open:return Lr.Open;case Hi.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new jf(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:GP};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(qt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(qP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:a,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(qt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([nT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class bf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sT extends bf{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $d extends bf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var iT=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Qy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Da(()=>Promise.resolve().then(()=>Ma),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},aT=()=>iT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Da(()=>Promise.resolve().then(()=>Ma),void 0)).Response:Response}),Ud=e=>{if(Array.isArray(e))return e.map(n=>Ud(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Ud(r)}),t},oT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ls=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Jc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lT=(e,t,n)=>ls(void 0,void 0,void 0,function*(){const r=yield aT();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new sT(Jc(i),a,o))}).catch(i=>{t(new $d(Jc(i),i))}):t(new $d(Jc(e),e))}),cT=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(oT(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function za(e,t,n,r,i,a){return ls(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,cT(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>lT(c,l,r))})})}function bl(e,t,n,r){return ls(this,void 0,void 0,function*(){return za(e,"GET",t,n,r)})}function vn(e,t,n,r,i){return ls(this,void 0,void 0,function*(){return za(e,"POST",t,r,i,n)})}function Vd(e,t,n,r,i){return ls(this,void 0,void 0,function*(){return za(e,"PUT",t,r,i,n)})}function uT(e,t,n,r){return ls(this,void 0,void 0,function*(){return za(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Yy(e,t,n,r,i){return ls(this,void 0,void 0,function*(){return za(e,"DELETE",t,r,i,n)})}var ct=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const dT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hT{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Qy(i)}uploadOrUpdate(t,n,r,i){return ct(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Bp),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?Vd:vn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if($e(a))return{data:null,error:a};throw a}})}upload(t,n,r){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ct(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Bp.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Vd(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if($e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ct(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new bf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}update(t,n,r){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ct(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if($e(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if($e(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ct(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield vn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if($e(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ct(this,void 0,void 0,function*(){try{const i=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if($e(i))return{data:null,error:i};throw i}})}download(t,n){return ct(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield bl(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if($e(l))return{data:null,error:l};throw l}})}info(t){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield bl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ud(r),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}exists(t){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield uT(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if($e(r)&&r instanceof $d){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}list(t,n,r){return ct(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},dT),n),{prefix:t||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if($e(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const fT="2.10.1",mT={"X-Client-Info":`storage-js/${fT}`};var ms=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class pT{constructor(t,n={},r,i){const a=new URL(t);if(i!=null&&i.useNewHostname){const o=/supabase\.(co|in|red)$/.test(a.hostname),l="/storage";o&&!a.hostname.includes("storage.supabase.")&&a.pathname.startsWith(l)&&(a.pathname=a.pathname.substring(l.length),a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},mT),n),this.fetch=Qy(r)}listBuckets(){return ms(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if($e(t))return{data:null,error:t};throw t}})}getBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ms(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ms(this,void 0,void 0,function*(){try{return{data:yield Vd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}}class gT extends pT{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new hT(this.url,this.headers,t,this.fetch)}}const xT="2.30.0",vT={"X-Client-Info":`supabase-js/${xT}`};var Bd={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Je<"u"&&Je,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(o){var l=typeof a<"u"&&a||typeof self<"u"&&self||typeof Je<"u"&&Je||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(C){return C&&DataView.prototype.isPrototypeOf(C)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(C){return C&&d.indexOf(Object.prototype.toString.call(C))>-1};function f(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function g(C){return typeof C!="string"&&(C=String(C)),C}function w(C){var E={next:function(){var B=C.shift();return{done:B===void 0,value:B}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function x(C){this.map={},C instanceof x?C.forEach(function(E,B){this.append(B,E)},this):Array.isArray(C)?C.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(E){this.append(E,C[E])},this)}x.prototype.append=function(C,E){C=f(C),E=g(E);var B=this.map[C];this.map[C]=B?B+", "+E:E},x.prototype.delete=function(C){delete this.map[f(C)]},x.prototype.get=function(C){return C=f(C),this.has(C)?this.map[C]:null},x.prototype.has=function(C){return this.map.hasOwnProperty(f(C))},x.prototype.set=function(C,E){this.map[f(C)]=g(E)},x.prototype.forEach=function(C,E){for(var B in this.map)this.map.hasOwnProperty(B)&&C.call(E,this.map[B],B,this)},x.prototype.keys=function(){var C=[];return this.forEach(function(E,B){C.push(B)}),w(C)},x.prototype.values=function(){var C=[];return this.forEach(function(E){C.push(E)}),w(C)},x.prototype.entries=function(){var C=[];return this.forEach(function(E,B){C.push([B,E])}),w(C)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function y(C){if(!C._noBody){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}}function p(C){return new Promise(function(E,B){C.onload=function(){E(C.result)},C.onerror=function(){B(C.error)}})}function v(C){var E=new FileReader,B=p(E);return E.readAsArrayBuffer(C),B}function j(C){var E=new FileReader,B=p(E),A=/charset=([A-Za-z0-9_-]+)/.exec(C.type),L=A?A[1]:"utf-8";return E.readAsText(C,L),B}function b(C){for(var E=new Uint8Array(C),B=new Array(E.length),A=0;A<E.length;A++)B[A]=String.fromCharCode(E[A]);return B.join("")}function S(C){if(C.slice)return C.slice(0);var E=new Uint8Array(C.byteLength);return E.set(new Uint8Array(C)),E.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:c.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:c.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():c.arrayBuffer&&c.blob&&u(C)?(this._bodyArrayBuffer=S(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||h(C))?this._bodyArrayBuffer=S(C):this._bodyText=C=Object.prototype.toString.call(C):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=y(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var C=y(this);if(C)return C;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(C){var E=C.toUpperCase();return _.indexOf(E)>-1?E:C}function k(C,E){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var B=E.body;if(C instanceof k){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,E.headers||(this.headers=new x(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!B&&C._bodyInit!=null&&(B=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new x(E.headers)),this.method=N(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||function(){if("AbortController"in l){var M=new AbortController;return M.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(B),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var A=/([?&])_=[^&]*/;if(A.test(this.url))this.url=this.url.replace(A,"$1_="+new Date().getTime());else{var L=/\?/;this.url+=(L.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function O(C){var E=new FormData;return C.trim().split("&").forEach(function(B){if(B){var A=B.split("="),L=A.shift().replace(/\+/g," "),M=A.join("=").replace(/\+/g," ");E.append(decodeURIComponent(L),decodeURIComponent(M))}}),E}function H(C){var E=new x,B=C.replace(/\r?\n[\t ]+/g," ");return B.split("\r").map(function(A){return A.indexOf(`
`)===0?A.substr(1,A.length):A}).forEach(function(A){var L=A.split(":"),M=L.shift().trim();if(M){var W=L.join(":").trim();try{E.append(M,W)}catch(Z){console.warn("Response "+Z.message)}}}),E}P.call(k.prototype);function D(C,E){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new x(E.headers),this.url=E.url||"",this._initBody(C)}P.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},D.error=function(){var C=new D(null,{status:200,statusText:""});return C.ok=!1,C.status=0,C.type="error",C};var ne=[301,302,303,307,308];D.redirect=function(C,E){if(ne.indexOf(E)===-1)throw new RangeError("Invalid status code");return new D(null,{status:E,headers:{location:C}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(E,B){this.message=E,this.name=B;var A=Error(E);this.stack=A.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function R(C,E){return new Promise(function(B,A){var L=new k(C,E);if(L.signal&&L.signal.aborted)return A(new o.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function W(){M.abort()}M.onload=function(){var ie={statusText:M.statusText,headers:H(M.getAllResponseHeaders()||"")};L.url.indexOf("file://")===0&&(M.status<200||M.status>599)?ie.status=200:ie.status=M.status,ie.url="responseURL"in M?M.responseURL:ie.headers.get("X-Request-URL");var lt="response"in M?M.response:M.responseText;setTimeout(function(){B(new D(lt,ie))},0)},M.onerror=function(){setTimeout(function(){A(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){A(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){A(new o.DOMException("Aborted","AbortError"))},0)};function Z(ie){try{return ie===""&&l.location.href?l.location.href:ie}catch{return ie}}if(M.open(L.method,Z(L.url),!0),L.credentials==="include"?M.withCredentials=!0:L.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(c.blob?M.responseType="blob":c.arrayBuffer&&(M.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof x||l.Headers&&E.headers instanceof l.Headers)){var ce=[];Object.getOwnPropertyNames(E.headers).forEach(function(ie){ce.push(f(ie)),M.setRequestHeader(ie,g(E.headers[ie]))}),L.headers.forEach(function(ie,lt){ce.indexOf(lt)===-1&&M.setRequestHeader(lt,ie)})}else L.headers.forEach(function(ie,lt){M.setRequestHeader(lt,ie)});L.signal&&(L.signal.addEventListener("abort",W),M.onreadystatechange=function(){M.readyState===4&&L.signal.removeEventListener("abort",W)}),M.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return R.polyfill=!0,l.fetch||(l.fetch=R,l.Headers=x,l.Request=k,l.Response=D),o.Headers=x,o.Request=k,o.Response=D,o.fetch=R,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(Bd,Bd.exports);var Nf=Bd.exports;const Xy=rs(Nf),yT=mx({__proto__:null,default:Xy},[Nf]);var wT=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const jT=e=>{let t;return e?t=e:typeof fetch>"u"?t=Xy:t=fetch,(...n)=>t(...n)},bT=()=>typeof Headers>"u"?Nf.Headers:Headers,NT=(e,t,n)=>{const r=jT(n),i=bT();return(a,o)=>wT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};function ST(e){return e.replace(/\/$/,"")}function CT(e,t){const{db:n,auth:r,realtime:i,global:a}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),a)}}function _T(e){return Math.round(Date.now()/1e3)+e}function PT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const pn=()=>typeof document<"u",Er={tested:!1,writable:!1},$o=()=>{if(!pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Er.tested)return Er.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Er.tested=!0,Er.writable=!0}catch{Er.tested=!0,Er.writable=!1}return Er.writable};function ut(e,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const Jy=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...n)=>await(await Da(()=>Promise.resolve().then(()=>yT),void 0)).fetch(...n):t=fetch,(...n)=>t(...n)},TT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ni=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},mo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zc=async(e,t)=>{await e.removeItem(t)};function ET(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,a,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|l>>4,i=(l&15)<<4|c>>2,a=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class sc{constructor(){this.promise=new sc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}sc.promiseConstructor=Promise;function Hp(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(ET(r))}function kT(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function AT(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function RT(e){return("0"+e.toString(16)).substr(-2)}function po(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,RT).join("")}async function IT(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function OT(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await IT(e);return OT(t)}const DT="__stack_guard__",LT="__",MT=/__stack_guard__([a-zA-Z0-9_-]+)__/;let Wp=!1,Sf;function Hd(e){var t,n;Sf();let r;try{throw new Error}catch(a){r=a}const i=(n=(t=r.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&n!==void 0?n:[];for(let a=0;a<i.length;a+=1){const l=i[a].match(MT);if(l&&l[1]===e)return!0}return!1}async function Wd(e,t){await Sf();const n=`${DT}${e}${LT}`;return await{[n]:async()=>await t()}[n]()}Sf=async()=>{Wp||(Wp=!0,await Wd("ENV_CHECK",async()=>{const e=Hd("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class Cf extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zT extends Cf{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function FT(e){return re(e)&&e.name==="AuthApiError"}class Zy extends Cf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ci extends Cf{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ps extends ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class eu extends ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class xo extends ci{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class mn extends ci{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tu extends ci{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gd extends ci{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function Gp(e){return re(e)&&e.name==="AuthRetryableFetchError"}var $T=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ai=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UT=[502,503,504];async function Kp(e){if(!TT(e))throw new Gd(Ai(e),0);if(UT.includes(e.status))throw new Gd(Ai(e),e.status);let t;try{t=await e.json()}catch(n){throw new Zy(Ai(n),n)}throw new zT(Ai(t),e.status||500)}const VT=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ae(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await BT(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function BT(e,t,n,r,i,a){const o=VT(t,r,i,a);let l;try{l=await e(n,o)}catch(c){throw console.error(c),new Gd(Ai(c),0)}if(l.ok||await Kp(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Kp(c)}}function Bn(e){var t;let n=null;KT(e)&&(n=Object.assign({},e),n.expires_at=_T(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Mr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function HT(e){return{data:e,error:null}}function WT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=$T(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function GT(e){return e}function KT(e){return e.access_token&&e.refresh_token&&e.expires_in}var qT=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class QT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Jy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=qT(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:WT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(re(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:GT});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(w.split(";")[1].split("=")[1]);u[`${y}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Mr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}}const YT="2.43.1",XT="http://localhost:9999",JT="supabase.auth.token",ZT={"X-Client-Info":`gotrue-js/${YT}`},qp=10,Qp={getItem:e=>$o()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$o()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$o()&&globalThis.localStorage.removeItem(e)}};function eE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}eE();const tE={url:XT,storageKey:JT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZT,flowType:"implicit",debug:!1},vo=30*1e3,Yp=3;class Na{constructor(t){var n;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=Na.nextInstanceID,Na.nextInstanceID+=1,this.instanceID>0&&pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},tE),t);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||Qp,this.admin=new QT({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Jy(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===Qp&&!$o()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=Wd("_initialize",async()=>{try{const t=pn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromUrl(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:i,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return re(t)?{error:t}:{error:new Zy("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var n,r,i;try{await this._removeSession();let a;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,w=null;if(this.flowType==="pkce"){const x=po();await Ni(this.storage,`${this.storageKey}-code-verifier`,x),g=await go(x),w=x===g?"plain":"s256"}a=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:w},xform:Bn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Bn})}else throw new xo("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bn})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bn})}else throw new xo("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new eu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:i})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){const n=await mo(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:i}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Bn});return await Zc(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new eu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:i})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Bn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new eu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;if(this.flowType==="pkce"){const f=po();await Ni(this.storage,`${this.storageKey}-code-verifier`,f),u=await go(f),d=f===u?"plain":"s256"}const{error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xo("You must provide either an email or phone number.")}catch(l){if(re(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:i,error:a}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:Bn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{return await this._removeSession(),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:HT})}catch(a){if(re(a))return{data:null,error:a};throw a}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ps;const{error:i}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new xo("You must provide either an email or phone number and a type")}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await Wd("_useSession",async()=>{const n=await this.__loadSession();return await t(n)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!Hd("_useSession"))throw new Error("Please use #_useSession()");Hd("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const a=await mo(this.storage,this.storageKey);this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n)return{data:{session:t},error:null};const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async n=>{var r,i;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0}return await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mr})})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ps;const o=i.session,{data:l,error:c}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:t,jwt:o.access_token,xform:Mr});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Hp(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ps;const n=Date.now()/1e3;let r=n,i=!0,a=null;const o=Hp(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(re(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ps;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromUrl(t){try{if(!pn())throw new mn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new mn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new tu("Not a valid PKCE flow url.");if(t){const y=ut("code");if(!y)throw new tu("No code detected.");const{data:p,error:v}=await this.exchangeCodeForSession(y);if(v)throw v;if(!p.session)throw new tu("No session detected.");let j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}const n=ut("error_description");if(n){const y=ut("error_code");if(!y)throw new mn("No error_code detected.");const p=ut("error");throw p?new mn(n,{error:p,code:y}):new mn("No error detected.")}const r=ut("provider_token"),i=ut("provider_refresh_token"),a=ut("access_token");if(!a)throw new mn("No access_token detected.");const o=ut("expires_in");if(!o)throw new mn("No expires_in detected.");const l=ut("refresh_token");if(!l)throw new mn("No refresh_token detected.");const c=ut("token_type");if(!c)throw new mn("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:f}=await this.getUser(a);if(f)throw f;const g=h.user,w={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:parseInt(o),expires_at:d,refresh_token:l,token_type:c,user:g},x=ut("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:w,redirectType:x},error:null}}catch(n){if(re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){return pn()&&(!!ut("access_token")||!!ut("error_description"))}async _isPKCEFlow(){const t=await mo(this.storage,`${this.storageKey}-code-verifier`);return!!ut("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(FT(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zc(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=PT(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),this._emitInitialSession(n),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;if(this.flowType==="pkce"){const a=po();await Ni(this.storage,`${this.storageKey}-code-verifier`,a),r=await go(a),i=a===r?"plain":"s256"}try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(re(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await AT(async i=>(await kT(i*200),this._debug(n,"refreshing attempt",i),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bn})),(i,a,o)=>o&&o.error&&Gp(o.error)&&Date.now()+(i+1)*200-r<vo)}catch(r){if(this._debug(n,"error",r),re(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await mo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+qp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${qp}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Gp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new sc;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ps;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),re(a)){const o={session:null,error:a};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),Ni(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Zc(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vo}ms, refresh threshold is ${Yp} ticks`),i<=Yp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const i=po();await Ni(this.storage,`${this.storageKey}-code-verifier`,i);const a=await go(i),o=i===a?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",a,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _verify(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _challenge(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}})}}Na.nextInstanceID=0;class nE extends Na{constructor(t){super(t)}}var rE=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const sE={headers:vT},iE={schema:"public"},aE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oE={};class lE{constructor(t,n,r){var i,a,o,l,c,u,d,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=ST(t);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:iE,realtime:oE,auth:Object.assign(Object.assign({},aE),{storageKey:g}),global:sE},x=CT(r??{},w);this.storageKey=(a=(i=x.auth)===null||i===void 0?void 0:i.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=(o=x.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=x.auth)!==null&&c!==void 0?c:{},this.headers,(u=x.global)===null||u===void 0?void 0:u.fetch),this.fetch=NT(n,this._getAccessToken.bind(this),(d=x.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new VP(`${f}/rest/v1`,{headers:this.headers,schema:(h=x.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new vP(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gT(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return rE(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nE({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,debug:l,fetch:u})}_initRealtimeClient(t){return new rT(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cE=(e,t,n)=>new lE(e,t,n),uE="https://vwswkexklduofykaucql.supabase.co",dE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ3c3drZXhrbGR1b2Z5a2F1Y3FsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNzI0NjAsImV4cCI6MjA2NzY0ODQ2MH0.C0oHcfcYLpyeR9AQqj6zW-ZDXuco6A1RkmBzE-2sffg",J=cE(uE,dE),ew=m.createContext(),tt=()=>{const e=m.useContext(ew);if(!e)throw new Error("useAuth deve essere usato all'interno di AuthProvider");return e},hE=({children:e})=>{const[t,n]=m.useState(null),[r,i]=m.useState(null),[a,o]=m.useState(!0),l=m.useCallback(async x=>{if(x){const{data:y,error:p}=await J.from("profiles").select("*").eq("id",x.id).single();return p?(console.error("Error fetching profile:",p),null):y}return null},[]);m.useEffect(()=>{(async()=>{const{data:{session:p}}=await J.auth.getSession();if(n((p==null?void 0:p.user)??null),p!=null&&p.user){const v=await l(p.user);i(v)}o(!1)})();const{data:y}=J.auth.onAuthStateChange(async(p,v)=>{if(n((v==null?void 0:v.user)??null),v!=null&&v.user){const j=await l(v.user);i(j)}else i(null);o(!1)});return()=>{y.subscription.unsubscribe()}},[l]);const c=async(x,y)=>{const{error:p}=await J.auth.signInWithPassword({email:x,password:y});return{success:!p,error:p==null?void 0:p.message}},u=async({name:x,email:y,password:p})=>{const{data:v,error:j}=await J.auth.signUp({email:y,password:p,options:{data:{full_name:x},emailRedirectTo:`${window.location.origin}/dashboard`}});return{success:!j,error:j==null?void 0:j.message}},d=async()=>{await J.auth.signOut(),n(null),i(null)},h=async x=>{if(!t)return{error:"User not logged in"};const{data:y,error:p}=await J.from("profiles").update({...x,updated_at:new Date}).eq("id",t.id).select().single();return p?{error:p.message}:(i(y),{success:!0})},w={user:t,profile:r,loading:a,login:c,register:u,logout:d,updateProfile:h,upgradeToPremium:async()=>h({is_premium:!0}),sendPasswordResetEmail:async x=>{const{error:y}=await J.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/password-reset`});return{success:!y,error:y==null?void 0:y.message}}};return s.jsx(ew.Provider,{value:w,children:e})},Si=({children:e})=>{const{user:t,loading:n}=tt();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):t?e:s.jsx(L0,{to:"/login",replace:!0})},tw=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ic=m.createContext({}),ac=m.createContext(null),oc=typeof document<"u",_f=oc?m.useLayoutEffect:m.useEffect,nw=m.createContext({strict:!1}),Pf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),fE="framerAppearId",rw="data-"+Pf(fE);function mE(e,t,n,r){const{visualElement:i}=m.useContext(ic),a=m.useContext(nw),o=m.useContext(ac),l=m.useContext(tw).reducedMotion,c=m.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;m.useInsertionEffect(()=>{u&&u.update(n,o)});const d=m.useRef(!!(n[rw]&&!window.HandoffComplete));return _f(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Rs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pE(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Rs(n)&&(n.current=r))},[t])}function Sa(e){return typeof e=="string"||Array.isArray(e)}function lc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ef=["initial",...Tf];function cc(e){return lc(e.animate)||Ef.some(t=>Sa(e[t]))}function sw(e){return!!(cc(e)||e.variants)}function gE(e,t){if(cc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Sa(n)?n:void 0,animate:Sa(r)?r:void 0}}return e.inherit!==!1?t:{}}function xE(e){const{initial:t,animate:n}=gE(e,m.useContext(ic));return m.useMemo(()=>({initial:t,animate:n}),[Xp(t),Xp(n)])}function Xp(e){return Array.isArray(e)?e.join(" "):e}const Jp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ca={};for(const e in Jp)Ca[e]={isEnabled:t=>Jp[e].some(n=>!!t[n])};function vE(e){for(const t in e)Ca[t]={...Ca[t],...e[t]}}const kf=m.createContext({}),iw=m.createContext({}),yE=Symbol.for("motionComponentSymbol");function wE({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&vE(e);function a(l,c){let u;const d={...m.useContext(tw),...l,layoutId:jE(l)},{isStatic:h}=d,f=xE(l),g=r(l,h);if(!h&&oc){f.visualElement=mE(i,g,d,t);const w=m.useContext(iw),x=m.useContext(nw).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,x,e,w))}return m.createElement(ic.Provider,{value:f},u&&f.visualElement?m.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,l,pE(g,f.visualElement,c),g,h,f.visualElement))}const o=m.forwardRef(a);return o[yE]=i,o}function jE({layoutId:e}){const t=m.useContext(kf).id;return t&&e!==void 0?t+"-"+e:e}function bE(e){function t(r,i={}){return wE(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const NE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Af(e){return typeof e!="string"||e.includes("-")?!1:!!(NE.indexOf(e)>-1||/[A-Z]/.test(e))}const Nl={};function SE(e){Object.assign(Nl,e)}const Fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cs=new Set(Fa);function aw(e,{layout:t,layoutId:n}){return cs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nl[e]||e==="opacity")}const bt=e=>!!(e&&e.getVelocity),CE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_E=Fa.length;function PE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let o=0;o<_E;o++){const l=Fa[o];if(e[l]!==void 0){const c=CE[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const ow=e=>t=>typeof t=="string"&&t.startsWith(e),lw=ow("--"),Kd=ow("var(--"),TE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,EE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,vr=(e,t,n)=>Math.min(Math.max(n,e),t),us={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gi={...us,transform:e=>vr(0,1,e)},yo={...us,default:1},Ki=e=>Math.round(e*1e5)/1e5,uc=/(-)?([\d]*\.?[\d])+/g,cw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $a(e){return typeof e=="string"}const Ua=e=>({test:t=>$a(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hn=Ua("deg"),un=Ua("%"),Q=Ua("px"),AE=Ua("vh"),RE=Ua("vw"),Zp={...un,parse:e=>un.parse(e)/100,transform:e=>un.transform(e*100)},eg={...us,transform:Math.round},uw={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:Hn,rotateX:Hn,rotateY:Hn,rotateZ:Hn,scale:yo,scaleX:yo,scaleY:yo,scaleZ:yo,skew:Hn,skewX:Hn,skewY:Hn,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:Gi,originX:Zp,originY:Zp,originZ:Q,zIndex:eg,fillOpacity:Gi,strokeOpacity:Gi,numOctaves:eg};function Rf(e,t,n,r){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(lw(h)){a[h]=f;continue}const g=uw[h],w=EE(f,g);if(cs.has(h)){if(c=!0,o[h]=w,!d)continue;f!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=w):i[h]=w}if(t.transform||(c||r?i.transform=PE(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;i.transformOrigin=`${h} ${f} ${g}`}}const If=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dw(e,t,n){for(const r in t)!bt(t[r])&&!aw(r,n)&&(e[r]=t[r])}function IE({transformTemplate:e},t,n){return m.useMemo(()=>{const r=If();return Rf(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function OE(e,t,n){const r=e.style||{},i={};return dw(i,r,e),Object.assign(i,IE(e,t,n)),e.transformValues?e.transformValues(i):i}function DE(e,t,n){const r={},i=OE(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const LE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||LE.has(e)}let hw=e=>!Sl(e);function ME(e){e&&(hw=t=>t.startsWith("on")?!Sl(t):e(t))}try{ME(require("@emotion/is-prop-valid").default)}catch{}function zE(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(hw(i)||n===!0&&Sl(i)||!t&&!Sl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function tg(e,t,n){return typeof e=="string"?e:Q.transform(t+n*e)}function FE(e,t,n){const r=tg(t,e.x,e.width),i=tg(n,e.y,e.height);return`${r} ${i}`}const $E={offset:"stroke-dashoffset",array:"stroke-dasharray"},UE={offset:"strokeDashoffset",array:"strokeDasharray"};function VE(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?$E:UE;e[a.offset]=Q.transform(-r);const o=Q.transform(t),l=Q.transform(n);e[a.array]=`${o} ${l}`}function Of(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(Rf(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:w,dimensions:x}=e;g.transform&&(x&&(w.transform=g.transform),delete g.transform),x&&(i!==void 0||a!==void 0||w.transform)&&(w.transformOrigin=FE(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&VE(g,o,l,c,!1)}const fw=()=>({...If(),attrs:{}}),Df=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BE(e,t,n,r){const i=m.useMemo(()=>{const a=fw();return Of(a,t,{enableHardwareAcceleration:!1},Df(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};dw(a,e.style,e),i.style={...a,...i.style}}return i}function HE(e=!1){return(n,r,i,{latestValues:a},o)=>{const c=(Af(n)?BE:DE)(r,a,o,n),d={...zE(r,typeof n=="string",e),...c,ref:i},{children:h}=r,f=m.useMemo(()=>bt(h)?h.get():h,[h]);return m.createElement(n,{...d,children:f})}}function mw(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const pw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gw(e,t,n,r){mw(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(pw.has(i)?i:Pf(i),t.attrs[i])}function Lf(e,t){const{style:n}=e,r={};for(const i in n)(bt(n[i])||t.style&&bt(t.style[i])||aw(i,e))&&(r[i]=n[i]);return r}function xw(e,t){const n=Lf(e,t);for(const r in e)if(bt(e[r])||bt(t[r])){const i=Fa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function Mf(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function vw(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Cl=e=>Array.isArray(e),WE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),GE=e=>Cl(e)?e[e.length-1]||0:e;function Uo(e){const t=bt(e)?e.get():e;return WE(t)?t.toValue():t}function KE({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const o={latestValues:qE(r,i,a,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const yw=e=>(t,n)=>{const r=m.useContext(ic),i=m.useContext(ac),a=()=>KE(e,t,r,i);return n?a():vw(a)};function qE(e,t,n,r){const i={},a=r(e,{});for(const f in a)i[f]=Uo(a[f]);let{initial:o,animate:l}=e;const c=cc(e),u=sw(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!lc(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const w=Mf(e,g);if(!w)return;const{transitionEnd:x,transition:y,...p}=w;for(const v in p){let j=p[v];if(Array.isArray(j)){const b=d?j.length-1:0;j=j[b]}j!==null&&(i[v]=j)}for(const v in x)i[v]=x[v]}),i}const Re=e=>e;class ng{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function QE(e){let t=new ng,n=new ng,r=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&i,f=h?t:n;return u&&o.add(c),f.add(c)&&h&&i&&(r=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const wo=["prepare","read","update","preRender","render","postRender"],YE=40;function XE(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=wo.reduce((h,f)=>(h[f]=QE(()=>n=!0),h),{}),o=h=>a[h].process(i),l=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,YE),1),i.timestamp=h,i.isProcessing=!0,wo.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,i.isProcessing||e(l)};return{schedule:wo.reduce((h,f)=>{const g=a[f];return h[f]=(w,x=!1,y=!1)=>(n||c(),g.schedule(w,x,y)),h},{}),cancel:h=>wo.forEach(f=>a[f].cancel(h)),state:i,steps:a}}const{schedule:pe,cancel:zn,state:Ye,steps:nu}=XE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Re,!0),JE={useVisualState:yw({scrapeMotionValuesFromProps:xw,createRenderState:fw,onMount:(e,t,{renderState:n,latestValues:r})=>{pe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),pe.render(()=>{Of(n,r,{enableHardwareAcceleration:!1},Df(t.tagName),e.transformTemplate),gw(t,n)})}})},ZE={useVisualState:yw({scrapeMotionValuesFromProps:Lf,createRenderState:If})};function ek(e,{forwardMotionProps:t=!1},n,r){return{...Af(e)?JE:ZE,preloadedFeatures:n,useRender:HE(t),createVisualElement:r,Component:e}}function bn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ww=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function dc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const tk=e=>t=>ww(t)&&e(t,dc(t));function An(e,t,n,r){return bn(e,t,tk(n),r)}const nk=(e,t)=>n=>t(e(n)),fr=(...e)=>e.reduce(nk);function jw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const rg=jw("dragHorizontal"),sg=jw("dragVertical");function bw(e){let t=!1;if(e==="y")t=sg();else if(e==="x")t=rg();else{const n=rg(),r=sg();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Nw(){const e=bw(!0);return e?(e(),!1):!0}class _r{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ig(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||Nw())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&pe.update(()=>l[r](a,o))};return An(e.current,n,i,{passive:!e.getProps()[r]})}class rk extends _r{mount(){this.unmount=fr(ig(this.node,!0),ig(this.node,!1))}unmount(){}}class sk extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fr(bn(this.node.current,"focus",()=>this.onFocus()),bn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Sw=(e,t)=>t?e===t?!0:Sw(e,t.parentElement):!1;function ru(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,dc(n))}class ik extends _r{constructor(){super(...arguments),this.removeStartListeners=Re,this.removeEndListeners=Re,this.removeAccessibleListeners=Re,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=An(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();pe.update(()=>{!h&&!Sw(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=An(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=fr(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||ru("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&pe.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=bn(this.node.current,"keyup",o),ru("down",(l,c)=>{this.startPress(l,c)})},n=bn(this.node.current,"keydown",t),r=()=>{this.isPressing&&ru("cancel",(a,o)=>this.cancelPress(a,o))},i=bn(this.node.current,"blur",r);this.removeAccessibleListeners=fr(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&pe.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Nw()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&pe.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=An(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=bn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qd=new WeakMap,su=new WeakMap,ak=e=>{const t=qd.get(e.target);t&&t(e)},ok=e=>{e.forEach(ak)};function lk({root:e,...t}){const n=e||document;su.has(n)||su.set(n,{});const r=su.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(ok,{root:e,...t})),r[i]}function ck(e,t,n){const r=lk(t);return qd.set(e,n),r.observe(e),()=>{qd.delete(e),r.unobserve(e)}}const uk={some:0,all:1};class dk extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uk[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return ck(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hk(t,n))&&this.startObserver()}unmount(){}}function hk({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const fk={inView:{Feature:dk},tap:{Feature:ik},focus:{Feature:sk},hover:{Feature:rk}};function Cw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function mk(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function pk(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function hc(e,t,n){const r=e.getProps();return Mf(r,t,n!==void 0?n:r.custom,mk(e),pk(e))}let gk=Re,zf=Re;const mr=e=>e*1e3,Rn=e=>e/1e3,xk={current:!1},_w=e=>Array.isArray(e)&&typeof e[0]=="number";function Pw(e){return!!(!e||typeof e=="string"&&Tw[e]||_w(e)||Array.isArray(e)&&e.every(Pw))}const Ri=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Tw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ri([0,.65,.55,1]),circOut:Ri([.55,0,1,.45]),backIn:Ri([.31,.01,.66,-.59]),backOut:Ri([.33,1.53,.69,.99])};function Ew(e){if(e)return _w(e)?Ri(e):Array.isArray(e)?e.map(Ew):Tw[e]}function vk(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=Ew(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function yk(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const kw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,wk=1e-7,jk=12;function bk(e,t,n,r,i){let a,o,l=0;do o=t+(n-t)/2,a=kw(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>wk&&++l<jk);return o}function Va(e,t,n,r){if(e===t&&n===r)return Re;const i=a=>bk(a,0,1,e,n);return a=>a===0||a===1?a:kw(i(a),t,r)}const Nk=Va(.42,0,1,1),Sk=Va(0,0,.58,1),Aw=Va(.42,0,.58,1),Ck=e=>Array.isArray(e)&&typeof e[0]!="number",Rw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Iw=e=>t=>1-e(1-t),Ff=e=>1-Math.sin(Math.acos(e)),Ow=Iw(Ff),_k=Rw(Ff),Dw=Va(.33,1.53,.69,.99),$f=Iw(Dw),Pk=Rw($f),Tk=e=>(e*=2)<1?.5*$f(e):.5*(2-Math.pow(2,-10*(e-1))),Ek={linear:Re,easeIn:Nk,easeInOut:Aw,easeOut:Sk,circIn:Ff,circInOut:_k,circOut:Ow,backIn:$f,backInOut:Pk,backOut:Dw,anticipate:Tk},ag=e=>{if(Array.isArray(e)){zf(e.length===4);const[t,n,r,i]=e;return Va(t,n,r,i)}else if(typeof e=="string")return Ek[e];return e},Uf=(e,t)=>n=>!!($a(n)&&kE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Lw=(e,t,n)=>r=>{if(!$a(r))return r;const[i,a,o,l]=r.match(uc);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},kk=e=>vr(0,255,e),iu={...us,transform:e=>Math.round(kk(e))},Vr={test:Uf("rgb","red"),parse:Lw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+iu.transform(e)+", "+iu.transform(t)+", "+iu.transform(n)+", "+Ki(Gi.transform(r))+")"};function Ak(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qd={test:Uf("#"),parse:Ak,transform:Vr.transform},Is={test:Uf("hsl","hue"),parse:Lw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+un.transform(Ki(t))+", "+un.transform(Ki(n))+", "+Ki(Gi.transform(r))+")"},rt={test:e=>Vr.test(e)||Qd.test(e)||Is.test(e),parse:e=>Vr.test(e)?Vr.parse(e):Is.test(e)?Is.parse(e):Qd.parse(e),transform:e=>$a(e)?e:e.hasOwnProperty("red")?Vr.transform(e):Is.transform(e)},Pe=(e,t,n)=>-n*e+n*t+e;function au(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Rk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=au(c,l,e+1/3),a=au(c,l,e),o=au(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const ou=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Ik=[Qd,Vr,Is],Ok=e=>Ik.find(t=>t.test(e));function og(e){const t=Ok(e);let n=t.parse(e);return t===Is&&(n=Rk(n)),n}const Mw=(e,t)=>{const n=og(e),r=og(t),i={...n};return a=>(i.red=ou(n.red,r.red,a),i.green=ou(n.green,r.green,a),i.blue=ou(n.blue,r.blue,a),i.alpha=Pe(n.alpha,r.alpha,a),Vr.transform(i))};function Dk(e){var t,n;return isNaN(e)&&$a(e)&&(((t=e.match(uc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(cw))===null||n===void 0?void 0:n.length)||0)>0}const zw={regex:TE,countKey:"Vars",token:"${v}",parse:Re},Fw={regex:cw,countKey:"Colors",token:"${c}",parse:rt.parse},$w={regex:uc,countKey:"Numbers",token:"${n}",parse:us.parse};function lu(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function _l(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&lu(n,zw),lu(n,Fw),lu(n,$w),n}function Uw(e){return _l(e).values}function Vw(e){const{values:t,numColors:n,numVars:r,tokenised:i}=_l(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<r?l=l.replace(zw.token,o[c]):c<r+n?l=l.replace(Fw.token,rt.transform(o[c])):l=l.replace($w.token,Ki(o[c]));return l}}const Lk=e=>typeof e=="number"?0:e;function Mk(e){const t=Uw(e);return Vw(e)(t.map(Lk))}const yr={test:Dk,parse:Uw,createTransformer:Vw,getAnimatableNone:Mk},Bw=(e,t)=>n=>`${n>0?t:e}`;function Hw(e,t){return typeof e=="number"?n=>Pe(e,t,n):rt.test(e)?Mw(e,t):e.startsWith("var(")?Bw(e,t):Gw(e,t)}const Ww=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,o)=>Hw(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}},zk=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Hw(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},Gw=(e,t)=>{const n=yr.createTransformer(t),r=_l(e),i=_l(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?fr(Ww(r.values,i.values),n):Bw(e,t)},_a=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},lg=(e,t)=>n=>Pe(e,t,n);function Fk(e){return typeof e=="number"?lg:typeof e=="string"?rt.test(e)?Mw:Gw:Array.isArray(e)?Ww:typeof e=="object"?zk:lg}function $k(e,t,n){const r=[],i=n||Fk(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Re:t;l=fr(c,l)}r.push(l)}return r}function Kw(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(zf(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=$k(t,r,i),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=_a(e[d],e[d+1],u);return o[d](h)};return n?u=>c(vr(e[0],e[a-1],u)):c}function Uk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=_a(0,t,r);e.push(Pe(n,1,i))}}function Vk(e){const t=[0];return Uk(t,e.length-1),t}function Bk(e,t){return e.map(n=>n*t)}function Hk(e,t){return e.map(()=>t||Aw).splice(0,e.length-1)}function Pl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Ck(r)?r.map(ag):ag(r),a={done:!1,value:t[0]},o=Bk(n&&n.length===t.length?n:Vk(t),e),l=Kw(o,t,{ease:Array.isArray(i)?i:Hk(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function qw(e,t){return t?e*(1e3/t):0}const Wk=5;function Qw(e,t,n){const r=Math.max(t-Wk,0);return qw(n-e(r),t-r)}const cu=.001,Gk=.01,cg=10,Kk=.05,qk=1;function Qk({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;gk(e<=mr(cg));let o=1-t;o=vr(Kk,qk,o),e=vr(Gk,cg,Rn(e)),o<1?(i=u=>{const d=u*o,h=d*e,f=d-n,g=Yd(u,o),w=Math.exp(-h);return cu-f/g*w},a=u=>{const h=u*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-h),x=Yd(Math.pow(u,2),o);return(-i(u)+cu>0?-1:1)*((f-g)*w)/x}):(i=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-cu+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=Xk(i,a,l);if(e=mr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Yk=12;function Xk(e,t,n){let r=n;for(let i=1;i<Yk;i++)r=r-e(r)/t(r);return r}function Yd(e,t){return e*Math.sqrt(1-t*t)}const Jk=["duration","bounce"],Zk=["stiffness","damping","mass"];function ug(e,t){return t.some(n=>e[n]!==void 0)}function e4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ug(e,Zk)&&ug(e,Jk)){const n=Qk(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Yw({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=e4({...r,velocity:-Rn(r.velocity||0)}),g=h||0,w=c/(2*Math.sqrt(l*u)),x=a-i,y=Rn(Math.sqrt(l/u)),p=Math.abs(x)<5;n||(n=p?.01:2),t||(t=p?.005:.5);let v;if(w<1){const j=Yd(y,w);v=b=>{const S=Math.exp(-w*y*b);return a-S*((g+w*y*x)/j*Math.sin(j*b)+x*Math.cos(j*b))}}else if(w===1)v=j=>a-Math.exp(-y*j)*(x+(g+y*x)*j);else{const j=y*Math.sqrt(w*w-1);v=b=>{const S=Math.exp(-w*y*b),P=Math.min(j*b,300);return a-S*((g+w*y*x)*Math.sinh(P)+j*x*Math.cosh(P))/j}}return{calculatedDuration:f&&d||null,next:j=>{const b=v(j);if(f)o.done=j>=d;else{let S=g;j!==0&&(w<1?S=Qw(v,j,b):S=0);const P=Math.abs(S)<=n,_=Math.abs(a-b)<=t;o.done=P&&_}return o.value=o.done?a:b,o}}}function dg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=N=>l!==void 0&&N<l||c!==void 0&&N>c,w=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let x=n*t;const y=h+x,p=o===void 0?y:o(y);p!==y&&(x=p-h);const v=N=>-x*Math.exp(-N/r),j=N=>p+v(N),b=N=>{const k=v(N),O=j(N);f.done=Math.abs(k)<=u,f.value=f.done?p:O};let S,P;const _=N=>{g(f.value)&&(S=N,P=Yw({keyframes:[f.value,w(f.value)],velocity:Qw(j,N,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:N=>{let k=!1;return!P&&S===void 0&&(k=!0,b(N),_(N)),S!==void 0&&N>S?P.next(N-S):(!k&&b(N),f)}}}const t4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>pe.update(t,!0),stop:()=>zn(t),now:()=>Ye.isProcessing?Ye.timestamp:performance.now()}},hg=2e4;function fg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<hg;)t+=n,r=e.next(t);return t>=hg?1/0:t}const n4={decay:dg,inertia:dg,tween:Pl,keyframes:Pl,spring:Yw};function Tl({autoplay:e=!0,delay:t=0,driver:n=t4,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let g=1,w=!1,x,y;const p=()=>{y=new Promise(W=>{x=W})};p();let v;const j=n4[i]||Pl;let b;j!==Pl&&typeof r[0]!="number"&&(b=Kw([0,100],r,{clamp:!1}),r=[0,100]);const S=j({...f,keyframes:r});let P;l==="mirror"&&(P=j({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let _="idle",N=null,k=null,O=null;S.calculatedDuration===null&&a&&(S.calculatedDuration=fg(S));const{calculatedDuration:H}=S;let D=1/0,ne=1/0;H!==null&&(D=H+o,ne=D*(a+1)-o);let R=0;const C=W=>{if(k===null)return;g>0&&(k=Math.min(k,W)),g<0&&(k=Math.min(W-ne/g,k)),N!==null?R=N:R=Math.round(W-k)*g;const Z=R-t*(g>=0?1:-1),ce=g>=0?Z<0:Z>ne;R=Math.max(Z,0),_==="finished"&&N===null&&(R=ne);let ie=R,lt=S;if(a){const vc=Math.min(R,ne)/D;let Wa=Math.floor(vc),Tr=vc%1;!Tr&&vc>=1&&(Tr=1),Tr===1&&Wa--,Wa=Math.min(Wa,a+1),!!(Wa%2)&&(l==="reverse"?(Tr=1-Tr,o&&(Tr-=o/D)):l==="mirror"&&(lt=P)),ie=vr(0,1,Tr)*D}const Nt=ce?{done:!1,value:r[0]}:lt.next(ie);b&&(Nt.value=b(Nt.value));let{done:Pr}=Nt;!ce&&H!==null&&(Pr=g>=0?R>=ne:R<=0);const Jb=N===null&&(_==="finished"||_==="running"&&Pr);return h&&h(Nt.value),Jb&&A(),Nt},E=()=>{v&&v.stop(),v=void 0},B=()=>{_="idle",E(),x(),p(),k=O=null},A=()=>{_="finished",d&&d(),E(),x()},L=()=>{if(w)return;v||(v=n(C));const W=v.now();c&&c(),N!==null?k=W-N:(!k||_==="finished")&&(k=W),_==="finished"&&p(),O=k,N=null,_="running",v.start()};e&&L();const M={then(W,Z){return y.then(W,Z)},get time(){return Rn(R)},set time(W){W=mr(W),R=W,N!==null||!v||g===0?N=W:k=v.now()-W/g},get duration(){const W=S.calculatedDuration===null?fg(S):S.calculatedDuration;return Rn(W)},get speed(){return g},set speed(W){W===g||!v||(g=W,M.time=Rn(R))},get state(){return _},play:L,pause:()=>{_="paused",N=R},stop:()=>{w=!0,_!=="idle"&&(_="idle",u&&u(),B())},cancel:()=>{O!==null&&C(O),B()},complete:()=>{_="finished"},sample:W=>(k=0,C(W))};return M}function r4(e){let t;return()=>(t===void 0&&(t=e()),t)}const s4=r4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),i4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),jo=10,a4=2e4,o4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Pw(t.ease);function l4(e,t,{onUpdate:n,onComplete:r,...i}){if(!(s4()&&i4.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(j=>{l=j})};d();let{keyframes:h,duration:f=300,ease:g,times:w}=i;if(o4(t,i)){const j=Tl({...i,repeat:0,delay:0});let b={done:!1,value:h[0]};const S=[];let P=0;for(;!b.done&&P<a4;)b=j.sample(P),S.push(b.value),P+=jo;w=void 0,h=S,f=P-jo,g="linear"}const x=vk(e.owner.current,t,h,{...i,duration:f,ease:g,times:w}),y=()=>{u=!1,x.cancel()},p=()=>{u=!0,pe.update(y),l(),d()};return x.onfinish=()=>{u||(e.set(yk(h,i)),r&&r(),p())},{then(j,b){return c.then(j,b)},attachTimeline(j){return x.timeline=j,x.onfinish=null,Re},get time(){return Rn(x.currentTime||0)},set time(j){x.currentTime=mr(j)},get speed(){return x.playbackRate},set speed(j){x.playbackRate=j},get duration(){return Rn(f)},play:()=>{o||(x.play(),zn(y))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:j}=x;if(j){const b=Tl({...i,autoplay:!1});e.setWithVelocity(b.sample(j-jo).value,b.sample(j).value,jo)}p()},complete:()=>{u||x.finish()},cancel:p}}function c4({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Re,pause:Re,stop:Re,then:a=>(a(),Promise.resolve()),cancel:Re,complete:Re});return t?Tl({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const u4={type:"spring",stiffness:500,damping:25,restSpeed:10},d4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),h4={type:"keyframes",duration:.8},f4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m4=(e,{keyframes:t})=>t.length>2?h4:cs.has(e)?e.startsWith("scale")?d4(t[1]):u4:f4,Xd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yr.test(t)||t==="0")&&!t.startsWith("url(")),p4=new Set(["brightness","contrast","saturate","opacity"]);function g4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(uc)||[];if(!r)return e;const i=n.replace(r,"");let a=p4.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const x4=/([a-z-]*)\(.*?\)/g,Jd={...yr,getAnimatableNone:e=>{const t=e.match(x4);return t?t.map(g4).join(" "):e}},v4={...uw,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:Jd,WebkitFilter:Jd},Vf=e=>v4[e];function Xw(e,t){let n=Vf(e);return n!==Jd&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Jw=e=>/^0[^.\s]+$/.test(e);function y4(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Jw(e)}function w4(e,t,n,r){const i=Xd(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),y4(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=Xw(t,l)}return a}function j4({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Bf(e,t){return e[t]||e.default||e}const b4={skipAnimations:!1},Hf=(e,t,n,r={})=>i=>{const a=Bf(r,e)||{},o=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-mr(o);const c=w4(t,e,n,a),u=c[0],d=c[c.length-1],h=Xd(e,u),f=Xd(e,d);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:w=>{t.set(w),a.onUpdate&&a.onUpdate(w)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(j4(a)||(g={...g,...m4(e,g)}),g.duration&&(g.duration=mr(g.duration)),g.repeatDelay&&(g.repeatDelay=mr(g.repeatDelay)),!h||!f||xk.current||a.type===!1||b4.skipAnimations)return c4(g);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=l4(t,e,g);if(w)return w}return Tl(g)};function El(e){return!!(bt(e)&&e.add)}const Zw=e=>/^\-?\d*\.?\d+$/.test(e);function Wf(e,t){e.indexOf(t)===-1&&e.push(t)}function Gf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Kf{constructor(){this.subscriptions=[]}add(t){return Wf(this.subscriptions,t),()=>Gf(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const N4=e=>!isNaN(parseFloat(e));class S4{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:o}=Ye;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,pe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>pe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=N4(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Kf);const r=this.events[t].add(n);return t==="change"?()=>{r(),pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?qw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zs(e,t){return new S4(e,t)}const ej=e=>t=>t.test(e),C4={test:e=>e==="auto",parse:e=>e},tj=[us,Q,un,Hn,RE,AE,C4],Ci=e=>tj.find(ej(e)),_4=[...tj,rt,yr],P4=e=>_4.find(ej(e));function T4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zs(n))}function E4(e,t){const n=hc(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const o in a){const l=GE(a[o]);T4(e,o,l)}}function k4(e,t,n){var r,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&i!==void 0?i:t[c]),d!=null&&(typeof d=="string"&&(Zw(d)||Jw(d))?d=parseFloat(d):!P4(d)&&yr.test(u)&&(d=Xw(c,u)),e.addValue(c,Zs(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function A4(e,t){return t?(t[e]||t.default||t).from:void 0}function R4(e,t,n){const r={};for(const i in e){const a=A4(i,t);if(a!==void 0)r[i]=a;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function I4({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function O4(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function nj(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const f=e.getValue(h),g=l[h];if(!f||g===void 0||d&&I4(d,h))continue;const w={delay:n,elapsed:0,...Bf(a||{},h)};if(window.HandoffAppearAnimations){const p=e.getProps()[rw];if(p){const v=window.HandoffAppearAnimations(p,h,f,pe);v!==null&&(w.elapsed=v,w.isHandoff=!0)}}let x=!w.isHandoff&&!O4(f,g);if(w.type==="spring"&&(f.getVelocity()||w.velocity)&&(x=!1),f.animation&&(x=!1),x)continue;f.start(Hf(h,f,g,e.shouldReduceMotion&&cs.has(h)?{type:!1}:w));const y=f.animation;El(c)&&(c.add(h),y.then(()=>c.remove(h))),u.push(y)}return o&&Promise.all(u).then(()=>{o&&E4(e,o)}),u}function Zd(e,t,n={}){const r=hc(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(nj(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return D4(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function D4(e,t,n=0,r=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(L4).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Zd(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function L4(e,t){return e.sortNodePosition(t)}function M4(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Zd(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Zd(e,t,n);else{const i=typeof t=="function"?hc(e,t,n.custom):t;r=Promise.all(nj(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const z4=[...Tf].reverse(),F4=Tf.length;function $4(e){return t=>Promise.all(t.map(({animation:n,options:r})=>M4(e,n,r)))}function U4(e){let t=$4(e);const n=B4();let r=!0;const i=(c,u)=>{const d=hc(e,u);if(d){const{transition:h,transitionEnd:f,...g}=d;c={...c,...g,...f}}return c};function a(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],g=new Set;let w={},x=1/0;for(let p=0;p<F4;p++){const v=z4[p],j=n[v],b=d[v]!==void 0?d[v]:h[v],S=Sa(b),P=v===u?j.isActive:null;P===!1&&(x=p);let _=b===h[v]&&b!==d[v]&&S;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),j.protectedKeys={...w},!j.isActive&&P===null||!b&&!j.prevProp||lc(b)||typeof b=="boolean")continue;let k=V4(j.prevProp,b)||v===u&&j.isActive&&!_&&S||p>x&&S,O=!1;const H=Array.isArray(b)?b:[b];let D=H.reduce(i,{});P===!1&&(D={});const{prevResolvedValues:ne={}}=j,R={...ne,...D},C=E=>{k=!0,g.has(E)&&(O=!0,g.delete(E)),j.needsAnimating[E]=!0};for(const E in R){const B=D[E],A=ne[E];if(w.hasOwnProperty(E))continue;let L=!1;Cl(B)&&Cl(A)?L=!Cw(B,A):L=B!==A,L?B!==void 0?C(E):g.add(E):B!==void 0&&g.has(E)?C(E):j.protectedKeys[E]=!0}j.prevProp=b,j.prevResolvedValues=D,j.isActive&&(w={...w,...D}),r&&e.blockInitialAnimation&&(k=!1),k&&(!_||O)&&f.push(...H.map(E=>({animation:E,options:{type:v,...c}})))}if(g.size){const p={};g.forEach(v=>{const j=e.getBaseTarget(v);j!==void 0&&(p[v]=j)}),f.push({animation:p})}let y=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function l(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const f=o(d,c);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function V4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Cw(t,e):!1}function kr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function B4(){return{animate:kr(!0),whileInView:kr(),whileHover:kr(),whileTap:kr(),whileDrag:kr(),whileFocus:kr(),exit:kr()}}class H4 extends _r{constructor(t){super(t),t.animationState||(t.animationState=U4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),lc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let W4=0;class G4 extends _r{constructor(){super(...arguments),this.id=W4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const K4={animation:{Feature:H4},exit:{Feature:G4}},mg=(e,t)=>Math.abs(e-t);function q4(e,t){const n=mg(e.x,t.x),r=mg(e.y,t.y);return Math.sqrt(n**2+r**2)}class rj{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=du(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=q4(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:w}=h,{timestamp:x}=Ye;this.history.push({...w,timestamp:x});const{onStart:y,onMove:p}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=uu(f,this.transformPagePoint),pe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=du(h.type==="pointercancel"?this.lastMoveEventInfo:uu(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,y),w&&w(h,y)},!ww(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=dc(t),l=uu(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ye;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,du(l,this.history)),this.removeListeners=fr(An(this.contextWindow,"pointermove",this.handlePointerMove),An(this.contextWindow,"pointerup",this.handlePointerUp),An(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zn(this.updatePoint)}}function uu(e,t){return t?{point:t(e.point)}:e}function pg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function du({point:e},t){return{point:e,delta:pg(e,sj(t)),offset:pg(e,Q4(t)),velocity:Y4(t,.1)}}function Q4(e){return e[0]}function sj(e){return e[e.length-1]}function Y4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=sj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>mr(t)));)n--;if(!r)return{x:0,y:0};const a=Rn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kt(e){return e.max-e.min}function eh(e,t=0,n=.01){return Math.abs(e-t)<=n}function gg(e,t,n,r=.5){e.origin=r,e.originPoint=Pe(t.min,t.max,e.origin),e.scale=kt(n)/kt(t),(eh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Pe(n.min,n.max,e.origin)-e.originPoint,(eh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function qi(e,t,n,r){gg(e.x,t.x,n.x,r?r.originX:void 0),gg(e.y,t.y,n.y,r?r.originY:void 0)}function xg(e,t,n){e.min=n.min+t.min,e.max=e.min+kt(t)}function X4(e,t,n){xg(e.x,t.x,n.x),xg(e.y,t.y,n.y)}function vg(e,t,n){e.min=t.min-n.min,e.max=e.min+kt(t)}function Qi(e,t,n){vg(e.x,t.x,n.x),vg(e.y,t.y,n.y)}function J4(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Pe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Pe(n,e,r.max):Math.min(e,n)),e}function yg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Z4(e,{top:t,left:n,bottom:r,right:i}){return{x:yg(e.x,n,i),y:yg(e.y,t,r)}}function wg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function eA(e,t){return{x:wg(e.x,t.x),y:wg(e.y,t.y)}}function tA(e,t){let n=.5;const r=kt(e),i=kt(t);return i>r?n=_a(t.min,t.max-r,e.min):r>i&&(n=_a(e.min,e.max-i,t.min)),vr(0,1,n)}function nA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const th=.35;function rA(e=th){return e===!1?e=0:e===!0&&(e=th),{x:jg(e,"left","right"),y:jg(e,"top","bottom")}}function jg(e,t,n){return{min:bg(e,t),max:bg(e,n)}}function bg(e,t){return typeof e=="number"?e:e[t]||0}const Ng=()=>({translate:0,scale:1,origin:0,originPoint:0}),Os=()=>({x:Ng(),y:Ng()}),Sg=()=>({min:0,max:0}),De=()=>({x:Sg(),y:Sg()});function Ot(e){return[e("x"),e("y")]}function ij({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function sA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hu(e){return e===void 0||e===1}function nh({scale:e,scaleX:t,scaleY:n}){return!hu(e)||!hu(t)||!hu(n)}function Ir(e){return nh(e)||aj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function aj(e){return Cg(e.x)||Cg(e.y)}function Cg(e){return e&&e!=="0%"}function kl(e,t,n){const r=e-n,i=t*r;return n+i}function _g(e,t,n,r,i){return i!==void 0&&(e=kl(e,i,r)),kl(e,n,r)+t}function rh(e,t=0,n=1,r,i){e.min=_g(e.min,t,n,r,i),e.max=_g(e.max,t,n,r,i)}function oj(e,{x:t,y:n}){rh(e.x,t.translate,t.scale,t.originPoint),rh(e.y,n.translate,n.scale,n.originPoint)}function aA(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ds(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,oj(e,o)),r&&Ir(a.latestValues)&&Ds(e,a.latestValues))}t.x=Pg(t.x),t.y=Pg(t.y)}function Pg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function qn(e,t){e.min=e.min+t,e.max=e.max+t}function Tg(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,o=Pe(e.min,e.max,a);rh(e,t[n],t[r],o,t.scale)}const oA=["x","scaleX","originX"],lA=["y","scaleY","originY"];function Ds(e,t){Tg(e.x,t,oA),Tg(e.y,t,lA)}function lj(e,t){return ij(iA(e.getBoundingClientRect(),t))}function cA(e,t,n){const r=lj(e,n),{scroll:i}=t;return i&&(qn(r.x,i.offset.x),qn(r.y,i.offset.y)),r}const cj=({current:e})=>e?e.ownerDocument.defaultView:null,uA=new WeakMap;class dA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dc(d,"page").point)},a=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:w}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=bw(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ot(y=>{let p=this.getAxisMotionValue(y).get()||0;if(un.test(p)){const{projection:v}=this.visualElement;if(v&&v.layout){const j=v.layout.layoutBox[y];j&&(p=kt(j)*(parseFloat(p)/100))}}this.originPoint[y]=p}),w&&pe.update(()=>w(d,h),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:w,onDrag:x}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=h;if(g&&this.currentDirection===null){this.currentDirection=hA(y),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Ot(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new rj(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:cj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&pe.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!bo(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=J4(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Rs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Z4(i.layoutBox,n):this.constraints=!1,this.elastic=rA(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ot(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=nA(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Rs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=cA(r,i.root,this.visualElement.getTransformPagePoint());let o=eA(i.layout.layoutBox,a);if(n){const l=n(sA(o));this.hasMutatedConstraints=!!l,l&&(o=ij(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ot(d=>{if(!bo(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,g=i?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Hf(t,r,0,n))}stopAnimation(){Ot(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ot(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ot(n=>{const{drag:r}=this.getProps();if(!bo(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(t[n]-Pe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Rs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ot(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=tA({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ot(o=>{if(!bo(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Pe(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;uA.set(this.visualElement,this);const t=this.visualElement.current,n=An(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Rs(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=bn(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ot(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=th,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function bo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function hA(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class fA extends _r{constructor(t){super(t),this.removeGroupControls=Re,this.removeListeners=Re,this.controls=new dA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Re}unmount(){this.removeGroupControls(),this.removeListeners()}}const Eg=e=>(t,n)=>{e&&pe.update(()=>e(t,n))};class mA extends _r{constructor(){super(...arguments),this.removePointerDownListener=Re}onPointerDown(t){this.session=new rj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Eg(t),onStart:Eg(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&pe.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=An(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function pA(){const e=m.useContext(ac);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=m.useId();return m.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Vo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _i={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const n=kg(e,t.target.x),r=kg(e,t.target.y);return`${n}% ${r}%`}},gA={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=yr.parse(e);if(i.length>5)return r;const a=yr.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=Pe(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class xA extends Y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;SE(vA),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||pe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function uj(e){const[t,n]=pA(),r=m.useContext(kf);return Y.createElement(xA,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(iw),isPresent:t,safeToRemove:n})}const vA={borderRadius:{..._i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_i,borderTopRightRadius:_i,borderBottomLeftRadius:_i,borderBottomRightRadius:_i,boxShadow:gA},dj=["TopLeft","TopRight","BottomLeft","BottomRight"],yA=dj.length,Ag=e=>typeof e=="string"?parseFloat(e):e,Rg=e=>typeof e=="number"||Q.test(e);function wA(e,t,n,r,i,a){i?(e.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,jA(r)),e.opacityExit=Pe(t.opacity!==void 0?t.opacity:1,0,bA(r))):a&&(e.opacity=Pe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<yA;o++){const l=`border${dj[o]}Radius`;let c=Ig(t,l),u=Ig(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Rg(c)===Rg(u)?(e[l]=Math.max(Pe(Ag(c),Ag(u),r),0),(un.test(u)||un.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Pe(t.rotate||0,n.rotate||0,r))}function Ig(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const jA=hj(0,.5,Ow),bA=hj(.5,.95,Re);function hj(e,t,n){return r=>r<e?0:r>t?1:n(_a(e,t,r))}function Og(e,t){e.min=t.min,e.max=t.max}function It(e,t){Og(e.x,t.x),Og(e.y,t.y)}function Dg(e,t,n,r,i){return e-=t,e=kl(e,1/n,r),i!==void 0&&(e=kl(e,1/i,r)),e}function NA(e,t=0,n=1,r=.5,i,a=e,o=e){if(un.test(t)&&(t=parseFloat(t),t=Pe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Pe(a.min,a.max,r);e===a&&(l-=t),e.min=Dg(e.min,t,n,l,i),e.max=Dg(e.max,t,n,l,i)}function Lg(e,t,[n,r,i],a,o){NA(e,t[n],t[r],t[i],t.scale,a,o)}const SA=["x","scaleX","originX"],CA=["y","scaleY","originY"];function Mg(e,t,n,r){Lg(e.x,t,SA,n?n.x:void 0,r?r.x:void 0),Lg(e.y,t,CA,n?n.y:void 0,r?r.y:void 0)}function zg(e){return e.translate===0&&e.scale===1}function fj(e){return zg(e.x)&&zg(e.y)}function _A(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function mj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Fg(e){return kt(e.x)/kt(e.y)}class PA{constructor(){this.members=[]}add(t){Wf(this.members,t),t.scheduleRender()}remove(t){if(Gf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $g(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const TA=(e,t)=>e.depth-t.depth;class EA{constructor(){this.children=[],this.isDirty=!1}add(t){Wf(this.children,t),this.isDirty=!0}remove(t){Gf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TA),this.isDirty=!1,this.children.forEach(t)}}function kA(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(zn(r),e(a-t))};return pe.read(r,!0),()=>zn(r)}function AA(e){window.MotionDebug&&window.MotionDebug.record(e)}function RA(e){return e instanceof SVGElement&&e.tagName!=="svg"}function IA(e,t,n){const r=bt(e)?e:Zs(e);return r.start(Hf("",r,t,n)),r.animation}const Ug=["","X","Y","Z"],OA={visibility:"hidden"},Vg=1e3;let DA=0;const Or={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function pj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=DA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Or.totalNodes=Or.resolvedTargetDeltas=Or.recalculatedProjection=0,this.nodes.forEach(zA),this.nodes.forEach(BA),this.nodes.forEach(HA),this.nodes.forEach(FA),AA(Or)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new EA)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Kf),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=RA(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=kA(f,250),Vo.hasAnimatedSinceResize&&(Vo.hasAnimatedSinceResize=!1,this.nodes.forEach(Hg))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||QA,{onLayoutAnimationStart:y,onLayoutAnimationComplete:p}=d.getProps(),v=!this.targetLayout||!mj(this.targetLayout,w)||g,j=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,j);const b={...Bf(x,"layout"),onPlay:y,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WA),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bg);return}this.isUpdating||this.nodes.forEach(UA),this.isUpdating=!1,this.nodes.forEach(VA),this.nodes.forEach(LA),this.nodes.forEach(MA),this.clearAllSnapshots();const l=performance.now();Ye.delta=vr(0,1e3/60,l-Ye.timestamp),Ye.timestamp=l,Ye.isProcessing=!0,nu.update.process(Ye),nu.preRender.process(Ye),nu.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($A),this.sharedNodes.forEach(GA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!fj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Ir(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),YA(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return De();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(qn(l.x,c.offset.x),qn(l.y,c.offset.y)),l}removeElementScroll(o){const l=De();It(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){It(l,o);const{scroll:f}=this.root;f&&(qn(l.x,-f.offset.x),qn(l.y,-f.offset.y))}qn(l.x,d.offset.x),qn(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=De();It(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ds(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ir(d.latestValues)&&Ds(c,d.latestValues)}return Ir(this.latestValues)&&Ds(c,this.latestValues),c}removeTransform(o){const l=De();It(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ir(u.latestValues))continue;nh(u.latestValues)&&u.updateSnapshot();const d=De(),h=u.measurePageBox();It(d,h),Mg(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ir(this.latestValues)&&Mg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Qi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):It(this.target,this.layout.layoutBox),oj(this.target,this.targetDelta)):It(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Qi(this.relativeTargetOrigin,this.target,g.target),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Or.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nh(this.parent.latestValues)||aj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;It(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;aA(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=Os(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Os(),this.projectionDeltaWithTransform=Os());const x=this.projectionTransform;qi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=$g(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Or.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Os();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=De(),g=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=g!==w,y=this.getStack(),p=!y||y.members.length<=1,v=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(qA));this.animationProgress=0;let j;this.mixTargetDelta=b=>{const S=b/1e3;Wg(h.x,o.x,S),Wg(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KA(this.relativeTarget,this.relativeTargetOrigin,f,S),j&&_A(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=De()),It(j,this.relativeTarget)),x&&(this.animationValues=d,wA(d,u,this.latestValues,S,v,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pe.update(()=>{Vo.hasAnimatedSinceResize=!0,this.currentAnimation=IA(0,Vg,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&gj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||De();const h=kt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=kt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}It(l,c),Ds(l,d),qi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PA),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Ug.length;d++){const h="rotate"+Ug[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OA;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Uo(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Uo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ir(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=$g(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y:w}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Nl){if(f[x]===void 0)continue;const{correct:y,applyTo:p}=Nl[x],v=u.transform==="none"?f[x]:y(f[x],h);if(p){const j=p.length;for(let b=0;b<j;b++)u[p[b]]=v}else u[x]=v}return this.options.layoutId&&(u.pointerEvents=h===this?Uo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Bg),this.root.sharedNodes.clear()}}}function LA(e){e.updateLayout()}function MA(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Ot(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=kt(f);f.min=r[h].min,f.max=f.min+g}):gj(a,n.layoutBox,r)&&Ot(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=kt(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=Os();qi(l,r,n.layoutBox);const c=Os();o?qi(c,e.applyTransform(i,!0),n.measuredBox):qi(c,r,n.layoutBox);const u=!fj(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const w=De();Qi(w,n.layoutBox,f.layoutBox);const x=De();Qi(x,r,g.layoutBox),mj(w,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function zA(e){Or.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function FA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $A(e){e.clearSnapshot()}function Bg(e){e.clearMeasurements()}function UA(e){e.isLayoutDirty=!1}function VA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Hg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BA(e){e.resolveTargetDelta()}function HA(e){e.calcProjection()}function WA(e){e.resetRotation()}function GA(e){e.removeLeadSnapshot()}function Wg(e,t,n){e.translate=Pe(t.translate,0,n),e.scale=Pe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Gg(e,t,n,r){e.min=Pe(t.min,n.min,r),e.max=Pe(t.max,n.max,r)}function KA(e,t,n,r){Gg(e.x,t.x,n.x,r),Gg(e.y,t.y,n.y,r)}function qA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QA={duration:.45,ease:[.4,0,.1,1]},Kg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),qg=Kg("applewebkit/")&&!Kg("chrome/")?Math.round:Re;function Qg(e){e.min=qg(e.min),e.max=qg(e.max)}function YA(e){Qg(e.x),Qg(e.y)}function gj(e,t,n){return e==="position"||e==="preserve-aspect"&&!eh(Fg(t),Fg(n),.2)}const XA=pj({attachResizeListener:(e,t)=>bn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fu={current:void 0},xj=pj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fu.current){const e=new XA({});e.mount(window),e.setOptions({layoutScroll:!0}),fu.current=e}return fu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JA={pan:{Feature:mA},drag:{Feature:fA,ProjectionNode:xj,MeasureLayout:uj}},ZA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function eR(e){const t=ZA.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function sh(e,t,n=1){const[r,i]=eR(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return Zw(o)?parseFloat(o):o}else return Kd(i)?sh(i,t,n+1):i}function tR(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!Kd(a))return;const o=sh(a,r);o&&i.set(o)});for(const i in t){const a=t[i];if(!Kd(a))continue;const o=sh(a,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const nR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vj=e=>nR.has(e),rR=e=>Object.keys(e).some(vj),Yg=e=>e===us||e===Q,Xg=(e,t)=>parseFloat(e.split(", ")[t]),Jg=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Xg(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?Xg(a[1],e):0}},sR=new Set(["x","y","z"]),iR=Fa.filter(e=>!sR.has(e));function aR(e){const t=[];return iR.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ei={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Jg(4,13),y:Jg(5,14)};ei.translateX=ei.x;ei.translateY=ei.y;const oR=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=ei[u](r,a)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=ei[u](c,a)}),e},lR=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(vj);let a=[],o=!1;const l=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],h=Ci(d);const f=t[c];let g;if(Cl(f)){const w=f.length,x=f[0]===null?1:0;d=f[x],h=Ci(d);for(let y=x;y<w&&f[y]!==null;y++)g?zf(Ci(f[y])===g):g=Ci(f[y])}else g=Ci(f);if(h!==g)if(Yg(h)&&Yg(g)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&g===Q&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(d===0||f===0)?d===0?u.set(g.transform(d)):t[c]=h.transform(f):(o||(a=aR(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=oR(t,e,l);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),oc&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function cR(e,t,n,r){return rR(t)?lR(e,t,n,r):{target:t,transitionEnd:r}}const uR=(e,t,n,r)=>{const i=tR(e,t,r);return t=i.target,r=i.transitionEnd,cR(e,t,n,r)},ih={current:null},yj={current:!1};function dR(){if(yj.current=!0,!!oc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ih.current=e.matches;e.addListener(t),t()}else ih.current=!1}function hR(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],o=n[i];if(bt(a))e.addValue(i,a),El(r)&&r.add(i);else if(bt(o))e.addValue(i,Zs(a,{owner:e})),El(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,Zs(l!==void 0?l:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Zg=new WeakMap,wj=Object.keys(Ca),fR=wj.length,ex=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],mR=Ef.length;class pR{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>pe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=cc(n),this.isVariantNode=sw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];l[h]!==void 0&&bt(f)&&(f.set(l[h],!1),El(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Zg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),yj.current||dR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ih.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zg.delete(this.current),this.projection&&this.projection.unmount(),zn(this.notifyUpdate),zn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=cs.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&pe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let o,l;for(let c=0;c<fR;c++){const u=wj[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:g}=Ca[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Rs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ex.length;r++){const i=ex[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=hR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<mR;r++){const i=Ef[r],a=this.props[i];(Sa(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zs(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Mf(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!bt(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Kf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class jj extends pR{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let o=R4(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),a){k4(this,r,o);const l=uR(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function gR(e){return window.getComputedStyle(e)}class xR extends jj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(cs.has(n)){const r=Vf(n);return r&&r.default||0}else{const r=gR(t),i=(lw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return lj(t,n)}build(t,n,r,i){Rf(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Lf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;bt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){mw(t,n,r,i)}}class vR extends jj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(cs.has(n)){const r=Vf(n);return r&&r.default||0}return n=pw.has(n)?n:Pf(n),t.getAttribute(n)}measureInstanceViewportBox(){return De()}scrapeMotionValuesFromProps(t,n){return xw(t,n)}build(t,n,r,i){Of(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){gw(t,n,r,i)}mount(t){this.isSVGTag=Df(t.tagName),super.mount(t)}}const yR=(e,t)=>Af(e)?new vR(t,{enableHardwareAcceleration:!1}):new xR(t,{enableHardwareAcceleration:!0}),wR={layout:{ProjectionNode:xj,MeasureLayout:uj}},jR={...K4,...fk,...JA,...wR},z=bE((e,t)=>ek(e,t,jR,yR));function bj(){const e=m.useRef(!1);return _f(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function bR(){const e=bj(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>pe.postRender(r),[r]),t]}class NR extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function SR({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(NR,{isPresent:t,childRef:r,sizeRef:i},m.cloneElement(e,{ref:r}))}const mu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=vw(CR),c=m.useId(),u=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[n]);return m.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=m.createElement(SR,{isPresent:n},e)),m.createElement(ac.Provider,{value:u},e)};function CR(){return new Map}function _R(e){return m.useEffect(()=>()=>e(),[])}const Dr=e=>e.key||"";function PR(e,t){e.forEach(n=>{const r=Dr(n);t.set(r,n)})}function TR(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const ER=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=m.useContext(kf).forceRender||bR()[0],c=bj(),u=TR(e);let d=u;const h=m.useRef(new Map).current,f=m.useRef(d),g=m.useRef(new Map).current,w=m.useRef(!0);if(_f(()=>{w.current=!1,PR(u,g),f.current=d}),_R(()=>{w.current=!0,g.clear(),h.clear()}),w.current)return m.createElement(m.Fragment,null,d.map(v=>m.createElement(mu,{key:Dr(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},v)));d=[...d];const x=f.current.map(Dr),y=u.map(Dr),p=x.length;for(let v=0;v<p;v++){const j=x[v];y.indexOf(j)===-1&&!h.has(j)&&h.set(j,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((v,j)=>{if(y.indexOf(j)!==-1)return;const b=g.get(j);if(!b)return;const S=x.indexOf(j);let P=v;if(!P){const _=()=>{h.delete(j);const N=Array.from(g.keys()).filter(k=>!y.includes(k));if(N.forEach(k=>g.delete(k)),f.current=u.filter(k=>{const O=Dr(k);return O===j||N.includes(O)}),!h.size){if(c.current===!1)return;l(),r&&r()}};P=m.createElement(mu,{key:Dr(b),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:a,mode:o},b),h.set(j,P)}d.splice(S,0,P)}),d=d.map(v=>{const j=v.key;return h.has(j)?v:m.createElement(mu,{key:Dr(v),isPresent:!0,presenceAffectsLayout:a,mode:o},v)}),m.createElement(m.Fragment,null,h.size?d:d.map(v=>m.cloneElement(v)))},qf=Jl("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=Y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?XC:"button";return s.jsx(o,{className:oe(qf({variant:t,size:n,className:e})),ref:a,...i})});T.displayName="Button";const F=Y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));F.displayName="Card";const K=Y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));K.displayName="CardHeader";const q=Y.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));q.displayName="CardTitle";const Nn=Y.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Nn.displayName="CardDescription";const V=Y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));V.displayName="CardContent";const kR=Y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));kR.displayName="CardFooter";function AR(){const e=he(),t=[{icon:Dd,title:"Risposte in Streaming",description:"Dialoga in modo fluido e naturale con risposte che arrivano parola per parola, in tempo reale."},{icon:W_,title:"Memoria Intelligente",description:"SardAI si ricorda di te! Nome, preferenze e dettagli delle chat per un'esperienza davvero personale."},{icon:G_,title:"Export PDF",description:"Salva le tue conversazioni più importanti in formato PDF, con un design professionale e logo."},{icon:X_,title:"Dashboard Personale",description:"Tieni traccia delle tue conversazioni con statistiche e grafici dettagliati."},{icon:tP,title:"Personalità Unica",description:"Un assistente che parla più di tua nonna, con un tocco di autentica ironia sarda."},{icon:Ee,title:"Veloce e Divertente",description:"Risposte immediate con il sorriso, che non guasta mai."},{icon:Ey,title:"Privacy al Primo Posto",description:"Controllo totale sui tuoi dati, con banner GDPR e policy trasparenti. I tuoi segreti sono al sicuro."}];return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"SardAI - L'assistente AI che parla più di tua nonna"}),s.jsx("meta",{name:"description",content:"Scopri SardAI, il chatbot AI con personalità sarda autentica. Conversazioni intelligenti, ironia garantita e un tocco di tradizione isolana."})]}),s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"container mx-auto px-4 py-16 md:py-24 text-center relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-20 -left-20 w-96 h-96 bg-blue-500/10 rounded-full filter blur-3xl opacity-50 animate-blob"}),s.jsx("div",{className:"absolute -bottom-20 -right-20 w-96 h-96 bg-purple-500/10 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-2000"}),s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto relative z-10",children:[s.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight",children:["L'assistente che parla",s.jsx("span",{className:"block text-white mt-2",children:"più di tua nonna"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-10 max-w-2xl mx-auto",children:"Benvenuto nel primo chatbot AI con personalità sarda autentica! Preparati a conversazioni intelligenti condite con ironia, saggezza popolare e quel tocco di calore che solo noi sappiamo dare."}),s.jsxs(T,{size:"lg",onClick:()=>e("/register"),className:"sardinian-gradient hover:opacity-90 text-lg px-8 py-6 pulse-glow rounded-full font-bold",children:[s.jsx(Dd,{className:"w-6 h-6 mr-3"}),"Inizia a Chiacchierare"]}),s.jsx("div",{className:"mt-4",children:s.jsxs(T,{variant:"outline",onClick:()=>e("/premium"),className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10",children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Scopri Premium"]})})]})]}),s.jsxs("section",{className:"container mx-auto px-4 py-20",children:[s.jsx(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Cosa Rende SardAI Speciale"})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,r)=>s.jsx(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},children:s.jsxs(F,{className:"sardinian-card hover:border-blue-400/50 transition-all duration-300 h-full flex flex-col",children:[s.jsx(K,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-xl flex items-center justify-center",children:s.jsx(n.icon,{className:"w-6 h-6 text-white"})}),s.jsx(q,{className:"text-white text-xl",children:n.title})]})}),s.jsx(V,{className:"flex-grow",children:s.jsx("p",{className:"text-gray-300",children:n.description})})]})},r))})]}),s.jsx("section",{className:"container mx-auto px-4 py-20",children:s.jsx(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center",children:s.jsxs("div",{className:"sardinian-card max-w-4xl mx-auto p-8 md:p-12 rounded-2xl",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Pronto a farti due risate?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Registrati ora. È gratis e più veloce di un mirto a fine pasto."}),s.jsxs(T,{size:"lg",onClick:()=>e("/register"),className:"sardinian-gradient hover:opacity-90 text-lg px-8 py-6 rounded-full font-bold",children:[s.jsx(Ee,{className:"w-6 h-6 mr-3"}),"Crea il tuo Account"]}),s.jsx("div",{className:"mt-4",children:s.jsxs(T,{variant:"outline",onClick:()=>e("/premium"),className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10",children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Scopri Tutte le Funzionalità"]})})]})})})]})]})}var RR=hh[" useId ".trim().toString()]||(()=>{}),IR=0;function Yi(e){const[t,n]=m.useState(RR());return Mn(()=>{e||n(r=>r??String(IR++))},[e]),e||(t?`radix-${t}`:"")}var OR=m.createContext(void 0);function Nj(e){const t=m.useContext(OR);return e||t||"ltr"}var pu="rovingFocusGroup.onEntryFocus",DR={bubbles:!1,cancelable:!0},Ba="RovingFocusGroup",[ah,Sj,LR]=ey(Ba),[MR,Cj]=os(Ba,[LR]),[zR,FR]=MR(Ba),_j=m.forwardRef((e,t)=>s.jsx(ah.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ah.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx($R,{...e,ref:t})})}));_j.displayName=Ba;var $R=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=m.useRef(null),g=jt(t,f),w=Nj(a),[x,y]=Yl({prop:o,defaultProp:l??null,onChange:c,caller:Ba}),[p,v]=m.useState(!1),j=tn(u),b=Sj(n),S=m.useRef(!1),[P,_]=m.useState(0);return m.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(pu,j),()=>N.removeEventListener(pu,j)},[j]),s.jsx(zR,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:x,onItemFocus:m.useCallback(N=>y(N),[y]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>_(N=>N-1),[]),children:s.jsx(ge.div,{tabIndex:p||P===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{S.current=!0}),onFocus:de(e.onFocus,N=>{const k=!S.current;if(N.target===N.currentTarget&&k&&!p){const O=new CustomEvent(pu,DR);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const H=b().filter(E=>E.focusable),D=H.find(E=>E.active),ne=H.find(E=>E.id===x),C=[D,ne,...H].filter(Boolean).map(E=>E.ref.current);Ej(C,d)}}S.current=!1}),onBlur:de(e.onBlur,()=>v(!1))})})}),Pj="RovingFocusGroupItem",Tj=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=Yi(),u=a||c,d=FR(Pj,n),h=d.currentTabStopId===u,f=Sj(n),{onFocusableItemAdd:g,onFocusableItemRemove:w,currentTabStopId:x}=d;return m.useEffect(()=>{if(r)return g(),()=>w()},[r,g,w]),s.jsx(ah.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:s.jsx(ge.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:de(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:de(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:de(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const p=BR(y,d.orientation,d.dir);if(p!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=f().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")j.reverse();else if(p==="prev"||p==="next"){p==="prev"&&j.reverse();const b=j.indexOf(y.currentTarget);j=d.loop?HR(j,b+1):j.slice(b+1)}setTimeout(()=>Ej(j))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});Tj.displayName=Pj;var UR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BR(e,t,n){const r=VR(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return UR[r]}function Ej(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function HR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var WR=_j,GR=Tj,fc="Tabs",[KR,DO]=os(fc,[Cj]),kj=Cj(),[qR,Qf]=KR(fc),Aj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Nj(l),[h,f]=Yl({prop:r,onChange:i,defaultProp:a??"",caller:fc});return s.jsx(qR,{scope:n,baseId:Yi(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(ge.div,{dir:d,"data-orientation":o,...u,ref:t})})});Aj.displayName=fc;var Rj="TabsList",Ij=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=Qf(Rj,n),o=kj(n);return s.jsx(WR,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(ge.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});Ij.displayName=Rj;var Oj="TabsTrigger",Dj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=Qf(Oj,n),l=kj(n),c=zj(o.baseId,r),u=Fj(o.baseId,r),d=r===o.value;return s.jsx(GR,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:de(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:de(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:de(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});Dj.displayName=Oj;var Lj="TabsContent",Mj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=Qf(Lj,n),c=zj(l.baseId,r),u=Fj(l.baseId,r),d=r===l.value,h=m.useRef(d);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(oi,{present:i||d,children:({present:f})=>s.jsx(ge.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});Mj.displayName=Lj;function zj(e,t){return`${e}-trigger-${t}`}function Fj(e,t){return`${e}-content-${t}`}var QR=Aj,$j=Ij,Uj=Dj,Vj=Mj;const mc=QR,Ha=Y.forwardRef(({className:e,...t},n)=>s.jsx($j,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ha.displayName=$j.displayName;const mt=Y.forwardRef(({className:e,...t},n)=>s.jsx(Uj,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mt.displayName=Uj.displayName;const pt=Y.forwardRef(({className:e,...t},n)=>s.jsx(Vj,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pt.displayName=Vj.displayName;const YR=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(null),[i,a]=m.useState([]),[o,l]=m.useState(!1),[c,u]=m.useState(null),{user:d,profile:h}=tt(),{toast:f}=Se(),g=m.useCallback(async()=>{if(d)try{const{data:b,error:S}=await J.rpc("get_user_plan_status");if(S)throw S;u(b[0])}catch(b){console.error("Error fetching plan status:",b)}},[d]),w=m.useCallback(async()=>{if(d)try{const{data:b,error:S}=await J.from("chat_sessions").select("*").order("updated_at",{ascending:!1});if(S)throw S;t(b||[])}catch(b){console.error("Error fetching sessions:",b),f({title:"Errore",description:"Impossibile caricare le sessioni di chat.",variant:"destructive"})}},[d,f]),x=m.useCallback(async b=>{if(b)try{const{data:S,error:P}=await J.from("chat_messages").select("*").eq("session_id",b).order("created_at",{ascending:!0});if(P)throw P;a(S||[])}catch(S){console.error("Error fetching messages:",S),f({title:"Errore",description:"Impossibile caricare i messaggi.",variant:"destructive"})}},[f]),y=m.useCallback(async(b,S="free",P=null)=>{var _;if(!b.trim())return null;l(!0);try{const{data:N,error:k}=await J.functions.invoke("chat-openai",{body:{message:b.trim(),sessionId:P,chatType:S}});if(k)throw k;return!P&&N.sessionId&&(r(N.sessionId),await w()),N.sessionId&&await x(N.sessionId),N.planStatus&&u(N.planStatus),{success:!0,sessionId:N.sessionId,message:N.message,tokensUsed:N.tokensUsed}}catch(N){return console.error("Error sending message:",N),(_=N.message)!=null&&_.includes("Premium access required")?(f({title:"Accesso Premium Richiesto",description:"Aggiorna il tuo piano per accedere alla chat premium.",variant:"destructive"}),{success:!1,error:"PREMIUM_REQUIRED"}):(f({title:"Errore nell'invio del messaggio",description:N.message||"Si è verificato un errore imprevisto.",variant:"destructive"}),{success:!1,error:N.message})}finally{l(!1)}},[f,w,x]),p=m.useCallback(async(b="Nuova Chat",S="free")=>{try{const{data:P,error:_}=await J.rpc("create_chat_session",{session_title:b,session_type:S});if(_)throw _;return r(P),await w(),a([]),P}catch(P){return console.error("Error creating session:",P),f({title:"Errore",description:P.message||"Impossibile creare una nuova sessione di chat.",variant:"destructive"}),null}},[w,f]),v=m.useCallback(async b=>{try{const{error:S}=await J.from("chat_sessions").delete().eq("id",b);if(S)throw S;n===b&&(r(null),a([])),await w(),f({title:"Sessione eliminata",description:"La sessione di chat è stata eliminata con successo."})}catch(S){console.error("Error deleting session:",S),f({title:"Errore",description:"Impossibile eliminare la sessione di chat.",variant:"destructive"})}},[n,w,f]),j=m.useCallback(async b=>{r(b),await x(b)},[x]);return m.useEffect(()=>{d&&(g(),w())},[d,g,w]),{sessions:e,currentSession:n,messages:i,loading:o,planStatus:c,sendMessage:y,createSession:p,deleteSession:v,selectSession:j,fetchPlanStatus:g,fetchSessions:w}},pc=()=>{const[e,t]=m.useState(!1),{toast:n}=Se();return{loading:e,createCheckoutSession:async(l,c="subscription")=>{t(!0);try{const{data:u,error:d}=await J.functions.invoke("stripe-checkout",{body:{price_id:l,mode:c,success_url:`${window.location.origin}/stripe/success?session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${window.location.origin}/stripe/cancel?session_id={CHECKOUT_SESSION_ID}`}});if(d)throw d;if(u.url)window.location.href=u.url;else throw new Error("No checkout URL received")}catch(u){console.error("Error creating checkout session:",u),n({title:"Errore nel pagamento",description:u.message||"Impossibile avviare il processo di pagamento.",variant:"destructive"})}finally{t(!1)}},handlePaymentSuccess:()=>{n({title:"Pagamento completato! 🎉",description:"Benvenuto in SardAI Premium! Il tuo abbonamento è ora attivo."})},handlePaymentCanceled:()=>{n({title:"Pagamento annullato",description:"Il pagamento è stato annullato. Puoi riprovare quando vuoi."})},redirectToStripePortal:async()=>{try{const{data:l,error:c}=await J.functions.invoke("stripe-portal",{body:{return_url:`${window.location.origin}/stripe/manage`}});if(c)throw c;l.url&&(window.location.href=l.url)}catch{n({title:"Errore",description:"Impossibile accedere al portale di gestione.",variant:"destructive"})}}}},qr=[{id:"prod_Sc40gUkhG84dOO",priceId:"price_1RgpsmP3ZDp2xQGdHpezzWn0",name:"SardAI Premium Mensile",description:"Accesso completo alle funzionalità premium",mode:"subscription",price:"5.00",currency:"EUR",interval:"month"},{id:"prod_Sc42HX3us2RCWV",priceId:"price_1Rgpu7P3ZDp2xQGdtuxS42fy",name:"SardAI Premium Annuale",description:"Piano annuale con risparmio del 17%",mode:"subscription",price:"50.00",currency:"CHF",interval:"year"}],XR=e=>qr.find(t=>t.priceId===e),ds=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),{user:i}=tt(),a=async()=>{if(!i){t(null),r(!1);return}try{r(!0);const{data:o,error:l}=await J.from("stripe_user_subscriptions").select("*").maybeSingle();if(l){console.error("Error fetching subscription:",l),t(null);return}if(o&&o.subscription_id){const c=XR(o.price_id);t({...o,product:c,isActive:o.subscription_status==="active",isPastDue:o.subscription_status==="past_due",isCanceled:o.subscription_status==="canceled",isTrialing:o.subscription_status==="trialing"})}else t(null)}catch(o){console.error("Error fetching subscription:",o),t(null)}finally{r(!1)}};return m.useEffect(()=>{a()},[i]),{subscription:e,loading:n,refetch:a}};var Bj={exports:{}},Hj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=m;function JR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZR=typeof Object.is=="function"?Object.is:JR,eI=ti.useState,tI=ti.useEffect,nI=ti.useLayoutEffect,rI=ti.useDebugValue;function sI(e,t){var n=t(),r=eI({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return nI(function(){i.value=n,i.getSnapshot=t,gu(i)&&a({inst:i})},[e,n,t]),tI(function(){return gu(i)&&a({inst:i}),e(function(){gu(i)&&a({inst:i})})},[e]),rI(n),n}function gu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ZR(e,n)}catch{return!0}}function iI(e,t){return t()}var aI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iI:sI;Hj.useSyncExternalStore=ti.useSyncExternalStore!==void 0?ti.useSyncExternalStore:aI;Bj.exports=Hj;var oI=Bj.exports;function lI(){return oI.useSyncExternalStore(cI,()=>!0,()=>!1)}function cI(){return()=>{}}var Yf="Avatar",[uI,LO]=os(Yf),[dI,Wj]=uI(Yf),Gj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=m.useState("idle");return s.jsx(dI,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(ge.span,{...r,ref:t})})});Gj.displayName=Yf;var Kj="AvatarImage",qj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=Wj(Kj,n),l=hI(r,a),c=tn(u=>{i(u),o.onImageLoadingStatusChange(u)});return Mn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(ge.img,{...a,ref:t,src:r}):null});qj.displayName=Kj;var Qj="AvatarFallback",Yj=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=Wj(Qj,n),[o,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(ge.span,{...i,ref:t}):null});Yj.displayName=Qj;function tx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function hI(e,{referrerPolicy:t,crossOrigin:n}){const r=lI(),i=m.useRef(null),a=(()=>r?(i.current||(i.current=new window.Image),i.current):null)(),[o,l]=m.useState(()=>tx(a,e));return Mn(()=>{l(tx(a,e))},[a,e]),Mn(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var Xj=Gj,Jj=qj,Zj=Yj;const zt=Y.forwardRef(({className:e,...t},n)=>s.jsx(Xj,{ref:n,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));zt.displayName=Xj.displayName;const Pa=Y.forwardRef(({className:e,...t},n)=>s.jsx(Jj,{ref:n,className:oe("aspect-square h-full w-full",e),...t}));Pa.displayName=Jj.displayName;const Ft=Y.forwardRef(({className:e,...t},n)=>s.jsx(Zj,{ref:n,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ft.displayName=Zj.displayName;function Xf({isOpen:e,onClose:t}){var f,g;const{user:n,profile:r,logout:i}=tt(),a=Cr(),o=he(),{toast:l}=Se(),c=w=>a.pathname===w,u=async()=>{await i(),l({title:"Arrivederci! 👋",description:"Logout effettuato con successo. A presto!"}),o("/"),t()},d=[{path:"/dashboard",label:"Dashboard",icon:We},{path:"/premium",label:"Funzionalità Premium",icon:G},{path:"/profile",label:"Profilo",icon:Bt},...(r==null?void 0:r.role)==="admin"?[{path:"/admin",label:"Admin",icon:Ze}]:[],...r!=null&&r.is_premium?[]:[{path:"/subscription",label:"Diventa Premium",icon:G,highlight:!0}]],h=({item:w})=>s.jsxs(gt,{to:w.path,onClick:t,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${c(w.path)?"bg-blue-600 text-white":w.highlight?"text-yellow-400 hover:bg-yellow-400/10":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[s.jsx(w.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:w.label}),w.highlight&&s.jsx("span",{className:"ml-auto px-2 py-1 text-xs bg-yellow-500 text-black rounded-full",children:"Upgrade"})]});return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t}),s.jsxs(z.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 h-full w-80 glass-effect border-r border-white/10 z-50 lg:static lg:translate-x-0",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[s.jsxs(gt,{to:"/",className:"flex items-center space-x-3",onClick:t,children:[s.jsx("div",{className:"w-8 h-8 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"SardAI"})]}),s.jsx(T,{variant:"ghost",size:"icon",onClick:t,className:"lg:hidden text-white hover:bg-white/10",children:s.jsx(ba,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(zt,{className:"w-12 h-12",children:[s.jsx(Pa,{src:r==null?void 0:r.avatar_url}),s.jsx(Ft,{className:"bg-blue-600 text-white",children:(g=(f=r==null?void 0:r.full_name)==null?void 0:f.charAt(0))==null?void 0:g.toUpperCase()})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white font-medium truncate",children:r==null?void 0:r.full_name}),s.jsx("p",{className:"text-gray-400 text-sm",children:(r==null?void 0:r.role)==="admin"?"🛡️ Admin":r!=null&&r.is_premium?"👑 Premium":"🆓 Gratuito"})]})]})}),s.jsx("div",{className:"flex-1 p-4",children:s.jsx("nav",{className:"space-y-2",children:d.map(w=>s.jsx(h,{item:w},w.path))})}),s.jsxs("div",{className:"p-4 border-t border-white/10 space-y-2",children:[s.jsxs(T,{variant:"ghost",onClick:()=>{l({title:"🚧 Funzionalità in arrivo!",description:"Le impostazioni saranno disponibili presto."})},className:"w-full justify-start text-white hover:bg-white/10",children:[s.jsx(wa,{className:"w-4 h-4 mr-3"}),"Impostazioni"]}),s.jsxs(T,{variant:"ghost",onClick:u,className:"w-full justify-start text-red-400 hover:text-red-300 hover:bg-red-400/10",children:[s.jsx(Od,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]})]}):null}const _e=Y.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));_e.displayName="Input";function fI({messages:e,onSendMessage:t,loading:n,planStatus:r}){const[i,a]=m.useState(""),o=m.useRef(null),l=()=>{var d;(d=o.current)==null||d.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{l()},[e]);const c=async d=>{if(d.preventDefault(),!i.trim()||n)return;const h=await t(i,"free");h!=null&&h.success&&a("")},u=d=>d.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>");return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-600 bg-slate-800/30",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-10 h-10",children:s.jsx(Ft,{className:"bg-blue-600 text-white",children:s.jsx(fo,{className:"w-5 h-5"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"SardAI Gratuito"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Assistente con carattere sardo"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.length===0&&s.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[s.jsx(fo,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Ciao! Sono SardAI! 👋"}),s.jsx("p",{className:"text-gray-300 max-w-md mx-auto",children:"Sono qui per aiutarti con tutto quello che vuoi sapere sulla Sardegna. Dimmi, cosa ti va di scoprire della nostra bella isola?"})]}),e.map((d,h)=>s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`flex items-start space-x-3 max-w-xs lg:max-w-md xl:max-w-lg ${d.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx(zt,{className:"w-8 h-8 flex-shrink-0",children:s.jsx(Ft,{className:d.role==="user"?"bg-green-600":"bg-blue-600",children:d.role==="user"?s.jsx(Bt,{className:"w-4 h-4"}):s.jsx(fo,{className:"w-4 h-4"})})}),s.jsxs(F,{className:`px-4 py-3 ${d.role==="user"?"chat-bubble-user text-white border-0":"chat-bubble-ai text-white border-0"}`,children:[s.jsx("div",{className:"text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:u(d.content)}}),s.jsx("p",{className:"text-xs opacity-70 mt-2",children:new Date(d.created_at).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]})]})},h)),n&&s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(zt,{className:"w-8 h-8",children:s.jsx(Ft,{className:"bg-blue-600",children:s.jsx(fo,{className:"w-4 h-4"})})}),s.jsx(F,{className:"chat-bubble-ai text-white border-0 px-4 py-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ya,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{className:"text-sm",children:"SardAI sta pensando..."})]})})]})}),s.jsx("div",{ref:o})]}),s.jsxs("div",{className:"p-4 border-t border-slate-600 bg-slate-800/30",children:[s.jsxs("form",{onSubmit:c,className:"flex space-x-2",children:[s.jsx(_e,{value:i,onChange:d=>a(d.target.value),placeholder:"Scrivi il tuo messaggio...",disabled:n,className:"bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"}),s.jsx(T,{type:"submit",disabled:!i.trim()||n,className:"sardinian-gradient hover:opacity-90",children:n?s.jsx(ya,{className:"w-4 h-4 animate-spin"}):s.jsx(wl,{className:"w-4 h-4"})})]}),r&&s.jsxs("div",{className:"mt-2 text-xs text-gray-400 text-center",children:[r.plan==="trial"&&r.trial_days_left>0&&s.jsxs("span",{children:["Prova gratuita: ",r.trial_days_left," giorni rimasti"]}),r.plan==="free"&&s.jsx("span",{children:"Piano gratuito - Aggiorna per accedere alla modalità sarda"})]})]})]})}function mI({messages:e,onSendMessage:t,loading:n,isAdmin:r=!1}){const[i,a]=m.useState(""),o=m.useRef(null),{subscription:l}=ds(),c=()=>{var f;(f=o.current)==null||f.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{c()},[e]);const u=async f=>{if(f.preventDefault(),!i.trim()||n)return;const g=await t(i,"premium");g!=null&&g.success&&a("")},d=f=>f.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>");return(l==null?void 0:l.isActive)||!1?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-600 bg-gradient-to-r from-yellow-900/30 to-orange-900/30",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-10 h-10",children:s.jsx(Ft,{className:"bg-yellow-600 text-white",children:s.jsx(G,{className:"w-5 h-5"})})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center",children:[s.jsx(G,{className:"w-4 h-4 mr-2 text-yellow-400"}),"SardAI Premium"]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Chat in lingua sarda autentica"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.length===0&&s.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[s.jsx(G,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Salude! Deo so SardAI Premium! 👑"}),s.jsx("p",{className:"text-gray-300 max-w-md mx-auto",children:"Oe, comente ses? Deo so inoghe pro ti agiudare in limba sarda auténtica. Ite boles ischire de sa Sardigna nostra?"})]}),e.map((f,g)=>s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`flex items-start space-x-3 max-w-xs lg:max-w-md xl:max-w-lg ${f.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx(zt,{className:"w-8 h-8 flex-shrink-0",children:s.jsx(Ft,{className:f.role==="user"?"bg-green-600":"bg-yellow-600",children:f.role==="user"?s.jsx(Bt,{className:"w-4 h-4"}):r?s.jsx(Shield,{className:"w-4 h-4"}):s.jsx(G,{className:"w-4 h-4"})})}),s.jsxs(F,{className:`px-4 py-3 ${f.role==="user"?"chat-bubble-user text-white border-0":r?"bg-gradient-to-r from-red-900/20 to-red-800/20 text-white border border-red-500/20":"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 text-white border border-yellow-500/20"}`,children:[s.jsx("div",{className:"text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:d(f.content)}}),s.jsx("p",{className:"text-xs opacity-70 mt-2",children:new Date(f.created_at).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]})]})},g)),n&&s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(zt,{className:"w-8 h-8",children:s.jsx(Ft,{className:r?"bg-red-600":"bg-yellow-600",children:r?s.jsx(Shield,{className:"w-4 h-4"}):s.jsx(G,{className:"w-4 h-4"})})}),s.jsx(F,{className:`px-4 py-3 text-white border ${r?"bg-gradient-to-r from-red-900/20 to-red-800/20 border-red-500/20":"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border-yellow-500/20"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ya,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{className:"text-sm",children:r?"SardAI Admin sta elaborando...":"SardAI est pensende..."})]})})]})}),s.jsx("div",{ref:o})]}),s.jsxs("div",{className:`p-4 border-t border-slate-600 ${r?"bg-gradient-to-r from-red-900/10 to-red-800/10":"bg-gradient-to-r from-yellow-900/10 to-orange-900/10"}`,children:[s.jsxs("form",{onSubmit:u,className:"flex space-x-2",children:[s.jsx(_e,{value:i,onChange:f=>a(f.target.value),placeholder:r?"Scrivi il tuo messaggio...":"Iscrie su messàgiu tuo in sardu...",disabled:n,className:`bg-slate-800/50 text-white placeholder:text-gray-400 ${r?"border-red-500/30 focus:border-red-400":"border-yellow-500/30 focus:border-yellow-400"}`}),s.jsx(T,{type:"submit",disabled:!i.trim()||n,className:r?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800":"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700",children:n?s.jsx(ya,{className:"w-4 h-4 animate-spin"}):s.jsx(wl,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"mt-2 text-xs text-yellow-400 text-center",children:[r?s.jsx(Shield,{className:"w-3 h-3 inline mr-1"}):s.jsx(G,{className:"w-3 h-3 inline mr-1"}),r?"Modalità Admin Attiva - Accesso completo alle funzionalità":"Modalità Premium Attiva - Chat in lingua sarda autentica"]})]})]}):s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-600 bg-gradient-to-r from-yellow-900/30 to-orange-900/30",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-10 h-10",children:s.jsx(Ft,{className:r?"bg-red-600 text-white":"bg-yellow-600 text-white",children:r?s.jsx(Shield,{className:"w-5 h-5"}):s.jsx(G,{className:"w-5 h-5"})})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold flex items-center",children:[r?s.jsx(Shield,{className:"w-4 h-4 mr-2 text-red-400"}):s.jsx(G,{className:"w-4 h-4 mr-2 text-yellow-400"}),r?"Benvenuto Admin! Accesso completo attivo 🛡️":"Salude! Deo so SardAI Premium! 👑"]}),s.jsx("p",{className:"text-gray-400 text-sm",children:r?"Come amministratore hai accesso a tutte le funzionalità avanzate di SardAI.":"Oe, comente ses? Deo so inoghe pro ti agiudare in limba sarda auténtica. Ite boles ischire de sa Sardigna nostra?"})]})]})}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md",children:[s.jsx("div",{className:"w-20 h-20 bg-yellow-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(G,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Accesso Premium Richiesto"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Per conversare in lingua sarda autentica con SardAI, devi avere un abbonamento Premium attivo."}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-400 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ee,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:"Chat in logudorese e campidanese"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ee,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:"Traduzione italiano/sardo"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ee,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:"Contenuti culturali esclusivi"})]})]}),s.jsxs(T,{onClick:()=>window.location.href="/subscription",className:"sardinian-gradient hover:opacity-90 px-8 py-3",children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Diventa Premium"]})]})})]})}function pI({className:e=""}){const{loading:t,createCheckoutSession:n}=pc(),{subscription:r}=ds(),i=l=>{n(l,"subscription")};if(r!=null&&r.isActive)return null;const a=qr.find(l=>l.interval==="month"),o=qr.find(l=>l.interval==="year");return s.jsxs(F,{className:`sardinian-card premium-glow ${e}`,children:[s.jsxs(K,{className:"text-center pb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(G,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-white text-xl",children:"Sblocca SardAI Premium"})]}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-white font-semibold text-center mb-3",children:"Cosa ottieni con Premium:"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(yl,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Chat in lingua sarda autentica"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(Ee,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Dialetti logudorese e campidanese"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(Vi,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Contenuti culturali esclusivi"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(vf,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Traduzione italiano/sardo"})]})]})]}),s.jsxs("div",{className:"text-center pt-4 space-y-3",children:[a&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-white",children:[a.price," ",a.currency]}),s.jsx("span",{className:"text-gray-400 text-sm",children:"/mese"})]}),s.jsx(T,{onClick:()=>i(a.priceId),disabled:t,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:t?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Caricamento..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(G,{className:"w-5 h-5 mr-2"}),"Diventa Premium"]})})]}),o&&s.jsxs("div",{className:"border-t border-slate-600 pt-3",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsxs("span",{className:"text-lg font-bold text-white",children:[o.price," ",o.currency]}),s.jsx("span",{className:"text-gray-400 text-sm",children:"/anno"}),s.jsx("span",{className:"text-green-400 text-xs bg-green-900/30 px-2 py-1 rounded",children:"Risparmia 17%"})]}),s.jsx(T,{onClick:()=>i(o.priceId),disabled:t,variant:"outline",className:"w-full border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10",children:"Piano Annuale"})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Cancella in qualsiasi momento"})]})]})]})}function gI(){const e=he(),[t]=hn(),{user:n,profile:r}=tt();Se();const{handlePaymentSuccess:i,handlePaymentCanceled:a}=pc(),{subscription:o,refetch:l}=ds(),[c,u]=m.useState("free"),[d,h]=m.useState(!1),{sessions:f,currentSession:g,messages:w,loading:x,planStatus:y,sendMessage:p,createSession:v,deleteSession:j,selectSession:b,fetchPlanStatus:S}=YR();m.useEffect(()=>{const R=t.get("payment");R==="success"?(i(),S(),l(),e("/chat",{replace:!0})):R==="canceled"&&(a(),e("/chat",{replace:!0}))},[t,i,a,e,S,l]);const P=async(R="free")=>{const C=await v(`Chat ${R}`,R);C&&(b(C),u(R))},_=async R=>{await j(R)},N=async R=>{await b(R);const C=f.find(E=>E.id===R);C&&u(C.chat_type)},k=w.filter(R=>g&&R.session_id===g),O=f.filter(R=>R.chat_type==="free"),H=f.filter(R=>R.chat_type==="premium"),D=(r==null?void 0:r.role)==="admin",ne=(o==null?void 0:o.isActive)||D||(y==null?void 0:y.can_use_premium);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Chat - SardAI"}),s.jsx("meta",{name:"description",content:"Conversa con SardAI in modalità gratuita o premium con lingua sarda autentica."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern flex",children:[s.jsx(Xf,{isOpen:d,onClose:()=>h(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[s.jsxs("div",{className:"w-full lg:w-80 border-b lg:border-b-0 lg:border-r border-white/10 bg-slate-900/50",children:[s.jsxs("div",{className:"p-4 border-b border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>h(!0),className:"lg:hidden text-white hover:bg-white/10",children:s.jsx(Zl,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Le tue Chat"}),s.jsx(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:s.jsx(Fe,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{onClick:()=>P("free"),variant:"outline",className:"w-full justify-start border-blue-500/50 text-blue-400 hover:bg-blue-500/10",children:[s.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Nuova Chat Gratuita"]}),ne&&s.jsxs(T,{onClick:()=>P("premium"),variant:"outline",className:"w-full justify-start border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10",children:[s.jsx(Bi,{className:"w-4 h-4 mr-2"}),D?s.jsx(Ze,{className:"w-4 h-4 mr-1"}):s.jsx(G,{className:"w-4 h-4 mr-1"}),"Nuova Chat ",D?"Admin":"Premium"]})]})]}),s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Stato Account"}),s.jsx("span",{className:`text-sm font-semibold ${D?"text-red-400":o!=null&&o.isActive||y!=null&&y.can_use_premium?"text-yellow-400":"text-blue-400"}`,children:D?"Admin":o!=null&&o.isActive?"Premium":(y==null?void 0:y.plan)==="trial"&&!(y!=null&&y.trial_expired)?"Prova Gratuita":"Gratuito"})]}),y&&s.jsxs("div",{className:"text-xs text-gray-400",children:[y.plan==="trial"&&!y.trial_expired&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{className:"w-3 h-3"}),s.jsxs("span",{children:["Prova: ",y.trial_days_left," giorni rimasti"]})]}),(o==null?void 0:o.isActive)&&o.current_period_end&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{className:"w-3 h-3"}),s.jsxs("span",{children:["Rinnovo: ",new Date(o.current_period_end*1e3).toLocaleDateString("it-IT")]})]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[O.length>0&&s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center",children:[s.jsx(We,{className:"w-4 h-4 mr-2"}),"Chat Gratuite (",O.length,")"]}),s.jsx("div",{className:"space-y-2",children:O.map(R=>s.jsxs("div",{className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${g===R.id?"bg-blue-600/20 border border-blue-500/30":"hover:bg-slate-800/50"}`,onClick:()=>N(R.id),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:R.title}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(R.updated_at).toLocaleDateString("it-IT")})]}),s.jsx(T,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),_(R.id)},className:"opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 hover:bg-red-400/10",children:s.jsx(ja,{className:"w-4 h-4"})})]},R.id))})]}),H.length>0&&s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center",children:[D?s.jsx(Ze,{className:"w-4 h-4 mr-2 text-red-400"}):s.jsx(G,{className:"w-4 h-4 mr-2 text-yellow-400"}),"Chat ",D?"Admin":"Premium"," (",H.length,")"]}),s.jsx("div",{className:"space-y-2",children:H.map(R=>s.jsxs("div",{className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${g===R.id?D?"bg-red-600/20 border border-red-500/30":"bg-yellow-600/20 border border-yellow-500/30":"hover:bg-slate-800/50"}`,onClick:()=>N(R.id),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:R.title}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(R.updated_at).toLocaleDateString("it-IT")})]}),s.jsx(T,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),_(R.id)},className:"opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 hover:bg-red-400/10",children:s.jsx(ja,{className:"w-4 h-4"})})]},R.id))})]}),f.length===0&&s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(We,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Nessuna chat ancora"}),s.jsxs(T,{onClick:()=>P("free"),className:"sardinian-gradient hover:opacity-90",children:[s.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Inizia la prima chat"]})]}),!ne&&s.jsx("div",{className:"p-4",children:s.jsx(pI,{})})]})]}),s.jsx("div",{className:"flex-1 flex flex-col",children:g?s.jsxs(mc,{value:c,onValueChange:u,className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"px-4 pt-4 border-b border-white/10",children:s.jsxs(Ha,{className:"bg-slate-800/50 border border-slate-600",children:[s.jsxs(mt,{value:"free",className:"flex items-center space-x-2",children:[s.jsx(We,{className:"w-4 h-4"}),s.jsx("span",{children:"Modalità Gratuita"})]}),s.jsxs(mt,{value:"premium",className:"flex items-center space-x-2",children:[D?s.jsx(Ze,{className:"w-4 h-4"}):s.jsx(G,{className:"w-4 h-4"}),s.jsxs("span",{children:["Modalità ",D?"Admin":"Premium"]}),!ne&&s.jsx("span",{className:"ml-1 px-2 py-1 text-xs bg-yellow-500 text-black rounded-full",children:"Upgrade"})]})]})}),s.jsx(pt,{value:"free",className:"flex-1 flex flex-col mt-0",children:s.jsx(fI,{messages:k,onSendMessage:p,loading:x,planStatus:y})}),s.jsx(pt,{value:"premium",className:"flex-1 flex flex-col mt-0",children:s.jsx(mI,{messages:k,onSendMessage:p,loading:x,isAdmin:D})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-md",children:[s.jsx("div",{className:"w-20 h-20 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ee,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Benvenuto in SardAI Chat!"}),s.jsx("p",{className:"text-gray-300 mb-8",children:D?"Come amministratore hai accesso completo a tutte le funzionalità di chat.":"Seleziona una chat esistente dalla barra laterale o creane una nuova per iniziare a conversare con il tuo assistente sardo preferito."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>P("free"),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(We,{className:"w-4 h-4 mr-2"}),"Inizia Chat Gratuita"]}),ne&&s.jsxs(T,{onClick:()=>P("premium"),variant:"outline",className:`w-full ${D?"border-red-500/50 text-red-400 hover:bg-red-500/10":"border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10"}`,children:[D?s.jsx(Ze,{className:"w-4 h-4 mr-2"}):s.jsx(G,{className:"w-4 h-4 mr-2"}),"Inizia Chat ",D?"Admin":"Premium"]})]})]})})})]})]})]})}var xI="Label",eb=m.forwardRef((e,t)=>s.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eb.displayName=xI;var tb=eb;const vI=Jl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=Y.forwardRef(({className:e,...t},n)=>s.jsx(tb,{ref:n,className:oe(vI(),e),...t}));Pt.displayName=tb.displayName;var xu="focusScope.autoFocusOnMount",vu="focusScope.autoFocusOnUnmount",nx={bubbles:!1,cancelable:!0},yI="FocusScope",nb=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=tn(i),d=tn(a),h=m.useRef(null),f=jt(t,x=>c(x)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(j){if(g.paused||!l)return;const b=j.target;l.contains(b)?h.current=b:Wn(h.current,{select:!0})},y=function(j){if(g.paused||!l)return;const b=j.relatedTarget;b!==null&&(l.contains(b)||Wn(h.current,{select:!0}))},p=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&Wn(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const v=new MutationObserver(p);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),v.disconnect()}}},[r,l,g.paused]),m.useEffect(()=>{if(l){sx.add(g);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(xu,nx);l.addEventListener(xu,u),l.dispatchEvent(p),p.defaultPrevented||(wI(CI(rb(l)),{select:!0}),document.activeElement===x&&Wn(l))}return()=>{l.removeEventListener(xu,u),setTimeout(()=>{const p=new CustomEvent(vu,nx);l.addEventListener(vu,d),l.dispatchEvent(p),p.defaultPrevented||Wn(x??document.body,{select:!0}),l.removeEventListener(vu,d),sx.remove(g)},0)}}},[l,u,d,g]);const w=m.useCallback(x=>{if(!n&&!r||g.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(y&&p){const v=x.currentTarget,[j,b]=jI(v);j&&b?!x.shiftKey&&p===b?(x.preventDefault(),n&&Wn(j,{select:!0})):x.shiftKey&&p===j&&(x.preventDefault(),n&&Wn(b,{select:!0})):p===v&&x.preventDefault()}},[n,r,g.paused]);return s.jsx(ge.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});nb.displayName=yI;function wI(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Wn(r,{select:t}),document.activeElement!==n)return}function jI(e){const t=rb(e),n=rx(t,e),r=rx(t.reverse(),e);return[n,r]}function rb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rx(e,t){for(const n of e)if(!bI(n,{upTo:t}))return n}function bI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function NI(e){return e instanceof HTMLInputElement&&"select"in e}function Wn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&NI(e)&&t&&e.select()}}var sx=SI();function SI(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ix(e,t),e.unshift(t)},remove(t){var n;e=ix(e,t),(n=e[0])==null||n.resume()}}}function ix(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function CI(e){return e.filter(t=>t.tagName!=="A")}var yu=0;function _I(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ax()),document.body.insertAdjacentElement("beforeend",e[1]??ax()),yu++,()=>{yu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yu--}},[])}function ax(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var on=function(){return on=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},on.apply(this,arguments)};function sb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function PI(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Bo="right-scroll-bar-position",Ho="width-before-scroll-bar",TI="with-scroll-bars-hidden",EI="--removed-body-scroll-bar-size";function wu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kI(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var AI=typeof window<"u"?m.useLayoutEffect:m.useEffect,ox=new WeakMap;function RI(e,t){var n=kI(t||null,function(r){return e.forEach(function(i){return wu(i,r)})});return AI(function(){var r=ox.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||wu(l,null)}),a.forEach(function(l){i.has(l)||wu(l,o)})}ox.set(n,e)},[e]),n}function II(e){return e}function OI(e,t){t===void 0&&(t=II);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function DI(e){e===void 0&&(e={});var t=OI(null);return t.options=on({async:!0,ssr:!1},e),t}var ib=function(e){var t=e.sideCar,n=sb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,on({},n))};ib.isSideCarExport=!0;function LI(e,t){return e.useMedium(t),ib}var ab=DI(),ju=function(){},gc=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:ju,onWheelCapture:ju,onTouchMoveCapture:ju}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,g=e.noRelative,w=e.noIsolation,x=e.inert,y=e.allowPinchZoom,p=e.as,v=p===void 0?"div":p,j=e.gapMode,b=sb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,P=RI([n,t]),_=on(on({},b),i);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:ab,removeScrollBar:u,shards:h,noRelative:g,noIsolation:w,inert:x,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:j}),o?m.cloneElement(m.Children.only(l),on(on({},_),{ref:P})):m.createElement(v,on({},_,{className:c,ref:P}),l))});gc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gc.classNames={fullWidth:Ho,zeroRight:Bo};var lx,MI=function(){if(lx)return lx;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=MI();return t&&e.setAttribute("nonce",t),e}function FI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $I(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var UI=function(){var e=0,t=null;return{add:function(n){e==0&&(t=zI())&&(FI(t,n),$I(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},VI=function(){var e=UI();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ob=function(){var e=VI(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},BI={left:0,top:0,right:0,gap:0},bu=function(e){return parseInt(e||"",10)||0},HI=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[bu(n),bu(r),bu(i)]},WI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return BI;var t=HI(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},GI=ob(),Bs="data-scroll-locked",KI=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(TI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Bs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bo,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ho,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Bo," .").concat(Bo,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ho," .").concat(Ho,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bs,`] {
    `).concat(EI,": ").concat(l,`px;
  }
`)},cx=function(){var e=parseInt(document.body.getAttribute(Bs)||"0",10);return isFinite(e)?e:0},qI=function(){m.useEffect(function(){return document.body.setAttribute(Bs,(cx()+1).toString()),function(){var e=cx()-1;e<=0?document.body.removeAttribute(Bs):document.body.setAttribute(Bs,e.toString())}},[])},QI=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;qI();var a=m.useMemo(function(){return WI(i)},[i]);return m.createElement(GI,{styles:KI(a,!t,i,n?"":"!important")})},oh=!1;if(typeof window<"u")try{var No=Object.defineProperty({},"passive",{get:function(){return oh=!0,!0}});window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{oh=!1}var gs=oh?{passive:!1}:!1,YI=function(e){return e.tagName==="TEXTAREA"},lb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!YI(e)&&n[t]==="visible")},XI=function(e){return lb(e,"overflowY")},JI=function(e){return lb(e,"overflowX")},ux=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=cb(e,r);if(i){var a=ub(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ZI=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},e3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},cb=function(e,t){return e==="v"?XI(t):JI(t)},ub=function(e,t){return e==="v"?ZI(t):e3(t)},t3=function(e,t){return e==="h"&&t==="rtl"?-1:1},n3=function(e,t,n,r,i){var a=t3(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var g=ub(e,l),w=g[0],x=g[1],y=g[2],p=x-y-a*w;(w||p)&&cb(e,l)&&(h+=p,f+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(i&&Math.abs(h)<1||!i&&o>h)||!d&&(i&&Math.abs(f)<1||!i&&-o>f))&&(u=!0),u},So=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dx=function(e){return[e.deltaX,e.deltaY]},hx=function(e){return e&&"current"in e?e.current:e},r3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},s3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},i3=0,xs=[];function a3(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(i3++)[0],a=m.useState(ob)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=PI([e.lockRef.current],(e.shards||[]).map(hx),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=So(x),v=n.current,j="deltaX"in x?x.deltaX:v[0]-p[0],b="deltaY"in x?x.deltaY:v[1]-p[1],S,P=x.target,_=Math.abs(j)>Math.abs(b)?"h":"v";if("touches"in x&&_==="h"&&P.type==="range")return!1;var N=ux(_,P);if(!N)return!0;if(N?S=_:(S=_==="v"?"h":"v",N=ux(_,P)),!N)return!1;if(!r.current&&"changedTouches"in x&&(j||b)&&(r.current=S),!S)return!0;var k=r.current||S;return n3(k,y,x,k==="h"?j:b,!0)},[]),c=m.useCallback(function(x){var y=x;if(!(!xs.length||xs[xs.length-1]!==a)){var p="deltaY"in y?dx(y):So(y),v=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&r3(S.delta,p)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var j=(o.current.shards||[]).map(hx).filter(Boolean).filter(function(S){return S.contains(y.target)}),b=j.length>0?l(y,j[0]):!o.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(x,y,p,v){var j={name:x,delta:y,target:p,should:v,shadowParent:o3(p)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(b){return b!==j})},1)},[]),d=m.useCallback(function(x){n.current=So(x),r.current=void 0},[]),h=m.useCallback(function(x){u(x.type,dx(x),x.target,l(x,e.lockRef.current))},[]),f=m.useCallback(function(x){u(x.type,So(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return xs.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,gs),document.addEventListener("touchmove",c,gs),document.addEventListener("touchstart",d,gs),function(){xs=xs.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,gs),document.removeEventListener("touchmove",c,gs),document.removeEventListener("touchstart",d,gs)}},[]);var g=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(a,{styles:s3(i)}):null,g?m.createElement(QI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function o3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const l3=LI(ab,a3);var db=m.forwardRef(function(e,t){return m.createElement(gc,on({},e,{ref:t,sideCar:l3}))});db.classNames=gc.classNames;const c3=db;var u3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vs=new WeakMap,Co=new WeakMap,_o={},Nu=0,hb=function(e){return e&&(e.host||hb(e.parentNode))},d3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},h3=function(e,t,n,r){var i=d3(t,Array.isArray(e)?e:[e]);_o[n]||(_o[n]=new WeakMap);var a=_o[n],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var g=f.getAttribute(r),w=g!==null&&g!=="false",x=(vs.get(f)||0)+1,y=(a.get(f)||0)+1;vs.set(f,x),a.set(f,y),o.push(f),x===1&&w&&Co.set(f,!0),y===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",f,p)}})};return d(t),l.clear(),Nu++,function(){o.forEach(function(h){var f=vs.get(h)-1,g=a.get(h)-1;vs.set(h,f),a.set(h,g),f||(Co.has(h)||h.removeAttribute(r),Co.delete(h)),g||h.removeAttribute(n)}),Nu--,Nu||(vs=new WeakMap,vs=new WeakMap,Co=new WeakMap,_o={})}},f3=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||u3(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),h3(r,i,n,"aria-hidden")):function(){return null}},xc="Dialog",[fb,mb]=os(xc),[m3,nn]=fb(xc),pb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Yl({prop:r,defaultProp:i??!1,onChange:a,caller:xc});return s.jsx(m3,{scope:t,triggerRef:l,contentRef:c,contentId:Yi(),titleId:Yi(),descriptionId:Yi(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};pb.displayName=xc;var gb="DialogTrigger",xb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(gb,n),a=jt(t,i.triggerRef);return s.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":em(i.open),...r,ref:a,onClick:de(e.onClick,i.onOpenToggle)})});xb.displayName=gb;var Jf="DialogPortal",[p3,vb]=fb(Jf,{forceMount:void 0}),yb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=nn(Jf,t);return s.jsx(p3,{scope:t,forceMount:n,children:m.Children.map(r,o=>s.jsx(oi,{present:n||a.open,children:s.jsx(uf,{asChild:!0,container:i,children:o})}))})};yb.displayName=Jf;var Al="DialogOverlay",wb=m.forwardRef((e,t)=>{const n=vb(Al,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=nn(Al,e.__scopeDialog);return a.modal?s.jsx(oi,{present:r||a.open,children:s.jsx(x3,{...i,ref:t})}):null});wb.displayName=Al;var g3=xa("DialogOverlay.RemoveScroll"),x3=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(Al,n);return s.jsx(c3,{as:g3,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(ge.div,{"data-state":em(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ns="DialogContent",jb=m.forwardRef((e,t)=>{const n=vb(ns,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=nn(ns,e.__scopeDialog);return s.jsx(oi,{present:r||a.open,children:a.modal?s.jsx(v3,{...i,ref:t}):s.jsx(y3,{...i,ref:t})})});jb.displayName=ns;var v3=m.forwardRef((e,t)=>{const n=nn(ns,e.__scopeDialog),r=m.useRef(null),i=jt(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return f3(a)},[]),s.jsx(bb,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:de(e.onFocusOutside,a=>a.preventDefault())})}),y3=m.forwardRef((e,t)=>{const n=nn(ns,e.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return s.jsx(bb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),bb=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=nn(ns,n),c=m.useRef(null),u=jt(t,c);return _I(),s.jsxs(s.Fragment,{children:[s.jsx(nb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(cf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":em(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(j3,{titleId:l.titleId}),s.jsx(N3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Zf="DialogTitle",Nb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(Zf,n);return s.jsx(ge.h2,{id:i.titleId,...r,ref:t})});Nb.displayName=Zf;var Sb="DialogDescription",Cb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(Sb,n);return s.jsx(ge.p,{id:i.descriptionId,...r,ref:t})});Cb.displayName=Sb;var _b="DialogClose",Pb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=nn(_b,n);return s.jsx(ge.button,{type:"button",...r,ref:t,onClick:de(e.onClick,()=>i.onOpenChange(!1))})});Pb.displayName=_b;function em(e){return e?"open":"closed"}var Tb="DialogTitleWarning",[w3,Eb]=QC(Tb,{contentName:ns,titleName:Zf,docsSlug:"dialog"}),j3=({titleId:e})=>{const t=Eb(Tb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},b3="DialogDescriptionWarning",N3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Eb(b3).contentName}}.`;return m.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},S3=pb,C3=xb,_3=yb,P3=wb,T3=jb,E3=Nb,k3=Cb,kb=Pb,Ab="AlertDialog",[A3,MO]=os(Ab,[mb]),$n=mb(),Rb=e=>{const{__scopeAlertDialog:t,...n}=e,r=$n(t);return s.jsx(S3,{...r,...n,modal:!0})};Rb.displayName=Ab;var R3="AlertDialogTrigger",Ib=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$n(n);return s.jsx(C3,{...i,...r,ref:t})});Ib.displayName=R3;var I3="AlertDialogPortal",Ob=e=>{const{__scopeAlertDialog:t,...n}=e,r=$n(t);return s.jsx(_3,{...r,...n})};Ob.displayName=I3;var O3="AlertDialogOverlay",Db=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$n(n);return s.jsx(P3,{...i,...r,ref:t})});Db.displayName=O3;var Hs="AlertDialogContent",[D3,L3]=A3(Hs),M3=ZC("AlertDialogContent"),Lb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=$n(n),o=m.useRef(null),l=jt(t,o),c=m.useRef(null);return s.jsx(w3,{contentName:Hs,titleName:Mb,docsSlug:"alert-dialog",children:s.jsx(D3,{scope:n,cancelRef:c,children:s.jsxs(T3,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:de(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(M3,{children:r}),s.jsx(F3,{contentRef:o})]})})})});Lb.displayName=Hs;var Mb="AlertDialogTitle",zb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$n(n);return s.jsx(E3,{...i,...r,ref:t})});zb.displayName=Mb;var Fb="AlertDialogDescription",$b=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$n(n);return s.jsx(k3,{...i,...r,ref:t})});$b.displayName=Fb;var z3="AlertDialogAction",Ub=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=$n(n);return s.jsx(kb,{...i,...r,ref:t})});Ub.displayName=z3;var Vb="AlertDialogCancel",Bb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=L3(Vb,n),a=$n(n),o=jt(t,i);return s.jsx(kb,{...a,...r,ref:o})});Bb.displayName=Vb;var F3=({contentRef:e})=>{const t=`\`${Hs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hs}\` by passing a \`${Fb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$3=Rb,U3=Ib,V3=Ob,Hb=Db,Wb=Lb,Gb=Ub,Kb=Bb,qb=zb,Qb=$b;const er=$3,tr=U3,B3=V3,Yb=Y.forwardRef(({className:e,...t},n)=>s.jsx(Hb,{className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Yb.displayName=Hb.displayName;const Sn=Y.forwardRef(({className:e,...t},n)=>s.jsxs(B3,{children:[s.jsx(Yb,{}),s.jsx(Wb,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Sn.displayName=Wb.displayName;const Cn=({className:e,...t})=>s.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Cn.displayName="AlertDialogHeader";const _n=({className:e,...t})=>s.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_n.displayName="AlertDialogFooter";const Pn=Y.forwardRef(({className:e,...t},n)=>s.jsx(qb,{ref:n,className:oe("text-lg font-semibold",e),...t}));Pn.displayName=qb.displayName;const Tn=Y.forwardRef(({className:e,...t},n)=>s.jsx(Qb,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Tn.displayName=Qb.displayName;const nr=Y.forwardRef(({className:e,...t},n)=>s.jsx(Gb,{ref:n,className:oe(qf(),e),...t}));nr.displayName=Gb.displayName;const En=Y.forwardRef(({className:e,...t},n)=>s.jsx(Kb,{ref:n,className:oe(qf({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));En.displayName=Kb.displayName;function H3(){const e=he(),{login:t,sendPasswordResetEmail:n}=tt(),{toast:r}=Se(),[i,a]=m.useState({email:"",password:""}),[o,l]=m.useState(!1);m.useState("");const c=async d=>{d.preventDefault(),l(!0);const h=await t(i.email,i.password);h.success?(r({title:"Bentornato! 🎉",description:"Accesso effettuato con successo. Benvenuto in SardAI!"}),e("/dashboard")):r({title:"Errore di accesso",description:h.error||"Credenziali non valide",variant:"destructive"}),l(!1)},u=d=>{a({...i,[d.target.name]:d.target.value})};return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Accedi - SardAI"}),s.jsx("meta",{name:"description",content:"Accedi al tuo account SardAI e inizia a conversare con l'assistente virtuale sardo."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/"),className:"text-white hover:bg-white/10 mb-6",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna alla Home"]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(q,{className:"text-2xl font-bold text-white",children:"Bentornato!"}),s.jsx(Nn,{className:"text-gray-300",children:"Accedi al tuo account per continuare a conversare"})]}),s.jsxs(V,{children:[s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"email",className:"text-white",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(xr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"email",name:"email",type:"email",placeholder:"la.tua.email@esempio.com",value:i.email,onChange:u,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"password",className:"text-white",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"password",name:"password",type:"password",placeholder:"La tua password",value:i.password,onChange:u,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsx(T,{type:"submit",disabled:o,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:o?"Accesso in corso...":"Accedi"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-300",children:["Non hai ancora un account?"," ",s.jsx(gt,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Registrati qui"})]})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(T,{variant:"ghost",onClick:()=>e("/auth/resend-confirmation"),className:"text-gray-400 hover:text-gray-300",children:"Password dimenticata?"})}),s.jsx("div",{className:"mt-2 text-center",children:s.jsx(T,{variant:"ghost",onClick:()=>e("/auth/resend-confirmation"),className:"text-gray-400 hover:text-gray-300 text-sm",children:"Non hai ricevuto l'email di conferma?"})})]})]})]})})]})}function W3(){const e=he(),{register:t}=tt(),{toast:n}=Se(),[r,i]=m.useState({name:"",email:"",password:"",confirmPassword:""}),[a,o]=m.useState(!1),l=async u=>{if(u.preventDefault(),r.password!==r.confirmPassword){n({title:"Errore",description:"Le password non coincidono",variant:"destructive"});return}if(r.password.length<6){n({title:"Errore",description:"La password deve essere di almeno 6 caratteri",variant:"destructive"});return}o(!0);const d=await t({name:r.name,email:r.email,password:r.password});d.success?(n({title:"Benvenuto in SardAI! 🎉",description:"Registrazione quasi completata! Controlla la tua email per confermare l'account."}),e("/login")):n({title:"Errore di registrazione",description:d.error||"Si è verificato un errore, l'utente potrebbe già esistere.",variant:"destructive"}),o(!1)},c=u=>{i({...r,[u.target.name]:u.target.value})};return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Registrati - SardAI"}),s.jsx("meta",{name:"description",content:"Crea il tuo account SardAI e inizia a conversare con l'assistente virtuale sardo."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/"),className:"text-white hover:bg-white/10 mb-6",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna alla Home"]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(q,{className:"text-2xl font-bold text-white",children:"Unisciti a SardAI"}),s.jsx(Nn,{className:"text-gray-300",children:"Crea il tuo account e inizia a conversare"})]}),s.jsxs(V,{children:[s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"name",className:"text-white",children:"Nome completo"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"name",name:"name",type:"text",placeholder:"Il tuo nome",value:r.name,onChange:c,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"email",className:"text-white",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(xr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"email",name:"email",type:"email",placeholder:"la.tua.email@esempio.com",value:r.email,onChange:c,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"password",className:"text-white",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"password",name:"password",type:"password",placeholder:"Almeno 6 caratteri",value:r.password,onChange:c,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"confirmPassword",className:"text-white",children:"Conferma password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Ripeti la password",value:r.confirmPassword,onChange:c,required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsx(T,{type:"submit",disabled:a,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:a?"Registrazione in corso...":"Crea Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-300",children:["Hai già un account?"," ",s.jsx(gt,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Accedi qui"})]})})]})]})]})})]})}function G3(){he();const{user:e,profile:t}=tt(),[n,r]=m.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Dashboard - SardAI"}),s.jsx("meta",{name:"description",content:"Dashboard personale di SardAI con statistiche e accesso rapido alle funzionalità."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern flex",children:[s.jsx(Xf,{isOpen:n,onClose:()=>r(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"lg:hidden text-white hover:bg-white/10",children:s.jsx(Zl,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Dashboard"})]})]}),s.jsxs("div",{className:"text-sm text-gray-300",children:["Benvenuto, ",t==null?void 0:t.full_name,"!"]})]})}),s.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Ciao, ",t==null?void 0:t.full_name,"! 👋"]}),s.jsx("p",{className:"text-gray-300",children:"Pronto per una nuova conversazione con SardAI?"})]}),s.jsx(gt,{to:"/chat",children:s.jsxs(T,{className:"sardinian-gradient hover:opacity-90",children:[s.jsx(We,{className:"w-4 h-4 mr-2"}),"Inizia Chat"]})})]})})})}),s.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Conversazioni"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"12"})]}),s.jsx(We,{className:"w-8 h-8 text-blue-400"})]})})}),s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Giorni Attivo"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:e!=null&&e.created_at?Math.floor((new Date-new Date(e.created_at))/(1e3*60*60*24)):0})]}),s.jsx(es,{className:"w-8 h-8 text-green-400"})]})})}),s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Messaggi Inviati"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"47"})]}),s.jsx(ky,{className:"w-8 h-8 text-purple-400"})]})})}),s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Piano"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:(t==null?void 0:t.role)==="admin"?"Admin":t!=null&&t.is_premium?"Premium":"Gratuito"})]}),(t==null?void 0:t.role)==="admin"?s.jsx(Ze,{className:"w-8 h-8 text-red-400"}):t!=null&&t.is_premium?s.jsx(G,{className:"w-8 h-8 text-yellow-400"}):s.jsx(Kr,{className:"w-8 h-8 text-gray-400"})]})})})]}),s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(vf,{className:"w-5 h-5 mr-2"}),"Azioni Rapide"]})}),s.jsx(V,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(gt,{to:"/chat",children:s.jsxs(T,{variant:"outline",className:"w-full h-20 flex flex-col space-y-2 border-white/20 text-white hover:bg-white/10",children:[s.jsx(We,{className:"w-6 h-6"}),s.jsx("span",{children:"Nuova Chat"})]})}),s.jsx(gt,{to:"/profile",children:s.jsxs(T,{variant:"outline",className:"w-full h-20 flex flex-col space-y-2 border-white/20 text-white hover:bg-white/10",children:[s.jsx(Kr,{className:"w-6 h-6"}),s.jsx("span",{children:"Modifica Profilo"})]})}),!(t!=null&&t.is_premium)&&(t==null?void 0:t.role)!=="admin"&&s.jsx(gt,{to:"/subscription",children:s.jsxs(T,{variant:"outline",className:"w-full h-20 flex flex-col space-y-2 border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10",children:[s.jsx(G,{className:"w-6 h-6"}),s.jsx("span",{children:"Diventa Premium"})]})})]})})]})}),s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(Cy,{className:"w-5 h-5 mr-2"}),"Attività Recente"]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/30",children:[s.jsx(We,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:"Conversazione in modalità gratuita"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"2 ore fa"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/30",children:[s.jsx(Kr,{className:"w-5 h-5 text-green-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:"Profilo aggiornato"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"1 giorno fa"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-slate-800/30",children:[s.jsx(Ee,{className:"w-5 h-5 text-purple-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm",children:"Primo accesso a SardAI"}),s.jsx("p",{className:"text-gray-400 text-xs",children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("it-IT"):"Data non disponibile"})]})]})]})})]})}),!(t!=null&&t.is_premium)&&(t==null?void 0:t.role)!=="admin"&&s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsx(F,{className:"sardinian-card premium-glow",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(G,{className:"w-12 h-12 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Sblocca SardAI Premium"}),s.jsx("p",{className:"text-gray-300",children:"Conversa in lingua sarda autentica e accedi a funzionalità esclusive"})]})]}),s.jsx(gt,{to:"/subscription",children:s.jsx(T,{className:"sardinian-gradient hover:opacity-90",children:"Scopri Premium"})})]})})})})]})})]})]})]})}function K3(){var y,p;const e=he(),{user:t,profile:n,updateProfile:r}=tt(),{toast:i}=Se(),[a,o]=m.useState({full_name:"",email:""}),[l,c]=m.useState(!1),[u,d]=m.useState(null),[h,f]=m.useState(!1);m.useEffect(()=>{n&&(o({full_name:n.full_name||"",email:t.email}),d(n.avatar_url))},[n,t]);const g=async v=>{v.preventDefault(),c(!0);const{error:j}=await r({full_name:a.full_name});i(j?{title:"Errore",description:j,variant:"destructive"}:{title:"Profilo aggiornato! ✅",description:"Le tue informazioni sono state salvate con successo."}),c(!1)},w=v=>{o({...a,[v.target.name]:v.target.value})},x=async v=>{try{if(f(!0),!v.target.files||v.target.files.length===0)throw new Error("You must select an image to upload.");const j=v.target.files[0],b=j.name.split(".").pop(),P=`${`${t.id}.${b}`}`;let{error:_}=await J.storage.from("avatars").upload(P,j,{upsert:!0});if(_)throw _;const{data:{publicUrl:N}}=J.storage.from("avatars").getPublicUrl(P);await r({avatar_url:N}),d(N),i({title:"Avatar aggiornato!",description:"La tua immagine del profilo è stata cambiata."})}catch(j){i({title:"Errore caricamento avatar",description:j.message,variant:"destructive"})}finally{f(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Profilo - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo profilo SardAI e le impostazioni del tuo account."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Il Mio Profilo"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsx(F,{className:"sardinian-card mb-8",children:s.jsxs(K,{className:"text-center",children:[s.jsxs("div",{className:"relative mx-auto mb-4",children:[s.jsxs(zt,{className:"w-24 h-24 mx-auto",children:[s.jsx(Pa,{src:u}),s.jsx(Ft,{className:"bg-blue-600 text-white text-2xl",children:(p=(y=n==null?void 0:n.full_name)==null?void 0:y.charAt(0))==null?void 0:p.toUpperCase()})]}),s.jsx(T,{size:"icon",asChild:!0,className:"absolute bottom-0 right-0 rounded-full w-8 h-8 sardinian-gradient",children:s.jsxs(Pt,{htmlFor:"avatar-upload",children:[s.jsx(_y,{className:"w-4 h-4"}),s.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:x,disabled:h,className:"hidden"})]})})]}),s.jsx(q,{className:"text-2xl text-white",children:n==null?void 0:n.full_name}),s.jsx(Nn,{className:"text-gray-300 flex items-center justify-center space-x-2",children:(n==null?void 0:n.role)==="admin"?s.jsxs(s.Fragment,{children:[s.jsx(Ze,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{children:"Amministratore"})]}):n!=null&&n.is_premium?s.jsxs(s.Fragment,{children:[s.jsx(G,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:"Utente Premium"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4"}),s.jsx("span",{children:"Utente Gratuito"})]})})]})}),s.jsxs(F,{className:"sardinian-card mb-8",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(Bt,{className:"w-5 h-5 mr-2"}),"Informazioni Account"]})}),s.jsx(V,{children:s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"full_name",className:"text-white",children:"Nome completo"}),s.jsx(_e,{id:"full_name",name:"full_name",type:"text",value:a.full_name,onChange:w,className:"bg-slate-800/50 border-slate-600 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"email",className:"text-white",children:"Email"}),s.jsx(_e,{id:"email",name:"email",type:"email",value:a.email,disabled:!0,className:"bg-slate-800/50 border-slate-600 text-white disabled:opacity-70"})]}),s.jsxs(T,{type:"submit",disabled:l||h,className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(Ld,{className:"w-4 h-4 mr-2"}),l?"Salvataggio...":"Salva Modifiche"]})]})})]}),s.jsxs(F,{className:"sardinian-card mb-8",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(es,{className:"w-5 h-5 mr-2"}),"Statistiche Account"]})}),s.jsx(V,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-400",children:t!=null&&t.created_at?Math.floor((new Date-new Date(t.created_at))/(1e3*60*60*24)):0}),s.jsx("p",{className:"text-gray-300",children:"Giorni con SardAI"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-400",children:(n==null?void 0:n.role)==="admin"?"Admin":n!=null&&n.is_premium?"Premium":"Gratuito"}),s.jsx("p",{className:"text-gray-300",children:"Tipo di Account"})]})]})})]}),!(n!=null&&n.is_premium)&&(n==null?void 0:n.role)!=="admin"&&s.jsxs(F,{className:"sardinian-card premium-glow",children:[s.jsxs(K,{children:[s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(G,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Diventa Premium"]}),s.jsx(Nn,{className:"text-gray-300",children:"Sblocca la modalità sarda autentica e funzionalità esclusive"})]}),s.jsx(V,{children:s.jsxs(T,{onClick:()=>e("/subscription"),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Scopri Premium"]})})]})]})})})]})]})}function q3(){var g,w,x,y;const e=he(),[t]=hn(),{profile:n}=tt();Se();const{createCheckoutSession:r,handlePaymentSuccess:i,handlePaymentCanceled:a,loading:o}=pc(),{subscription:l,loading:c,refetch:u}=ds();if(m.useEffect(()=>{const p=t.get("payment");p==="success"?(i(),u(),e("/subscription",{replace:!0})):p==="canceled"&&(a(),e("/subscription",{replace:!0}))},[t,i,a,e,u]),(n==null?void 0:n.role)==="admin")return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Abbonamento Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento Premium SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pannello Admin"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:s.jsxs(F,{className:"sardinian-card text-center",children:[s.jsxs(K,{children:[s.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ze,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-3xl text-white",children:"Accesso Amministratore 🛡️"}),s.jsx(Nn,{className:"text-gray-300 text-lg",children:"Come amministratore hai accesso completo a tutte le funzionalità di SardAI!"})]}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white",children:"Il tuo ruolo di amministratore ti dà accesso a:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:["Tutte le funzionalità Premium","Chat in lingua sarda autentica","Pannello di amministrazione","Gestione utenti e segnalazioni","Statistiche e log di sistema","Gestione storage e file"].map((p,v)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:p})]},v))}),s.jsxs("div",{className:"flex space-x-4 mt-6",children:[s.jsxs(T,{onClick:()=>e("/admin"),className:"flex-1 bg-red-600 hover:bg-red-700",children:[s.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Pannello Admin"]}),s.jsx(T,{onClick:()=>e("/chat"),className:"flex-1 sardinian-gradient hover:opacity-90",children:"Inizia Chat Premium"})]})]})})]})})})})]})]});if(l!=null&&l.isActive)return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Abbonamento Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento Premium SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Abbonamento Premium"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:s.jsxs(F,{className:"sardinian-card premium-glow text-center",children:[s.jsxs(K,{children:[s.jsx("div",{className:"w-16 h-16 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(G,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-3xl text-white",children:"Sei già Premium! 🎉"}),s.jsx(Nn,{className:"text-gray-300 text-lg",children:"Grazie per supportare SardAI. Goditi tutte le funzionalità premium!"})]}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Piano Attuale"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-400 font-medium",children:((g=l.product)==null?void 0:g.name)||"Abbonamento Premium"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[(w=l.product)==null?void 0:w.price," ",(x=l.product)==null?void 0:x.currency," / ",((y=l.product)==null?void 0:y.interval)==="month"?"mese":"anno"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Rinnovo"}),s.jsx("p",{className:"text-white text-sm",children:l.current_period_end?new Date(l.current_period_end*1e3).toLocaleDateString("it-IT"):"N/A"})]})]}),l.cancel_at_period_end&&s.jsx("div",{className:"mt-3 p-2 bg-yellow-900/30 border border-yellow-500/30 rounded",children:s.jsx("p",{className:"text-yellow-400 text-sm",children:"⚠️ L'abbonamento verrà cancellato alla fine del periodo corrente"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-white",children:"Il tuo abbonamento Premium ti dà accesso a:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:["Chat in lingua sarda autentica","Dialetti: Logudorese, Campidanese","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle nuove funzionalità"].map((p,v)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:p})]},v))}),s.jsx(T,{onClick:()=>e("/chat"),className:"w-full sardinian-gradient hover:opacity-90 mt-6",children:"Inizia a Conversare in Sardo"})]})]})})]})})})})]})]});const d=p=>{r(p,"subscription")},h=["Chat in italiano con carattere sardo","Accesso alle informazioni base sulla Sardegna","Umorismo e calore tipico sardo","Supporto via email"],f=["Chat in lingua sarda autentica","Dialetti: Logudorese, Campidanese, Baronia","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle nuove funzionalità"];return c?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Diventa Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Sblocca la modalità sarda autentica e funzionalità esclusive con SardAI Premium."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna alla Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Diventa Premium"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Sblocca il Vero Potere di",s.jsx("span",{className:"block sardinian-gradient bg-clip-text text-transparent",children:"SardAI Premium"})]}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Conversa in lingua sarda autentica e accedi a contenuti culturali esclusivi"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[s.jsx(z.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:s.jsxs(F,{className:"sardinian-card h-full",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(We,{className:"w-6 h-6 text-white"})}),s.jsx(q,{className:"text-2xl text-white",children:"Gratuito"}),s.jsx(Nn,{className:"text-gray-300",children:"Perfetto per iniziare"}),s.jsxs("div",{className:"text-3xl font-bold text-white mt-4",children:["€0",s.jsx("span",{className:"text-lg font-normal text-gray-400",children:"/mese"})]})]}),s.jsxs(V,{children:[s.jsx("div",{className:"space-y-3",children:h.map((p,v)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:p})]},v))}),s.jsx(T,{variant:"outline",className:"w-full mt-6 border-white/20 text-white hover:bg-white/10",disabled:!0,children:"Piano Attuale"})]})]})}),qr.map((p,v)=>s.jsx(z.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4+v*.1},children:s.jsxs(F,{className:`sardinian-card premium-glow h-full relative ${p.interval==="month"?"border-yellow-500/30":""}`,children:[p.interval==="month"&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"bg-yellow-500 text-black px-4 py-1 rounded-full text-sm font-medium",children:"Più Popolare"})}),s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(G,{className:"w-6 h-6 text-white"})}),s.jsx(q,{className:"text-2xl text-white",children:p.name}),s.jsx(Nn,{className:"text-gray-300",children:p.description}),s.jsxs("div",{className:"text-3xl font-bold text-white mt-4",children:[p.price," ",p.currency,s.jsxs("span",{className:"text-lg font-normal text-gray-400",children:["/",p.interval==="month"?"mese":"anno"]})]}),p.interval==="year"&&s.jsx("div",{className:"text-sm text-green-400 mt-2",children:"Risparmia il 17% rispetto al piano mensile!"})]}),s.jsxs(V,{children:[s.jsx("div",{className:"space-y-3",children:f.map((j,b)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:j})]},b))}),s.jsx(T,{onClick:()=>d(p.priceId),disabled:o,className:"w-full mt-6 sardinian-gradient hover:opacity-90 text-lg py-3",children:o?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Caricamento..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Diventa Premium"]})})]})]})},p.id))]}),s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-center",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-8",children:"Perché Scegliere Premium?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(yl,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),s.jsx(q,{className:"text-white",children:"Lingua Autentica"})]}),s.jsx(V,{children:s.jsx("p",{className:"text-gray-300",children:"Conversa in vero sardo con dialetti logudorese, campidanese e varianti locali"})})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(Vi,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),s.jsx(q,{className:"text-white",children:"Cultura Profonda"})]}),s.jsx(V,{children:s.jsx("p",{className:"text-gray-300",children:"Accedi a contenuti culturali esclusivi, tradizioni e storia sarda"})})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(vf,{className:"w-12 h-12 sardinian-gradient rounded-full p-3 mx-auto mb-4"}),s.jsx(q,{className:"text-white",children:"Funzionalità Esclusive"})]}),s.jsx(V,{children:s.jsx("p",{className:"text-gray-300",children:"Mini-corsi, traduzione, guida turistica e accesso anticipato alle novità"})})]})]})]})]})})]})]})}function Q3(){var u;const[e,t]=m.useState(null),[n,r]=m.useState(!0),[i,a]=m.useState(!1),{toast:o}=Se();m.useEffect(()=>{l()},[]);const l=async(d=!1)=>{try{d?a(!0):r(!0);const{data:h,error:f}=await J.functions.invoke("admin-stats",{body:{refresh:d}});if(f)throw f;t(h)}catch(h){o({title:"Errore nel caricamento delle statistiche",description:h.message,variant:"destructive"})}finally{d?a(!1):r(!1)}};if(n)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(7)].map((d,h)=>s.jsx(F,{className:"sardinian-card animate-pulse",children:s.jsx(V,{className:"p-6",children:s.jsx("div",{className:"h-16 bg-slate-700 rounded"})})},h))});if(!e)return null;const c=[{title:"Utenti Totali",value:e.totalUsers,icon:Kr,color:"text-blue-400"},{title:"Nuovi Utenti",value:e.newUsers,icon:ky,color:"text-green-400"},{title:"Utenti Premium",value:e.premiumUsers,icon:G,color:"text-yellow-400"},{title:"Attivi (7gg)",value:e.activeUsers,icon:V_,color:"text-purple-400"},{title:"Segnalazioni",value:e.pendingReports,icon:vl,color:"text-cyan-400"},{title:"Errori Sistema",value:e.systemErrors,icon:Yt,color:"text-orange-400"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Statistiche Utenti"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Ultimo aggiornamento: ",e.lastUpdated?new Date(e.lastUpdated).toLocaleString("it-IT"):"Mai"]}),s.jsxs(T,{onClick:()=>l(!0),variant:"outline",size:"sm",disabled:i,className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),i?"Aggiornamento...":"Aggiorna"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((d,h)=>s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium",children:d.title}),s.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:d.value})]}),s.jsx(d.icon,{className:`w-8 h-8 ${d.color}`})]})})},h))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Crescita Utenti"})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Nuovi (30gg)"}),s.jsxs("span",{className:"text-blue-400 font-bold",children:["+",e.newUsers]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Attivi"}),s.jsx("span",{className:"text-purple-400 font-bold",children:e.activeUsers})]})]})})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Premium Stats"})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Utenti Premium"}),s.jsx("span",{className:"text-yellow-400 font-bold",children:e.premiumUsers})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Tasso Conversione"}),s.jsxs("span",{className:"text-green-400 font-bold",children:[e.totalUsers>0?(e.premiumUsers/e.totalUsers*100).toFixed(1):0,"%"]})]})]})})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Attività Recente"})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-3",children:[(u=e.recentActivity)==null?void 0:u.slice(0,3).map((d,h)=>s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-300",children:d.action}),s.jsx("p",{className:"text-gray-500 text-xs",children:new Date(d.created_at).toLocaleString("it-IT")})]})]},h)),(!e.recentActivity||e.recentActivity.length===0)&&s.jsx("p",{className:"text-gray-400 text-sm",children:"Nessuna attività recente"})]})})]})]})]})}function Y3(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,a]=m.useState(""),[o,l]=m.useState(0);m.useState(0);const{toast:c}=Se(),u=20;m.useEffect(()=>{d()},[o,i]);const d=async()=>{try{r(!0);const{data:w,error:x}=await J.functions.invoke("admin-user-management",{body:{action:"list",limit:u,offset:o*u,search:i||null}});if(x)throw x;t(w||[])}catch(w){c({title:"Errore nel caricamento degli utenti",description:w.message,variant:"destructive"})}finally{r(!1)}},h=async(w,x,y=null)=>{try{const{data:p,error:v}=await J.functions.invoke("admin-user-management",{body:{action:w,userId:x,email:y}});if(v)throw v;c({title:"Successo!",description:p.message||"Azione completata con successo."}),d()}catch(p){c({title:"Errore",description:p.message,variant:"destructive"})}},f=w=>{a(w.target.value),l(0)},g=w=>w?new Date(w).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Mai";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestione Utenti"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(_e,{placeholder:"Cerca per email o nome...",value:i,onChange:f,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400 w-64"})]}),s.jsx(T,{onClick:d,variant:"outline",size:"icon",className:"border-white/20 text-white hover:bg-white/10",children:s.jsx(dn,{className:"w-4 h-4"})})]})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white",children:["Utenti Registrati (",e.length,")"]})}),s.jsx(V,{children:n?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-left text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{className:"p-4 font-medium",children:"Utente"}),s.jsx("th",{className:"p-4 font-medium",children:"Stato"}),s.jsx("th",{className:"p-4 font-medium",children:"Registrato"}),s.jsx("th",{className:"p-4 font-medium",children:"Ultimo Accesso"}),s.jsx("th",{className:"p-4 font-medium text-right",children:"Azioni"})]})}),s.jsx("tbody",{children:e.map(w=>s.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:w.full_name||"Nome non disponibile"}),s.jsx("p",{className:"text-gray-400 text-sm",children:w.email}),w.is_premium&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-yellow-500/20 text-yellow-400 mt-1",children:"👑 Premium"})]})}),s.jsxs("td",{className:"p-4",children:[w.email_confirmed_at?s.jsxs("span",{className:"flex items-center text-green-400",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),"Confermato"]}):s.jsxs("span",{className:"flex items-center text-yellow-400",children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),"In attesa"]}),w.role==="admin"&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-500/20 text-red-400 mt-1",children:"🛡️ Admin"})]}),s.jsx("td",{className:"p-4 text-gray-300",children:g(w.created_at)}),s.jsx("td",{className:"p-4 text-gray-300",children:g(w.last_sign_in_at)}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[!w.email_confirmed_at&&s.jsxs(s.Fragment,{children:[s.jsxs(er,{children:[s.jsx(tr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-green-400 hover:bg-green-400/10 hover:text-green-300",children:s.jsx(sP,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Conferma Utente"}),s.jsxs(Tn,{children:["Sei sicuro di voler confermare manualmente l'utente ",w.email,"? Questa azione è irreversibile."]})]}),s.jsxs(_n,{children:[s.jsx(En,{children:"Annulla"}),s.jsx(nr,{onClick:()=>h("confirm",w.id),children:"Conferma"})]})]})]}),s.jsxs(er,{children:[s.jsx(tr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-blue-400 hover:bg-blue-400/10 hover:text-blue-300",children:s.jsx(J_,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Reinvia Email di Conferma"}),s.jsxs(Tn,{children:["Sei sicuro di voler reinviare l'email di conferma a ",w.email,"?"]})]}),s.jsxs(_n,{children:[s.jsx(En,{children:"Annulla"}),s.jsx(nr,{onClick:()=>h("resend_confirmation",null,w.email),children:"Reinvia"})]})]})]})]}),s.jsxs(er,{children:[s.jsx(tr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-orange-400 hover:bg-orange-400/10 hover:text-orange-300",children:s.jsx(Y_,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Reset Password"}),s.jsxs(Tn,{children:["Sei sicuro di voler inviare un'email di reset password a ",w.email,"?"]})]}),s.jsxs(_n,{children:[s.jsx(En,{children:"Annulla"}),s.jsx(nr,{onClick:()=>h("reset_password",null,w.email),children:"Invia Reset"})]})]})]}),s.jsxs(er,{children:[s.jsx(tr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-red-400 hover:bg-red-400/10 hover:text-red-300",children:s.jsx(ja,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Elimina Utente"}),s.jsxs(Tn,{children:["Sei sicuro di voler eliminare l'utente ",w.email,"? Questa azione è irreversibile e rimuoverà tutti i dati associati."]})]}),s.jsxs(_n,{children:[s.jsx(En,{children:"Annulla"}),s.jsx(nr,{onClick:()=>h("delete",w.id),className:"bg-destructive hover:bg-destructive/90",children:"Elimina"})]})]})]})]})})]},w.id))})]}),e.length===0&&!n&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:i?"Nessun utente trovato per la ricerca.":"Nessun utente registrato."})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Pagina ",o+1," - Mostrando ",e.length," utenti"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(T,{variant:"outline",size:"sm",onClick:()=>l(Math.max(0,o-1)),disabled:o===0,className:"border-white/20 text-white hover:bg-white/10",children:"Precedente"}),s.jsx(T,{variant:"outline",size:"sm",onClick:()=>l(o+1),disabled:e.length<u,className:"border-white/20 text-white hover:bg-white/10",children:"Successiva"})]})]})]})}const Xb=Y.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Xb.displayName="Textarea";const X3=Jl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:e,variant:t,...n}){return s.jsx("div",{className:oe(X3({variant:t}),e),...n})}function J3(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,a]=m.useState(null),[o,l]=m.useState(""),{toast:c}=Se();m.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const{data:w,error:x}=await J.functions.invoke("admin-reports",{body:{action:"list"}});if(x)throw x;t(w||[])}catch(w){c({title:"Errore nel caricamento delle segnalazioni",description:w.message,variant:"destructive"})}finally{r(!1)}},d=async(w,x)=>{try{const{data:y,error:p}=await J.functions.invoke("admin-reports",{body:{action:"update_status",reportId:w,status:x,notes:o}});if(p)throw p;c({title:"Stato aggiornato!",description:`Segnalazione marcata come ${x}.`}),u(),a(null),l("")}catch(y){c({title:"Errore",description:y.message,variant:"destructive"})}},h=w=>{const x={pending:{color:"bg-yellow-500/20 text-yellow-400",icon:ts,label:"In Attesa"},reviewed:{color:"bg-blue-500/20 text-blue-400",icon:Yt,label:"Revisionata"},resolved:{color:"bg-green-500/20 text-green-400",icon:hr,label:"Risolta"},dismissed:{color:"bg-gray-500/20 text-gray-400",icon:xf,label:"Respinta"}},y=x[w]||x.pending,p=y.icon;return s.jsxs(Ct,{className:`${y.color} border-0`,children:[s.jsx(p,{className:"w-3 h-3 mr-1"}),y.label]})},f=w=>({spam:"Spam",abuse:"Abuso",inappropriate:"Contenuto Inappropriato",other:"Altro"})[w]||w,g=w=>new Date(w).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(vl,{className:"w-6 h-6 mr-2"}),"Gestione Segnalazioni"]}),s.jsxs(T,{onClick:u,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna"]})]}),n?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsx("div",{className:"grid gap-6",children:e.length===0?s.jsx(F,{className:"sardinian-card",children:s.jsxs(V,{className:"p-8 text-center",children:[s.jsx(vl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Nessuna segnalazione presente."})]})}):e.map(w=>{var x,y,p,v;return s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(Yt,{className:"w-5 h-5 mr-2 text-orange-400"}),f(w.report_type)]}),h(w.status)]})}),s.jsxs(V,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Segnalato da:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-white",children:((x=w.reporter)==null?void 0:x.full_name)||"Nome non disponibile"}),s.jsxs("span",{className:"text-gray-400 text-sm",children:["(",(y=w.reporter)==null?void 0:y.email,")"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Utente segnalato:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-white",children:((p=w.reported_user)==null?void 0:p.full_name)||"Nome non disponibile"}),s.jsxs("span",{className:"text-gray-400 text-sm",children:["(",(v=w.reported_user)==null?void 0:v.email,")"]})]})]})]}),w.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Descrizione:"}),s.jsx("p",{className:"text-gray-300 bg-slate-800/50 p-3 rounded-lg",children:w.description})]}),w.admin_notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Note Admin:"}),s.jsx("p",{className:"text-gray-300 bg-blue-900/20 p-3 rounded-lg border border-blue-500/20",children:w.admin_notes})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[s.jsxs("div",{className:"text-sm text-gray-400",children:[s.jsxs("p",{children:["Creata: ",g(w.created_at)]}),w.resolved_at&&s.jsxs("p",{children:["Risolta: ",g(w.resolved_at)]})]}),w.status==="pending"&&s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(er,{children:[s.jsx(tr,{asChild:!0,children:s.jsxs(T,{size:"sm",variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-500/10",onClick:()=>{a(w),l(w.admin_notes||"")},children:[s.jsx(Dd,{className:"w-4 h-4 mr-2"}),"Gestisci"]})}),s.jsxs(Sn,{className:"sardinian-card max-w-2xl",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Gestisci Segnalazione"}),s.jsx(Tn,{children:"Aggiungi note e cambia lo stato della segnalazione."})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Note Admin:"}),s.jsx(Xb,{value:o,onChange:j=>l(j.target.value),placeholder:"Aggiungi note sulla segnalazione...",className:"bg-slate-800/50 border-slate-600 text-white",rows:3})]})}),s.jsxs(_n,{className:"flex flex-wrap gap-2",children:[s.jsx(En,{children:"Annulla"}),s.jsx(T,{onClick:()=>d(w.id,"reviewed"),className:"bg-blue-600 hover:bg-blue-700",children:"Marca come Revisionata"}),s.jsx(T,{onClick:()=>d(w.id,"resolved"),className:"bg-green-600 hover:bg-green-700",children:"Risolvi"}),s.jsx(T,{onClick:()=>d(w.id,"dismissed"),variant:"outline",className:"border-gray-500 text-gray-300 hover:bg-gray-500/10",children:"Respingi"})]})]})]})})]})]})]},w.id)})})]})}const Z3=()=>{const[e,t]=m.useState(!1),{toast:n}=Se();return{uploadFile:async(o,l,c,u={})=>{try{if(t(!0),!o)throw new Error("No file selected");const d=l==="avatars"?5*1024*1024:10*1024*1024;if(o.size>d)throw new Error(`File size must be less than ${d/(1024*1024)}MB`);if(!["image/jpeg","image/png","image/gif","image/webp"].includes(o.type))throw new Error("File type not supported. Please use JPEG, PNG, GIF, or WebP.");const{data:f,error:g}=await J.storage.from(l).upload(c,o,{cacheControl:"3600",upsert:u.upsert||!0,...u});if(g)throw g;const{data:{publicUrl:w}}=J.storage.from(l).getPublicUrl(f.path);return{success:!0,data:{path:f.path,publicUrl:w,fullPath:f.fullPath}}}catch(d){return console.error("Upload error:",d),n({title:"Errore Upload",description:d.message,variant:"destructive"}),{success:!1,error:d.message}}finally{t(!1)}},deleteFile:async(o,l)=>{try{const{error:c}=await J.storage.from(o).remove([l]);if(c)throw c;return{success:!0}}catch(c){return console.error("Delete error:",c),n({title:"Errore Eliminazione",description:c.message,variant:"destructive"}),{success:!1,error:c.message}}},getPublicUrl:(o,l)=>{const{data:{publicUrl:c}}=J.storage.from(o).getPublicUrl(l);return c},uploading:e}};function eO(){var y;const[e,t]=m.useState({avatars:[],"recipe-images":[]}),[n,r]=m.useState(!0),[i,a]=m.useState(""),[o,l]=m.useState("avatars"),{toast:c}=Se(),{deleteFile:u}=Z3();m.useEffect(()=>{d()},[o]);const d=async()=>{try{r(!0);const{data:p,error:v}=await J.storage.from(o).list("",{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(v)throw v;t(j=>({...j,[o]:p||[]}))}catch(p){c({title:"Errore nel caricamento dei file",description:p.message,variant:"destructive"})}finally{r(!1)}},h=async p=>{(await u(o,p)).success&&(c({title:"File eliminato",description:"Il file è stato eliminato con successo."}),d())},f=p=>{const{data:{publicUrl:v}}=J.storage.from(o).getPublicUrl(p);return v},g=p=>{if(p===0)return"0 Bytes";const v=1024,j=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(p)/Math.log(v));return parseFloat((p/Math.pow(v,b)).toFixed(2))+" "+j[b]},w=p=>new Date(p).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),x=((y=e[o])==null?void 0:y.filter(p=>p.name.toLowerCase().includes(i.toLowerCase())))||[];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Id,{className:"w-6 h-6 mr-2"}),"Gestione Storage"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"bg-slate-800/50 border border-slate-600 text-white rounded-md px-3 py-2",children:[s.jsx("option",{value:"avatars",children:"Avatar"}),s.jsx("option",{value:"recipe-images",children:"Immagini Ricette"})]}),s.jsxs(T,{onClick:d,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna"]})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(_e,{placeholder:"Cerca file...",value:i,onChange:p=>a(p.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"File Totali"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:x.length})]}),s.jsx(Op,{className:"w-8 h-8 text-blue-400"})]})})}),s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Bucket Attivo"}),s.jsx("p",{className:"text-2xl font-bold text-white capitalize",children:o})]}),s.jsx(Id,{className:"w-8 h-8 text-green-400"})]})})}),s.jsx(F,{className:"sardinian-card",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Spazio Utilizzato"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:g(x.reduce((p,v)=>{var j;return p+(((j=v.metadata)==null?void 0:j.size)||0)},0))})]}),s.jsx(rP,{className:"w-8 h-8 text-purple-400"})]})})})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white",children:["File in ",o," (",x.length,")"]})}),s.jsx(V,{children:n?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:i?"Nessun file trovato per la ricerca.":"Nessun file presente in questo bucket."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{className:"p-4 font-medium",children:"Anteprima"}),s.jsx("th",{className:"p-4 font-medium",children:"Nome File"}),s.jsx("th",{className:"p-4 font-medium",children:"Dimensione"}),s.jsx("th",{className:"p-4 font-medium",children:"Creato"}),s.jsx("th",{className:"p-4 font-medium text-right",children:"Azioni"})]})}),s.jsx("tbody",{children:x.map(p=>{var v,j;return s.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-700 flex items-center justify-center",children:[s.jsx("img",{src:f(p.name),alt:p.name,className:"w-full h-full object-cover",onError:b=>{b.target.style.display="none",b.target.nextSibling.style.display="flex"}}),s.jsx(Op,{className:"w-6 h-6 text-gray-400",style:{display:"none"}})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium truncate max-w-xs",children:p.name}),s.jsx(Ct,{className:"bg-blue-500/20 text-blue-400 border-0 mt-1",children:((v=p.metadata)==null?void 0:v.mimetype)||"image"})]})}),s.jsx("td",{className:"p-4 text-gray-300",children:g(((j=p.metadata)==null?void 0:j.size)||0)}),s.jsx("td",{className:"p-4 text-gray-300",children:w(p.created_at)}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>window.open(f(p.name),"_blank"),className:"text-blue-400 hover:bg-blue-400/10 hover:text-blue-300",children:s.jsx(Ad,{className:"w-4 h-4"})}),s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>{const b=document.createElement("a");b.href=f(p.name),b.download=p.name,b.click()},className:"text-green-400 hover:bg-green-400/10 hover:text-green-300",children:s.jsx(pf,{className:"w-4 h-4"})}),s.jsxs(er,{children:[s.jsx(tr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-red-400 hover:bg-red-400/10 hover:text-red-300",children:s.jsx(ja,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Elimina File"}),s.jsxs(Tn,{children:['Sei sicuro di voler eliminare il file "',p.name,'"? Questa azione è irreversibile.']})]}),s.jsxs(_n,{children:[s.jsx(En,{children:"Annulla"}),s.jsx(nr,{onClick:()=>h(p.name),className:"bg-destructive hover:bg-destructive/90",children:"Elimina"})]})]})]})]})})]},p.name)})})]})})})]})]})}function tO(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,a]=m.useState(!0),[o,l]=m.useState(""),[c,u]=m.useState(null),[d,h]=m.useState({full_name:"",role:"user",is_premium:!1}),[f,g]=m.useState(!1),{toast:w}=Se();m.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0);const{data:N,error:k}=await J.from("profiles").select("*").order("updated_at",{ascending:!1});if(k)throw k;t(N||[]);const{data:O,error:H}=await J.functions.invoke("admin-database",{body:{action:"list_auth_users"}});if(H)throw H;r(O||[])}catch(N){w({title:"Errore nel caricamento dei dati",description:N.message,variant:"destructive"})}finally{a(!1)}},y=async(N,k)=>{try{const{data:O,error:H}=await J.from("profiles").update(k).eq("id",N).select().single();if(H)throw H;t(D=>D.map(ne=>ne.id===N?O:ne)),u(null),w({title:"Profilo aggiornato",description:"Le modifiche sono state salvate con successo."})}catch(O){w({title:"Errore nell'aggiornamento",description:O.message,variant:"destructive"})}},p=async()=>{try{const{data:N,error:k}=await J.functions.invoke("admin-database",{body:{action:"create_auth_user",email:d.email,password:d.password||"TempPassword123!",full_name:d.full_name}});if(k)throw k;const{data:O,error:H}=await J.from("profiles").insert({id:N.user.id,full_name:d.full_name,role:d.role,is_premium:d.is_premium}).select().single();if(H)throw H;t(D=>[O,...D]),h({full_name:"",role:"user",is_premium:!1}),g(!1),w({title:"Utente creato",description:"Nuovo utente creato con successo."}),x()}catch(N){w({title:"Errore nella creazione",description:N.message,variant:"destructive"})}},v=async N=>{try{const{error:k}=await J.functions.invoke("admin-database",{body:{action:"delete_auth_user",userId:N}});if(k)throw k;t(O=>O.filter(H=>H.id!==N)),r(O=>O.filter(H=>H.id!==N)),w({title:"Utente eliminato",description:"L'utente è stato eliminato con successo."})}catch(k){w({title:"Errore nell'eliminazione",description:k.message,variant:"destructive"})}},j=async(N,k)=>{await y(N,{is_premium:!k})},b=async(N,k)=>{await y(N,{role:k==="admin"?"user":"admin"})},S=e.filter(N=>{var k,O;return((k=N.full_name)==null?void 0:k.toLowerCase().includes(o.toLowerCase()))||((O=N.role)==null?void 0:O.toLowerCase().includes(o.toLowerCase()))}),P=N=>n.find(k=>k.id===N),_=N=>N?new Date(N).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Mai";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(kd,{className:"w-6 h-6 mr-2"}),"Gestione Database"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(_e,{placeholder:"Cerca utenti...",value:o,onChange:N=>l(N.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400 w-64"})]}),s.jsxs(T,{onClick:x,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna"]}),s.jsxs(T,{onClick:()=>g(!0),className:"sardinian-gradient hover:opacity-90",children:[s.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Nuovo Utente"]})]})]}),s.jsxs(mc,{defaultValue:"profiles",className:"space-y-6",children:[s.jsxs(Ha,{className:"bg-slate-800/50 border border-slate-600",children:[s.jsx(mt,{value:"profiles",children:"Profili Utenti"}),s.jsx(mt,{value:"auth",children:"Dati Autenticazione"}),s.jsx(mt,{value:"system",children:"Configurazioni Sistema"})]}),s.jsxs(pt,{value:"profiles",className:"space-y-4",children:[f&&s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(Bi,{className:"w-5 h-5 mr-2"}),"Crea Nuovo Utente"]})}),s.jsxs(V,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Nome Completo"}),s.jsx(_e,{value:d.full_name,onChange:N=>h(k=>({...k,full_name:N.target.value})),className:"bg-slate-800/50 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Email"}),s.jsx(_e,{type:"email",value:d.email||"",onChange:N=>h(k=>({...k,email:N.target.value})),className:"bg-slate-800/50 border-slate-600 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Ruolo"}),s.jsxs("select",{value:d.role,onChange:N=>h(k=>({...k,role:N.target.value})),className:"w-full bg-slate-800/50 border border-slate-600 text-white rounded-md px-3 py-2",children:[s.jsx("option",{value:"user",children:"Utente"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"is_premium",checked:d.is_premium,onChange:N=>h(k=>({...k,is_premium:N.target.checked})),className:"rounded"}),s.jsx("label",{htmlFor:"is_premium",className:"text-sm text-gray-300",children:"Account Premium"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[s.jsxs(T,{variant:"outline",onClick:()=>g(!1),className:"border-gray-500 text-gray-300 hover:bg-gray-500/10",children:[s.jsx(ba,{className:"w-4 h-4 mr-2"}),"Annulla"]}),s.jsxs(T,{onClick:p,className:"sardinian-gradient hover:opacity-90",children:[s.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Crea Utente"]})]})]})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white",children:["Profili Utenti (",S.length,")"]})}),s.jsx(V,{children:i?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-left text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{className:"p-4 font-medium",children:"Utente"}),s.jsx("th",{className:"p-4 font-medium",children:"Ruolo"}),s.jsx("th",{className:"p-4 font-medium",children:"Premium"}),s.jsx("th",{className:"p-4 font-medium",children:"Creato"}),s.jsx("th",{className:"p-4 font-medium",children:"Ultimo Aggiornamento"}),s.jsx("th",{className:"p-4 font-medium text-right",children:"Azioni"})]})}),s.jsx("tbody",{children:S.map(N=>{const k=P(N.id),O=(c==null?void 0:c.id)===N.id;return s.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-4",children:s.jsx("div",{children:O?s.jsx(_e,{value:c.full_name||"",onChange:H=>u(D=>({...D,full_name:H.target.value})),className:"bg-slate-800/50 border-slate-600 text-white text-sm"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:N.full_name||"Nome non disponibile"}),s.jsx("p",{className:"text-gray-400 text-sm",children:k==null?void 0:k.email})]})})}),s.jsx("td",{className:"p-4",children:O?s.jsxs("select",{value:c.role,onChange:H=>u(D=>({...D,role:H.target.value})),className:"bg-slate-800/50 border border-slate-600 text-white rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"user",children:"Utente"}),s.jsx("option",{value:"admin",children:"Admin"})]}):s.jsx(Ct,{className:N.role==="admin"?"bg-red-500/20 text-red-400 border-0":"bg-blue-500/20 text-blue-400 border-0",children:N.role==="admin"?s.jsxs(s.Fragment,{children:[s.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Admin"]}):s.jsxs(s.Fragment,{children:[s.jsx(Kr,{className:"w-3 h-3 mr-1"}),"Utente"]})})}),s.jsx("td",{className:"p-4",children:O?s.jsx("input",{type:"checkbox",checked:c.is_premium,onChange:H=>u(D=>({...D,is_premium:H.target.checked})),className:"rounded"}):s.jsx(Ct,{className:N.is_premium?"bg-yellow-500/20 text-yellow-400 border-0":"bg-gray-500/20 text-gray-400 border-0",children:N.is_premium?s.jsxs(s.Fragment,{children:[s.jsx(G,{className:"w-3 h-3 mr-1"}),"Premium"]}):"Gratuito"})}),s.jsx("td",{className:"p-4 text-gray-300 text-sm",children:_(k==null?void 0:k.created_at)}),s.jsx("td",{className:"p-4 text-gray-300 text-sm",children:_(N.updated_at)}),s.jsx("td",{className:"p-4 text-right",children:s.jsx("div",{className:"flex items-center justify-end space-x-2",children:O?s.jsxs(s.Fragment,{children:[s.jsx(T,{size:"sm",onClick:()=>y(N.id,c),className:"bg-green-600 hover:bg-green-700",children:s.jsx(Ld,{className:"w-4 h-4"})}),s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>u(null),className:"text-gray-400 hover:text-gray-300",children:s.jsx(ba,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>u(N),className:"text-blue-400 hover:bg-blue-400/10 hover:text-blue-300",children:s.jsx(eP,{className:"w-4 h-4"})}),s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>j(N.id,N.is_premium),className:"text-yellow-400 hover:bg-yellow-400/10 hover:text-yellow-300",children:s.jsx(G,{className:"w-4 h-4"})}),s.jsx(T,{size:"sm",variant:"ghost",onClick:()=>b(N.id,N.role),className:"text-purple-400 hover:bg-purple-400/10 hover:text-purple-300",children:s.jsx(Ze,{className:"w-4 h-4"})}),s.jsxs(er,{children:[s.jsx(tr,{asChild:!0,children:s.jsx(T,{size:"sm",variant:"ghost",className:"text-red-400 hover:bg-red-400/10 hover:text-red-300",children:s.jsx(ja,{className:"w-4 h-4"})})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Elimina Utente"}),s.jsxs(Tn,{children:[`Sei sicuro di voler eliminare l'utente "`,N.full_name,'"? Questa azione è irreversibile e rimuoverà tutti i dati associati.']})]}),s.jsxs(_n,{children:[s.jsx(En,{children:"Annulla"}),s.jsx(nr,{onClick:()=>v(N.id),className:"bg-destructive hover:bg-destructive/90",children:"Elimina"})]})]})]})]})})})]},N.id)})})]}),S.length===0&&!i&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:o?"Nessun utente trovato per la ricerca.":"Nessun utente presente."})]})})]})]}),s.jsx(pt,{value:"auth",className:"space-y-4",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Dati Autenticazione"})}),s.jsx(V,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{className:"p-4 font-medium",children:"Email"}),s.jsx("th",{className:"p-4 font-medium",children:"Stato"}),s.jsx("th",{className:"p-4 font-medium",children:"Ultimo Accesso"}),s.jsx("th",{className:"p-4 font-medium",children:"Confermato"}),s.jsx("th",{className:"p-4 font-medium",children:"Provider"})]})}),s.jsx("tbody",{children:n.map(N=>{var k;return s.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:N.email}),s.jsx("p",{className:"text-gray-400 text-xs",children:N.id})]})}),s.jsx("td",{className:"p-4",children:s.jsx(Ct,{className:N.banned_until?"bg-red-500/20 text-red-400 border-0":"bg-green-500/20 text-green-400 border-0",children:N.banned_until?"Bannato":"Attivo"})}),s.jsx("td",{className:"p-4 text-gray-300 text-sm",children:_(N.last_sign_in_at)}),s.jsx("td",{className:"p-4",children:s.jsx(Ct,{className:N.email_confirmed_at?"bg-green-500/20 text-green-400 border-0":"bg-yellow-500/20 text-yellow-400 border-0",children:N.email_confirmed_at?"Confermato":"In Attesa"})}),s.jsx("td",{className:"p-4 text-gray-300 text-sm",children:((k=N.app_metadata)==null?void 0:k.provider)||"email"})]},N.id)})})]})})})]})}),s.jsx(pt,{value:"system",className:"space-y-4",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(wa,{className:"w-5 h-5 mr-2"}),"Configurazioni Sistema"]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Impostazioni Generali"}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Nome Applicazione"}),s.jsx(_e,{value:"SardAI",className:"bg-slate-800/50 border-slate-600 text-white",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Versione"}),s.jsx(_e,{value:"1.0.0",className:"bg-slate-800/50 border-slate-600 text-white",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Ambiente"}),s.jsx(Ct,{className:"bg-green-500/20 text-green-400 border-0",children:"Produzione"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Statistiche Database"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Tabelle"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"5"})]}),s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Funzioni"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"12"})]}),s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Policies"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"25"})]}),s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Storage"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:"2 Bucket"})]})]})]})]}),s.jsxs("div",{className:"border-t border-slate-600 pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Azioni Sistema"}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs(T,{variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-500/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna Cache"]}),s.jsxs(T,{variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-500/10",children:[s.jsx(kd,{className:"w-4 h-4 mr-2"}),"Backup Database"]}),s.jsxs(T,{variant:"outline",className:"border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10",children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Ottimizza Performance"]})]})]})]})})]})})]})]})}function nO(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,a]=m.useState({admin:!0,system:!0}),[o,l]=m.useState(""),[c,u]=m.useState(""),{toast:d}=Se();m.useEffect(()=>{h(),f()},[o,c]);const h=async()=>{try{a(v=>({...v,admin:!0}));const{data:y,error:p}=await J.functions.invoke("admin-logs",{body:{type:"admin",search:o||null,limit:100}});if(p)throw p;t(y||[])}catch(y){d({title:"Errore nel caricamento dei log admin",description:y.message,variant:"destructive"})}finally{a(y=>({...y,admin:!1}))}},f=async()=>{try{a(v=>({...v,system:!0}));const{data:y,error:p}=await J.functions.invoke("admin-logs",{body:{type:"system",level:c||null,search:o||null,limit:100}});if(p)throw p;r(y||[])}catch(y){d({title:"Errore nel caricamento dei log di sistema",description:y.message,variant:"destructive"})}finally{a(y=>({...y,system:!1}))}},g=y=>{const p={info:{color:"bg-blue-500/20 text-blue-400",icon:Q_},warning:{color:"bg-yellow-500/20 text-yellow-400",icon:Yt},error:{color:"bg-red-500/20 text-red-400",icon:xf},critical:{color:"bg-red-600/20 text-red-300",icon:B_}},v=p[y]||p.info,j=v.icon;return s.jsxs(Ct,{className:`${v.color} border-0`,children:[s.jsx(j,{className:"w-3 h-3 mr-1"}),y.toUpperCase()]})},w=y=>new Date(y).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),x=y=>({user_deleted:"Utente Eliminato",user_confirmed:"Utente Confermato",confirmation_resent:"Email Conferma Reinviata",password_reset_sent:"Reset Password Inviato",user_list_viewed:"Lista Utenti Visualizzata",stats_viewed:"Statistiche Visualizzate",reports_viewed:"Segnalazioni Visualizzate",report_status_updated:"Stato Segnalazione Aggiornato",report_notes_added:"Note Segnalazione Aggiunte"})[y]||y;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(gf,{className:"w-6 h-6 mr-2"}),"Log di Sistema"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(_e,{placeholder:"Cerca nei log...",value:o,onChange:y=>l(y.target.value),className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400 w-64"})]}),s.jsxs(T,{onClick:()=>{h(),f()},variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Aggiorna"]})]})]}),s.jsxs(mc,{defaultValue:"admin",className:"space-y-6",children:[s.jsxs(Ha,{className:"bg-slate-800/50 border border-slate-600",children:[s.jsx(mt,{value:"admin",children:"Log Admin"}),s.jsx(mt,{value:"system",children:"Log Sistema"})]}),s.jsx(pt,{value:"admin",className:"space-y-4",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Azioni Amministrative"})}),s.jsx(V,{children:i.admin?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsx("div",{className:"space-y-4",children:e.length===0?s.jsx("p",{className:"text-gray-400 text-center py-8",children:"Nessun log admin trovato."}):e.map(y=>{var p,v;return s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ct,{className:"bg-blue-500/20 text-blue-400 border-0",children:x(y.action)}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(Bt,{className:"w-4 h-4 mr-1"}),((p=y.admin)==null?void 0:p.full_name)||((v=y.admin)==null?void 0:v.email)||"Admin"]})]}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(ts,{className:"w-4 h-4 mr-1"}),w(y.created_at)]})]}),y.target_user&&s.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["Target: ",y.target_user.full_name||y.target_user.email]}),y.details&&Object.keys(y.details).length>0&&s.jsx("div",{className:"bg-slate-900/50 p-3 rounded mt-2",children:s.jsx("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap",children:JSON.stringify(y.details,null,2)})})]},y.id)})})})]})}),s.jsxs(pt,{value:"system",className:"space-y-4",children:[s.jsx("div",{className:"flex items-center space-x-4 mb-4",children:s.jsxs("select",{value:c,onChange:y=>u(y.target.value),className:"bg-slate-800/50 border border-slate-600 text-white rounded-md px-3 py-2",children:[s.jsx("option",{value:"",children:"Tutti i livelli"}),s.jsx("option",{value:"info",children:"Info"}),s.jsx("option",{value:"warning",children:"Warning"}),s.jsx("option",{value:"error",children:"Error"}),s.jsx("option",{value:"critical",children:"Critical"})]})}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-white",children:"Log di Sistema"})}),s.jsx(V,{children:i.system?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsx("div",{className:"space-y-4",children:n.length===0?s.jsx("p",{className:"text-gray-400 text-center py-8",children:"Nessun log di sistema trovato."}):n.map(y=>s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[g(y.level),y.user&&s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(Bt,{className:"w-4 h-4 mr-1"}),y.user.full_name||y.user.email]})]}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(ts,{className:"w-4 h-4 mr-1"}),w(y.created_at)]})]}),s.jsx("p",{className:"text-gray-300 mb-2",children:y.message}),y.context&&Object.keys(y.context).length>0&&s.jsx("div",{className:"bg-slate-900/50 p-3 rounded mt-2",children:s.jsx("pre",{className:"text-xs text-gray-400 whitespace-pre-wrap",children:JSON.stringify(y.context,null,2)})})]},y.id))})})]})]})]})]})}function rO(){const e=he(),{user:t,profile:n}=tt(),{toast:r}=Se(),[i,a]=m.useState(!1),[o,l]=m.useState("stats");return m.useEffect(()=>{n&&n.role!=="admin"&&(r({title:"Accesso Negato",description:"Non hai i permessi per accedere al pannello admin.",variant:"destructive"}),e("/dashboard"))},[n,e,r]),m.useEffect(()=>{t&&t.email!=="marlon.lai@hotmail.com"&&(r({title:"Accesso Limitato",description:"Solo l'amministratore autorizzato può accedere a questo pannello.",variant:"destructive"}),e("/dashboard"))},[t,e,r]),!n||n.role!=="admin"||!t||t.email!=="marlon.lai@hotmail.com"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Pannello Admin - SardAI"}),s.jsx("meta",{name:"description",content:"Pannello di amministrazione completo per la gestione di SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern flex",children:[s.jsx(Xf,{isOpen:i,onClose:()=>a(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>a(!0),className:"lg:hidden text-white hover:bg-white/10",children:s.jsx(Zl,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ze,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Pannello Admin"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-sm text-gray-300",children:["Admin: ",n==null?void 0:n.full_name]}),s.jsxs(T,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]})}),s.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsxs(mc,{value:o,onValueChange:l,className:"space-y-6",children:[s.jsxs(Ha,{className:"bg-slate-800/50 border border-slate-600",children:[s.jsxs(mt,{value:"stats",className:"flex items-center space-x-2",children:[s.jsx(Cy,{className:"w-4 h-4"}),s.jsx("span",{children:"Statistiche"})]}),s.jsxs(mt,{value:"users",className:"flex items-center space-x-2",children:[s.jsx(Kr,{className:"w-4 h-4"}),s.jsx("span",{children:"Utenti"})]}),s.jsxs(mt,{value:"reports",className:"flex items-center space-x-2",children:[s.jsx(vl,{className:"w-4 h-4"}),s.jsx("span",{children:"Segnalazioni"})]}),s.jsxs(mt,{value:"logs",className:"flex items-center space-x-2",children:[s.jsx(gf,{className:"w-4 h-4"}),s.jsx("span",{children:"Log Sistema"})]}),s.jsxs(mt,{value:"storage",className:"flex items-center space-x-2",children:[s.jsx(Id,{className:"w-4 h-4"}),s.jsx("span",{children:"Storage"})]}),s.jsxs(mt,{value:"database",className:"flex items-center space-x-2",children:[s.jsx(kd,{className:"w-4 h-4"}),s.jsx("span",{children:"Database"})]})]}),s.jsx(pt,{value:"stats",children:s.jsx(Q3,{})}),s.jsx(pt,{value:"users",children:s.jsx(Y3,{})}),s.jsx(pt,{value:"reports",children:s.jsx(J3,{})}),s.jsx(pt,{value:"logs",children:s.jsx(nO,{})}),s.jsx(pt,{value:"storage",children:s.jsx(eO,{})}),s.jsx(pt,{value:"database",children:s.jsx(tO,{})})]})})})})]})]})]})}const sO=({children:e})=>{const{profile:t,loading:n}=tt();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(t==null?void 0:t.role)==="admin"?e:s.jsx(L0,{to:"/dashboard",replace:!0})};function iO(){const e=he();return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"404 - Pagina Non Trovata | SardAI"}),s.jsx("meta",{name:"description",content:"La pagina che stai cercando non esiste. Torna alla home di SardAI."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-lg",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"text-8xl font-bold text-blue-400 mb-4",children:"404"}),s.jsx(q,{className:"text-3xl font-bold text-white mb-2",children:"Pagina Non Trovata"}),s.jsx("p",{className:"text-gray-300",children:"Madonna mia! La pagina che stai cercando non esiste o è stata spostata."})]}),s.jsxs(V,{className:"text-center space-y-6",children:[s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4",children:[s.jsx("h3",{className:"text-blue-300 font-semibold mb-2",children:"Cosa puoi fare:"}),s.jsxs("ul",{className:"text-blue-200 text-sm text-left space-y-1",children:[s.jsx("li",{children:"• Controlla l'URL per errori di battitura"}),s.jsx("li",{children:"• Torna alla pagina principale"}),s.jsx("li",{children:"• Usa la navigazione per trovare quello che cerchi"}),s.jsx("li",{children:"• Contattaci se il problema persiste"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>e("/"),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(Ty,{className:"w-4 h-4 mr-2"}),"Torna alla Home"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(T,{onClick:()=>e(-1),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Indietro"]}),s.jsxs(T,{onClick:()=>e("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai bisogno di aiuto?"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"Contattaci"})]})})]})]}),s.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Aho, dove sei andato a finire? Torna da noi!" 😄'})})]})})]})}function aO(){const e=he();return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Informativa GDPR - SardAI"}),s.jsx("meta",{name:"description",content:"Informativa sul trattamento dei dati personali ai sensi del GDPR per SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e(-1),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Ey,{className:"w-6 h-6 mr-2"}),"Informativa GDPR"]}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-3xl text-white",children:"Informativa sul Trattamento dei Dati Personali"})}),s.jsxs(V,{className:"text-gray-300 space-y-6 prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-blue-400 hover:prose-a:text-blue-300",children:[s.jsx("p",{children:"Ultimo aggiornamento: 09 Luglio 2025"}),s.jsx("p",{children:"Benvenuto su SardAI.tech. La tua privacy è importante per noi. Questa informativa descrive quali dati personali raccogliamo e come li utilizziamo, in conformità con il Regolamento Generale sulla Protezione dei Dati (GDPR)."}),s.jsx("h2",{children:"1. Titolare del Trattamento"}),s.jsxs("p",{children:["Il titolare del trattamento dei dati è SardAI.tech, contattabile all'indirizzo email: ",s.jsx("a",{href:"mailto:info@sardai.tech",children:"info@sardai.tech"}),"."]}),s.jsx("h2",{children:"2. Dati Personali Raccolti"}),s.jsxs("p",{children:["Raccogliamo i seguenti dati:",s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Dati forniti dall'utente:"})," Nome, indirizzo email, password (crittografata), immagine del profilo."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dati di utilizzo:"})," Informazioni su come utilizzi il nostro servizio, incluse le interazioni con i chatbot. Le conversazioni sono salvate per migliorare il servizio."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dati tecnici:"})," Indirizzo IP, tipo di browser, informazioni sul dispositivo."]})]})]}),s.jsx("h2",{children:"3. Finalità del Trattamento"}),s.jsxs("p",{children:["Utilizziamo i tuoi dati per:",s.jsxs("ul",{children:[s.jsx("li",{children:"Fornire, mantenere e migliorare il servizio."}),s.jsx("li",{children:"Gestire il tuo account e l'abbonamento."}),s.jsx("li",{children:"Comunicare con te per assistenza o aggiornamenti."}),s.jsx("li",{children:"Garantire la sicurezza della piattaforma."}),s.jsx("li",{children:"Adempiere agli obblighi di legge."})]})]}),s.jsx("h2",{children:"4. Base Giuridica del Trattamento"}),s.jsx("p",{children:"Trattiamo i tuoi dati sulla base del consenso da te fornito al momento della registrazione, per l'esecuzione di un contratto (fornitura del servizio) e per legittimo interesse (miglioramento del servizio e sicurezza)."}),s.jsx("h2",{children:"5. Diritti dell'Interessato"}),s.jsxs("p",{children:["In qualità di utente, hai il diritto di:",s.jsxs("ul",{children:[s.jsx("li",{children:"Accedere ai tuoi dati personali."}),s.jsx("li",{children:"Richiedere la rettifica o la cancellazione dei dati."}),s.jsx("li",{children:"Limitare o opporti al trattamento."}),s.jsx("li",{children:"Richiedere la portabilità dei dati."}),s.jsx("li",{children:"Revocare il consenso in qualsiasi momento."}),s.jsx("li",{children:"Proporre reclamo a un'autorità di controllo."})]}),"Per esercitare i tuoi diritti, puoi contattarci a ",s.jsx("a",{href:"mailto:info@sardai.tech",children:"info@sardai.tech"}),"."]}),s.jsx("h2",{children:"6. Conservazione dei Dati"}),s.jsx("p",{children:"Conserviamo i tuoi dati personali per il tempo strettamente necessario a conseguire gli scopi per cui sono stati raccolti e per adempiere agli obblighi legali."})]})]})})})]})]})}function oO(){const e=he();return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Condizioni di Utilizzo - SardAI"}),s.jsx("meta",{name:"description",content:"Leggi i termini e le condizioni di utilizzo del servizio SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e(-1),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(gf,{className:"w-6 h-6 mr-2"}),"Condizioni di Utilizzo"]}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-3xl text-white",children:"Termini e Condizioni del Servizio"})}),s.jsxs(V,{className:"text-gray-300 space-y-6 prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-blue-400 hover:prose-a:text-blue-300",children:[s.jsx("p",{children:"Ultimo aggiornamento: 09 Luglio 2025"}),s.jsx("p",{children:`Accedendo e utilizzando SardAI.tech ("Servizio"), accetti di essere vincolato dai seguenti termini e condizioni ("Condizioni di Utilizzo"). Se non sei d'accordo con una qualsiasi parte dei termini, non puoi accedere al Servizio.`}),s.jsx("h2",{children:"1. Utilizzo del Servizio"}),s.jsx("p",{children:"Ti impegni a utilizzare il Servizio in modo responsabile e legale. È vietato utilizzare il Servizio per scopi illegali, molesti, diffamatori o che violino i diritti di terzi. Non è consentito tentare di decodificare, decompilare o accedere in modo non autorizzato ai nostri sistemi."}),s.jsx("h2",{children:"2. Account Utente"}),s.jsx("p",{children:"Sei responsabile della salvaguardia della password che utilizzi per accedere al Servizio e di qualsiasi attività o azione sotto la tua password. Ti impegni a notificarci immediatamente qualsiasi violazione della sicurezza o uso non autorizzato del tuo account."}),s.jsx("h2",{children:"3. Abbonamenti e Pagamenti"}),s.jsx("p",{children:'Alcune parti del Servizio sono disponibili solo con un abbonamento a pagamento ("Premium"). I pagamenti verranno fatturati su base ricorrente. Puoi annullare il tuo abbonamento in qualsiasi momento dal tuo pannello profilo. La cancellazione avrà effetto alla fine del ciclo di fatturazione corrente.'}),s.jsx("h2",{children:"4. Proprietà Intellettuale"}),s.jsx("p",{children:"Il Servizio e i suoi contenuti originali, le caratteristiche e le funzionalità sono e rimarranno di proprietà esclusiva di SardAI.tech e dei suoi licenziatari. Il nostro marchio non può essere utilizzato in relazione a nessun prodotto o servizio senza il previo consenso scritto."}),s.jsx("h2",{children:"5. Limitazione di Responsabilità"}),s.jsx("p",{children:`Il Servizio è fornito "così com'è". In nessun caso SardAI.tech sarà responsabile per danni indiretti, incidentali, speciali, consequenziali o punitivi derivanti dall'uso del Servizio. Le risposte fornite dai chatbot sono generate da un'intelligenza artificiale e potrebbero non essere sempre accurate o complete.`}),s.jsx("h2",{children:"6. Modifiche ai Termini"}),s.jsx("p",{children:"Ci riserviamo il diritto, a nostra esclusiva discrezione, di modificare o sostituire questi Termini in qualsiasi momento. Ti informeremo di eventuali modifiche pubblicando i nuovi termini su questa pagina."})]})]})})})]})]})}function lO(){const e=he();return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Privacy Policy - SardAI"}),s.jsx("meta",{name:"description",content:"Leggi la nostra informativa sulla privacy per capire come gestiamo i tuoi dati su SardAI."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e(-1),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Gr,{className:"w-6 h-6 mr-2"}),"Privacy Policy"]}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsx(q,{className:"text-3xl text-white",children:"Informativa sulla Privacy"})}),s.jsxs(V,{className:"text-gray-300 space-y-6 prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-blue-400 hover:prose-a:text-blue-300",children:[s.jsx("p",{children:"Ultimo aggiornamento: 09 Luglio 2025"}),s.jsx("p",{children:'Questa Privacy Policy descrive come SardAI.tech ("noi", "ci" o "nostro") raccoglie, utilizza e condivide le informazioni su di te quando utilizzi il nostro sito web e i nostri servizi (collettivamente, il "Servizio").'}),s.jsx("h2",{children:"1. Informazioni che Raccogliamo"}),s.jsx("p",{children:"Raccogliamo informazioni che ci fornisci direttamente, come quando crei un account, aggiorni il tuo profilo o comunichi con noi. Queste informazioni possono includere il tuo nome, email e immagine del profilo. Raccogliamo anche informazioni automaticamente quando utilizzi il Servizio, come le tue interazioni con i chatbot e i dati tecnici del tuo dispositivo."}),s.jsx("h2",{children:"2. Come Utilizziamo le Tue Informazioni"}),s.jsxs("p",{children:["Utilizziamo le tue informazioni per:",s.jsxs("ul",{children:[s.jsx("li",{children:"Fornire e personalizzare il nostro Servizio."}),s.jsx("li",{children:"Analizzare e migliorare il Servizio, inclusa l'accuratezza dei nostri modelli di intelligenza artificiale."}),s.jsx("li",{children:"Comunicare con te, rispondere alle tue richieste e inviarti aggiornamenti."}),s.jsx("li",{children:"Proteggere la sicurezza e l'integrità del nostro Servizio."})]})]}),s.jsx("h2",{children:"3. Condivisione delle Informazioni"}),s.jsxs("p",{children:["Non condividiamo le tue informazioni personali con terze parti, ad eccezione dei seguenti casi:",s.jsxs("ul",{children:[s.jsx("li",{children:"Con fornitori di servizi che lavorano per nostro conto (es. Supabase per il backend, OpenAI per l'elaborazione del linguaggio)."}),s.jsx("li",{children:"Se richiesto dalla legge o per proteggere i nostri diritti legali."}),s.jsx("li",{children:"Con il tuo consenso esplicito."})]})]}),s.jsx("h2",{children:"4. Sicurezza dei Dati"}),s.jsx("p",{children:"Adottiamo misure di sicurezza tecniche e organizzative ragionevoli per proteggere le tue informazioni da accessi non autorizzati, perdita o uso improprio. Tuttavia, nessun sistema di sicurezza è impenetrabile."}),s.jsx("h2",{children:"5. Cookie"}),s.jsx("p",{children:"Utilizziamo i cookie e tecnologie simili per gestire le sessioni utente e migliorare l'esperienza sul nostro sito. Puoi controllare l'uso dei cookie attraverso le impostazioni del tuo browser."}),s.jsx("h2",{children:"6. Contatti"}),s.jsxs("p",{children:["Se hai domande su questa Privacy Policy, puoi contattarci all'indirizzo: ",s.jsx("a",{href:"mailto:info@sardai.tech",children:"info@sardai.tech"}),"."]})]})]})})})]})]})}function cO(){const e=he(),{user:t,profile:n}=tt(),{subscription:r}=ds(),{createCheckoutSession:i,loading:a}=pc();m.useState("monthly");const o=f=>{if(!t){e("/login");return}i(f,"subscription")},l={language:{title:"Lingua Sarda Autentica",icon:yl,color:"text-blue-400",features:[{name:"Dialetto Logudorese",description:"Conversazioni complete nel dialetto del nord Sardegna",icon:We},{name:"Dialetto Campidanese",description:"Chat autentica nel dialetto del sud dell'isola",icon:We},{name:"Dialetto Sassarese",description:"Variante linguistica di Sassari e provincia",icon:We},{name:"Traduttore Bidirezionale",description:"Traduzione istantanea italiano ↔ sardo",icon:yl}]},culture:{title:"Contenuti Culturali Esclusivi",icon:Vi,color:"text-red-400",features:[{name:"Storia e Tradizioni",description:"Racconti storici, leggende e tradizioni popolari",icon:qc},{name:"Ricette Tradizionali",description:"Cucina sarda autentica con ingredienti e preparazioni",icon:Vi},{name:"Feste e Sagre",description:"Calendario eventi e celebrazioni tradizionali",icon:es},{name:"Musica e Folklore",description:"Canti tradizionali, balli e strumenti tipici",icon:Z_}]},learning:{title:"Apprendimento Interattivo",icon:qc,color:"text-green-400",features:[{name:"Mini-Corsi di Sardo",description:"Lezioni progressive per imparare la lingua",icon:qc},{name:"Pronuncia Audio",description:"Ascolta la pronuncia corretta delle parole",icon:iP},{name:"Esercizi Interattivi",description:"Quiz e giochi per praticare la lingua",icon:nP},{name:"Certificati di Completamento",description:"Riconoscimenti per i progressi raggiunti",icon:H_}]},tourism:{title:"Guida Turistica Intelligente",icon:Dp,color:"text-purple-400",features:[{name:"Itinerari Personalizzati",description:"Percorsi su misura basati sui tuoi interessi",icon:Dp},{name:"Luoghi Nascosti",description:"Scopri gemme segrete conosciute solo dai locali",icon:_y},{name:"Consigli Gastronomici",description:"Ristoranti autentici e specialità locali",icon:Vi},{name:"Eventi in Tempo Reale",description:"Sagre, concerti e manifestazioni attuali",icon:es}]},exclusive:{title:"Funzionalità Esclusive",icon:G,color:"text-yellow-400",features:[{name:"Chat Illimitate",description:"Nessun limite di messaggi o conversazioni",icon:q_},{name:"Supporto Prioritario",description:"Assistenza dedicata entro 2 ore",icon:K_},{name:"Export Conversazioni",description:"Salva le chat in PDF con design personalizzato",icon:pf},{name:"Accesso Anticipato",description:"Prova le nuove funzionalità prima di tutti",icon:Qc}]}},c=[{id:"free",name:"Gratuito",price:"0",currency:"EUR",interval:"sempre",description:"Perfetto per iniziare",features:["Chat in italiano con carattere sardo","Informazioni base sulla Sardegna","Umorismo e calore tipico sardo","10 messaggi al giorno","Supporto via email"],buttonText:"Piano Attuale",buttonVariant:"outline",popular:!1},{id:"monthly",name:"Premium Mensile",price:"5.00",currency:"EUR",interval:"mese",description:"Ideale per esploratori curiosi",features:["Tutte le funzionalità gratuite","Chat in lingua sarda autentica","Tutti i dialetti disponibili","Contenuti culturali esclusivi","Mini-corsi di lingua sarda","Guida turistica interattiva","Chat illimitate","Supporto prioritario","Export PDF conversazioni"],buttonText:"Inizia Subito",buttonVariant:"default",popular:!0,priceId:"price_1RgpsmP3ZDp2xQGdHpezzWn0"},{id:"yearly",name:"Premium Annuale",price:"50.00",currency:"CHF",interval:"anno",description:"Massimo valore per veri appassionati",features:["Tutte le funzionalità Premium","Risparmio del 17% sul piano mensile","Accesso anticipato alle novità","Sessioni di coaching culturale","Contenuti esclusivi mensili","Certificati di completamento","Supporto telefonico dedicato","Inviti a eventi speciali"],buttonText:"Risparmia il 17%",buttonVariant:"default",popular:!1,priceId:"price_1Rgpu7P3ZDp2xQGdtuxS42fy",savings:!0}],u=[{name:"Maria Carta",location:"Cagliari",text:"Finalmente posso parlare sardo con un'AI! È incredibile quanto sia autentica.",rating:5},{name:"Giuseppe Mereu",location:"Nuoro",text:"I mini-corsi sono fantastici. Sto imparando il logudorese che non conoscevo.",rating:5},{name:"Anna Sanna",location:"Sassari",text:"La guida turistica mi ha fatto scoprire posti che non sapevo esistessero!",rating:5}],d=(n==null?void 0:n.role)==="admin",h=(r==null?void 0:r.isActive)||d;return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Funzionalità Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Scopri tutte le funzionalità premium di SardAI: chat in sardo autentico, contenuti culturali esclusivi e molto altro."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e(-1),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(G,{className:"w-6 h-6 mr-2 text-yellow-400"}),"SardAI Premium"]}),s.jsx("div",{className:"w-32"})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["Sblocca il Vero",s.jsx("span",{className:"block sardinian-gradient bg-clip-text text-transparent",children:"Potere di SardAI"})]}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Immergiti nella cultura sarda autentica con funzionalità esclusive, dialetti originali e contenuti che solo un vero sardo può offrirti."}),!h&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(T,{onClick:()=>{var f;return o((f=qr.find(g=>g.interval==="month"))==null?void 0:f.priceId)},disabled:a,className:"sardinian-gradient hover:opacity-90 text-lg px-8 py-4",children:[s.jsx(G,{className:"w-5 h-5 mr-2"}),"Diventa Premium"]}),s.jsx(T,{onClick:()=>e("/chat"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10 text-lg px-8 py-4",children:"Prova Gratuita"})]})]})}),s.jsx("div",{className:"space-y-16",children:Object.entries(l).map(([f,g],w)=>s.jsxs(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:w*.1},viewport:{once:!0},children:[s.jsx("div",{className:"text-center mb-12",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-xl flex items-center justify-center",children:s.jsx(g.icon,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-3xl font-bold text-white",children:g.title})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.features.map((x,y)=>s.jsx(z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:y*.1},viewport:{once:!0},children:s.jsxs(F,{className:"sardinian-card hover:border-yellow-400/50 transition-all duration-300 h-full",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:s.jsx(x.icon,{className:"w-6 h-6 text-white"})}),s.jsx(q,{className:"text-white text-lg",children:x.name})]}),s.jsx(V,{children:s.jsx("p",{className:"text-gray-300 text-sm text-center",children:x.description})})]})},y))})]},f))}),s.jsxs(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Scegli il Tuo Piano"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Prezzi trasparenti, nessun costo nascosto"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:c.map((f,g)=>s.jsxs(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:g*.1},viewport:{once:!0},className:"relative",children:[f.popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10",children:s.jsxs(Ct,{className:"bg-yellow-500 text-black px-4 py-1 text-sm font-medium",children:[s.jsx(Qc,{className:"w-3 h-3 mr-1"}),"Più Popolare"]})}),s.jsxs(F,{className:`sardinian-card h-full ${f.popular?"premium-glow border-yellow-500/30":""} ${f.id==="free"?"opacity-75":""}`,children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${f.id==="free"?"bg-gray-600":"sardinian-gradient"}`,children:f.id==="free"?s.jsx(Kr,{className:"w-8 h-8 text-white"}):s.jsx(G,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl text-white mb-2",children:f.name}),s.jsx("p",{className:"text-gray-300 mb-4",children:f.description}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-4xl font-bold text-white",children:["€",f.price,s.jsxs("span",{className:"text-lg font-normal text-gray-400",children:["/",f.interval]})]}),f.savings&&s.jsxs("div",{className:"text-green-400 text-sm mt-2 flex items-center justify-center",children:[s.jsx(Rd,{className:"w-4 h-4 mr-1"}),"Risparmia €10 all'anno!"]})]})]}),s.jsxs(V,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:f.features.map((w,x)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(As,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-300 text-sm",children:w})]},x))}),s.jsx("div",{className:"pt-4",children:f.id==="free"?s.jsx(T,{disabled:!0,variant:"outline",className:"w-full border-gray-500 text-gray-400",children:"Piano Attuale"}):h?s.jsxs(T,{disabled:!0,className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Già Premium"]}):s.jsx(T,{onClick:()=>o(f.priceId),disabled:a,className:`w-full text-lg py-3 ${f.popular?"sardinian-gradient hover:opacity-90":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:a?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Caricamento..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),f.buttonText]})})})]})]})]},f.id))})]}),s.jsxs(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Cosa Dicono i Nostri Utenti"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Storie di successo dalla comunità SardAI"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:u.map((f,g)=>s.jsx(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:g*.1},viewport:{once:!0},children:s.jsx(F,{className:"sardinian-card h-full",children:s.jsxs(V,{className:"p-6",children:[s.jsx("div",{className:"flex items-center mb-4",children:[...Array(f.rating)].map((w,x)=>s.jsx(Qc,{className:"w-4 h-4 text-yellow-400 fill-current"},x))}),s.jsxs("p",{className:"text-gray-300 mb-4 italic",children:['"',f.text,'"']}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 sardinian-gradient rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:f.name}),s.jsx("p",{className:"text-gray-400 text-sm",children:f.location})]})]})]})})},g))})]}),s.jsxs(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Domande Frequenti"})}),s.jsx("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-8",children:[{question:"Posso cancellare in qualsiasi momento?",answer:"Sì, puoi cancellare il tuo abbonamento in qualsiasi momento dal tuo profilo. Continuerai ad avere accesso Premium fino alla fine del periodo pagato."},{question:"Quanto è autentico il sardo parlato?",answer:"SardAI è stato addestrato su testi autentici in logudorese, campidanese e sassarese. Collaboriamo con linguisti sardi per garantire l'autenticità."},{question:"Posso usare SardAI offline?",answer:"Attualmente SardAI richiede una connessione internet. Stiamo lavorando su una versione offline per le funzionalità base."},{question:"Ci sono sconti per studenti?",answer:"Sì! Contattaci a info@sardai.tech con la tua tessera studente per ottenere uno sconto del 30% sul piano annuale."}].map((f,g)=>s.jsx(F,{className:"sardinian-card",children:s.jsxs(V,{className:"p-6",children:[s.jsx("h4",{className:"text-white font-semibold mb-3",children:f.question}),s.jsx("p",{className:"text-gray-300 text-sm",children:f.answer})]})},g))})]}),!h&&s.jsx(z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mt-20",children:s.jsx(F,{className:"sardinian-card premium-glow max-w-4xl mx-auto",children:s.jsxs(V,{className:"p-8 md:p-12 text-center",children:[s.jsx(G,{className:"w-20 h-20 text-yellow-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Pronto per l'Esperienza Completa?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Unisciti a migliaia di sardi e appassionati che stanno già conversando in lingua autentica con SardAI Premium."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(T,{onClick:()=>{var f;return o((f=qr.find(g=>g.interval==="month"))==null?void 0:f.priceId)},disabled:a,className:"sardinian-gradient hover:opacity-90 text-lg px-8 py-4",children:[s.jsx(G,{className:"w-5 h-5 mr-2"}),"Inizia Oggi - €5/mese"]}),s.jsxs(T,{onClick:()=>{var f;return o((f=qr.find(g=>g.interval==="year"))==null?void 0:f.priceId)},disabled:a,variant:"outline",className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10 text-lg px-8 py-4",children:[s.jsx(Rd,{className:"w-5 h-5 mr-2"}),"Piano Annuale - Risparmia 17%"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Garanzia soddisfatti o rimborsati entro 30 giorni"})]})})})]})]})]})}function uO(){const e=he(),[t]=hn(),[n,r]=m.useState("");m.useEffect(()=>{const l=t.get("message")||"Si è verificato un errore imprevisto";r(decodeURIComponent(l))},[t]);const i=()=>{e("/auth/resend-confirmation")},o=(l=>l.toLowerCase().includes("expired")?{title:"Link Scaduto",description:"Il link di conferma è scaduto. Richiedi un nuovo link per continuare.",showResend:!0}:l.toLowerCase().includes("invalid")||l.toLowerCase().includes("token")?{title:"Link Non Valido",description:"Il link utilizzato non è valido o è già stato utilizzato. Richiedi un nuovo link.",showResend:!0}:l.toLowerCase().includes("already confirmed")?{title:"Account Già Confermato",description:"Il tuo account è già stato confermato. Puoi accedere normalmente.",showResend:!1}:{title:"Errore di Autenticazione",description:l,showResend:!0})(n);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Errore - SardAI"}),s.jsx("meta",{name:"description",content:"Si è verificato un errore durante l'autenticazione."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Yt,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:o.title})]}),s.jsxs(V,{className:"text-center space-y-6",children:[s.jsx("p",{className:"text-gray-300",children:o.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>e("/login"),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna al Login"]}),o.showResend&&s.jsxs(T,{onClick:i,variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),"Richiedi Nuovo Link"]}),s.jsxs(T,{onClick:()=>window.location.reload(),variant:"ghost",className:"w-full text-gray-400 hover:text-gray-300",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Riprova"]})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai bisogno di aiuto?"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"Contattaci"})]})})]})]})})})]})}function dO(){const e=he(),[t]=hn(),[n,r]=m.useState(""),[i,a]=m.useState("/dashboard"),[o,l]=m.useState(5);m.useEffect(()=>{const d=t.get("type")||"signup",h=t.get("next")||"/dashboard";r(d),a(decodeURIComponent(h));const f=setInterval(()=>{l(g=>g<=1?(clearInterval(f),e(h),0):g-1)},1e3);return()=>clearInterval(f)},[t,e]);const u=(d=>{switch(d){case"signup":return{title:"Account Confermato! 🎉",description:"Il tuo account SardAI è stato confermato con successo. Ora puoi accedere a tutte le funzionalità.",buttonText:"Inizia a Usare SardAI"};case"recovery":return{title:"Password Reimpostata! ✅",description:"La tua password è stata reimpostata con successo. Ora puoi accedere con la nuova password.",buttonText:"Vai alla Dashboard"};default:return{title:"Operazione Completata! ✅",description:"L'operazione è stata completata con successo.",buttonText:"Continua"}}})(n);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Successo - SardAI"}),s.jsx("meta",{name:"description",content:"Operazione completata con successo."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(hr,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:u.title})]}),s.jsxs(V,{className:"text-center space-y-6",children:[s.jsx("p",{className:"text-gray-300",children:u.description}),n==="signup"&&s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsx(Ee,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-blue-300 font-semibold",children:"Benvenuto in SardAI!"})]}),s.jsx("p",{className:"text-blue-200 text-sm",children:"Ora puoi iniziare a conversare con il tuo assistente sardo preferito."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{onClick:()=>e(i),className:"w-full sardinian-gradient hover:opacity-90",children:[s.jsx(Sy,{className:"w-4 h-4 mr-2"}),u.buttonText]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Reindirizzamento automatico tra ",o," secondi..."]}),s.jsx(T,{onClick:()=>e(i),variant:"ghost",className:"text-blue-400 hover:text-blue-300 text-sm",children:"Vai subito"})]})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai domande?"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"Contattaci"})]})})]})]})})})]})}function hO(){const e=he(),[t]=hn(),{toast:n}=Se(),[r,i]=m.useState({password:"",confirmPassword:""}),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(!1);m.useEffect(()=>{t.get("token")||(n({title:"Token mancante",description:"Link di reset password non valido.",variant:"destructive"}),e("/auth/error?message=Invalid+reset+link"))},[t,e,n]);const h=async x=>{if(x.preventDefault(),r.password!==r.confirmPassword){n({title:"Errore",description:"Le password non coincidono",variant:"destructive"});return}if(r.password.length<6){n({title:"Errore",description:"La password deve essere di almeno 6 caratteri",variant:"destructive"});return}o(!0);try{const{error:y}=await J.auth.updateUser({password:r.password});if(y)throw y;n({title:"Password aggiornata! ✅",description:"La tua password è stata cambiata con successo."}),e("/auth/success?type=recovery&next=/dashboard")}catch(y){n({title:"Errore",description:y.message||"Impossibile aggiornare la password.",variant:"destructive"})}finally{o(!1)}},f=x=>{i({...r,[x.target.name]:x.target.value})},w=(x=>x.length<6?{strength:"weak",color:"text-red-400",text:"Troppo corta"}:x.length<8?{strength:"medium",color:"text-yellow-400",text:"Media"}:x.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/)?{strength:"strong",color:"text-green-400",text:"Forte"}:{strength:"medium",color:"text-yellow-400",text:"Media"})(r.password);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Reimposta Password - SardAI"}),s.jsx("meta",{name:"description",content:"Reimposta la tua password per accedere a SardAI."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Gr,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:"Nuova Password"}),s.jsx("p",{className:"text-gray-300",children:"Inserisci la tua nuova password per completare il reset"})]}),s.jsxs(V,{children:[s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"password",className:"text-white",children:"Nuova Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"password",name:"password",type:l?"text":"password",placeholder:"Almeno 6 caratteri",value:r.password,onChange:f,required:!0,className:"pl-10 pr-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"}),s.jsx(T,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(!l),className:"absolute right-1 top-1 h-8 w-8 text-gray-400 hover:text-gray-300",children:l?s.jsx(Ip,{className:"h-4 w-4"}):s.jsx(Ad,{className:"h-4 w-4"})})]}),r.password&&s.jsxs("p",{className:`text-xs ${w.color}`,children:["Sicurezza: ",w.text]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"confirmPassword",className:"text-white",children:"Conferma Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",placeholder:"Ripeti la password",value:r.confirmPassword,onChange:f,required:!0,className:"pl-10 pr-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"}),s.jsx(T,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(!u),className:"absolute right-1 top-1 h-8 w-8 text-gray-400 hover:text-gray-300",children:u?s.jsx(Ip,{className:"h-4 w-4"}):s.jsx(Ad,{className:"h-4 w-4"})})]}),r.confirmPassword&&r.password!==r.confirmPassword&&s.jsx("p",{className:"text-xs text-red-400",children:"Le password non coincidono"})]}),s.jsx(T,{type:"submit",disabled:a||r.password!==r.confirmPassword,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:a?"Aggiornamento...":"Aggiorna Password"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Ricordi la tua password?"," ",s.jsx(T,{variant:"ghost",onClick:()=>e("/login"),className:"text-blue-400 hover:text-blue-300 p-0 h-auto font-medium",children:"Accedi qui"})]})})]})]})]})})]})}function fO(){const e=he(),{toast:t}=Se(),[n,r]=m.useState(""),[i,a]=m.useState(!1),[o,l]=m.useState(!1),c=async u=>{if(u.preventDefault(),!n){t({title:"Errore",description:"Inserisci il tuo indirizzo email",variant:"destructive"});return}a(!0);try{const{data:d,error:h}=await J.functions.invoke("custom-email-handler",{body:{type:"resend_confirmation",email:n,redirectTo:`${window.location.origin}/auth/confirm?type=signup`}});if(h)throw h;l(!0),t({title:"Email inviata! 📧",description:"Controlla la tua casella di posta per il link di conferma."})}catch(d){t({title:"Errore nell'invio",description:d.message||"Impossibile inviare l'email di conferma.",variant:"destructive"})}finally{a(!1)}};return o?s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Email Inviata - SardAI"}),s.jsx("meta",{name:"description",content:"Email di conferma inviata con successo."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsx(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(wl,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:"Email Inviata! 📧"})]}),s.jsxs(V,{className:"text-center space-y-6",children:[s.jsxs("p",{className:"text-gray-300",children:["Abbiamo inviato un nuovo link di conferma a ",s.jsx("strong",{children:n})]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4",children:[s.jsx("h3",{className:"text-blue-300 font-semibold mb-2",children:"Cosa fare ora:"}),s.jsxs("ol",{className:"text-blue-200 text-sm text-left space-y-1",children:[s.jsx("li",{children:"1. Controlla la tua casella di posta"}),s.jsx("li",{children:"2. Cerca l'email da SardAI"}),s.jsx("li",{children:"3. Clicca sul link di conferma"}),s.jsx("li",{children:"4. Completa la registrazione"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(T,{onClick:()=>e("/login"),className:"w-full sardinian-gradient hover:opacity-90",children:"Vai al Login"}),s.jsx(T,{onClick:()=>l(!1),variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:"Invia a un altro indirizzo"})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Non hai ricevuto l'email? Controlla la cartella spam o"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"contattaci"})]})})]})]})})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Reinvia Conferma - SardAI"}),s.jsx("meta",{name:"description",content:"Richiedi un nuovo link di conferma per il tuo account SardAI."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/login"),className:"text-white hover:bg-white/10 mb-6",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna al Login"]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(xr,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-2xl font-bold text-white",children:"Reinvia Conferma"}),s.jsx("p",{className:"text-gray-300",children:"Inserisci la tua email per ricevere un nuovo link di conferma"})]}),s.jsxs(V,{children:[s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pt,{htmlFor:"email",className:"text-white",children:"Indirizzo Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(xr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"email",name:"email",type:"email",placeholder:"la.tua.email@esempio.com",value:n,onChange:u=>r(u.target.value),required:!0,className:"pl-10 bg-slate-800/50 border-slate-600 text-white placeholder:text-gray-400"})]})]}),s.jsx(T,{type:"submit",disabled:i,className:"w-full sardinian-gradient hover:opacity-90 text-lg py-3",children:i?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Invio in corso..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(wl,{className:"w-4 h-4 mr-2"}),"Invia Link di Conferma"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-300 text-sm",children:["Hai già confermato il tuo account?"," ",s.jsx(T,{variant:"ghost",onClick:()=>e("/login"),className:"text-blue-400 hover:text-blue-300 p-0 h-auto font-medium",children:"Accedi qui"})]})})]})]})]})})]})}function fx(){const e=he(),[t]=hn(),{toast:n}=Se(),[r,i]=m.useState("processing");return m.useEffect(()=>{(async()=>{try{const o=t.get("code"),l=t.get("error"),c=t.get("error_description");if(l){console.error("Auth callback error:",l,c),e(`/auth/error?message=${encodeURIComponent(c||l)}`);return}if(o){const{data:u,error:d}=await J.auth.exchangeCodeForSession(o);if(d){console.error("Code exchange error:",d),e(`/auth/error?message=${encodeURIComponent(d.message)}`);return}u.session?(i("success"),n({title:"Accesso effettuato! 🎉",description:"Benvenuto in SardAI!"}),setTimeout(()=>{e("/dashboard")},1500)):e("/auth/error?message=No+session+created")}else e("/auth/error?message=No+authorization+code+received")}catch(o){console.error("Auth callback error:",o),e(`/auth/error?message=${encodeURIComponent(o.message)}`)}})()},[t,e,n]),s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Autenticazione - SardAI"}),s.jsx("meta",{name:"description",content:"Completamento autenticazione..."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-8",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]}),r==="processing"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-white text-lg",children:"Completamento autenticazione..."}),s.jsx("p",{className:"text-gray-400",children:"Attendere prego"})]}),r==="success"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("p",{className:"text-white text-lg",children:"Autenticazione completata!"}),s.jsx("p",{className:"text-gray-400",children:"Reindirizzamento in corso..."})]})]})})]})}function mO(){var u;const e=he(),[t]=hn();tt();const{subscription:n,refetch:r}=ds(),{toast:i}=Se(),[a,o]=m.useState(5);m.useEffect(()=>{r(),i({title:"Pagamento completato! 🎉",description:"Benvenuto in SardAI Premium! Il tuo abbonamento è ora attivo."});const d=setInterval(()=>{o(h=>h<=1?(clearInterval(d),e("/chat"),0):h-1)},1e3);return()=>clearInterval(d)},[r,i,e]),t.get("session_id");const l=t.get("amount"),c=t.get("currency");return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Pagamento Completato - SardAI Premium"}),s.jsx("meta",{name:"description",content:"Il tuo pagamento è stato completato con successo. Benvenuto in SardAI Premium!"})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(hr,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs(F,{className:"sardinian-card premium-glow",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"w-16 h-16 sardinian-gradient rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(G,{className:"w-8 h-8 text-white"})}),s.jsx(q,{className:"text-3xl font-bold text-white mb-2",children:"Benvenuto in SardAI Premium! 🎉"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Il tuo pagamento è stato completato con successo"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-800/30 p-6 rounded-lg border border-green-500/20",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[s.jsx(va,{className:"w-5 h-5 mr-2 text-green-400"}),"Dettagli Pagamento"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Piano Attivato"}),s.jsx("p",{className:"text-white font-medium",children:((u=n==null?void 0:n.product)==null?void 0:u.name)||"SardAI Premium"})]}),l&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Importo"}),s.jsxs("p",{className:"text-white font-medium",children:[(parseFloat(l)/100).toFixed(2)," ",(c==null?void 0:c.toUpperCase())||"EUR"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Data Attivazione"}),s.jsx("p",{className:"text-white font-medium",children:new Date().toLocaleDateString("it-IT")})]}),(n==null?void 0:n.current_period_end)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Prossimo Rinnovo"}),s.jsx("p",{className:"text-white font-medium",children:new Date(n.current_period_end*1e3).toLocaleDateString("it-IT")})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 p-6 rounded-lg border border-yellow-500/20",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[s.jsx(Rd,{className:"w-5 h-5 mr-2 text-yellow-400"}),"Ora Hai Accesso A:"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Chat in lingua sarda autentica","Dialetti: Logudorese, Campidanese","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle nuove funzionalità"].map((d,h)=>s.jsxs(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+h*.1},className:"flex items-center space-x-2",children:[s.jsx(hr,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:d})]},h))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(T,{onClick:()=>e("/chat"),className:"w-full sardinian-gradient hover:opacity-90 text-lg py-4",children:[s.jsx(We,{className:"w-5 h-5 mr-2"}),"Inizia a Conversare in Sardo"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(T,{onClick:()=>e("/subscription"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Gestisci Abbonamento"]}),s.jsxs(T,{onClick:()=>e("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Sy,{className:"w-4 h-4 mr-2"}),"Vai alla Dashboard"]})]})]}),s.jsxs("div",{className:"text-center pt-4 border-t border-slate-600",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Reindirizzamento automatico alla chat tra ",a," secondi..."]}),s.jsx(T,{onClick:()=>e("/chat"),variant:"ghost",className:"text-blue-400 hover:text-blue-300 text-sm mt-2",children:"Vai subito alla chat"})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai domande sul tuo abbonamento?"," ",s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"Contattaci"})]})})]})]}),s.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Bene bene! Ora puoi parlare sardo come un vero isolano!" 🏝️'})})]})})]})}function pO(){const e=he(),[t]=hn(),{toast:n}=Se(),[r,i]=m.useState(10);return m.useEffect(()=>{n({title:"Pagamento annullato",description:"Il pagamento è stato annullato. Puoi riprovare quando vuoi.",variant:"destructive"});const a=setInterval(()=>{i(o=>o<=1?(clearInterval(a),e("/subscription"),0):o-1)},1e3);return()=>clearInterval(a)},[n,e]),t.get("session_id"),s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Pagamento Annullato - SardAI"}),s.jsx("meta",{name:"description",content:"Il pagamento è stato annullato. Puoi riprovare quando vuoi."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-20 h-20 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(xf,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(q,{className:"text-3xl font-bold text-white mb-2",children:"Pagamento Annullato"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Nessun problema! Il tuo pagamento è stato annullato"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-orange-900/20 border border-orange-500/30 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-orange-300 font-semibold mb-3 flex items-center",children:[s.jsx(Py,{className:"w-5 h-5 mr-2"}),"Cosa è successo?"]}),s.jsxs("div",{className:"space-y-2 text-orange-200 text-sm",children:[s.jsx("p",{children:"• Il processo di pagamento è stato interrotto"}),s.jsx("p",{children:"• Non è stato addebitato alcun importo"}),s.jsx("p",{children:"• Il tuo account rimane invariato"}),s.jsx("p",{children:"• Puoi riprovare in qualsiasi momento"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 p-6 rounded-lg border border-yellow-500/20",children:[s.jsxs("h3",{className:"text-yellow-300 font-semibold mb-3 flex items-center",children:[s.jsx(G,{className:"w-5 h-5 mr-2"}),"Ti Ricordiamo i Vantaggi Premium:"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Chat in lingua sarda autentica","Dialetti logudorese e campidanese","Contenuti culturali esclusivi","Traduzione italiano/sardo","Mini-corsi di lingua sarda","Guida turistica sarda interattiva","Supporto prioritario","Accesso anticipato alle novità"].map((a,o)=>s.jsxs(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+o*.1},className:"flex items-center space-x-2",children:[s.jsx(G,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300 text-sm",children:a})]},o))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(T,{onClick:()=>e("/subscription"),className:"w-full sardinian-gradient hover:opacity-90 text-lg py-4",children:[s.jsx(dn,{className:"w-5 h-5 mr-2"}),"Riprova il Pagamento"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(T,{onClick:()=>e("/chat"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(We,{className:"w-4 h-4 mr-2"}),"Chat Gratuita"]}),s.jsxs(T,{onClick:()=>e("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]}),s.jsxs("div",{className:"text-center pt-4 border-t border-slate-600",children:[s.jsxs("p",{className:"text-gray-400 text-sm",children:["Reindirizzamento automatico agli abbonamenti tra ",r," secondi..."]}),s.jsx(T,{onClick:()=>e("/subscription"),variant:"ghost",className:"text-blue-400 hover:text-blue-300 text-sm mt-2",children:"Vai subito"})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Hai avuto problemi con il pagamento?"," ",s.jsxs("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:[s.jsx(xr,{className:"w-4 h-4 inline mr-1"}),"Contattaci per assistenza"]})]})})]})]}),s.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Aho, non ti preoccupare! Quando sei pronto, SardAI ti aspetta!" 😊'})})]})})]})}function gO(){const e=he(),[t]=hn(),[n,r]=m.useState("");return m.useEffect(()=>{const i=setInterval(()=>{r(c=>c.length>=3?"":c+".")},500);t.get("session_id");const a=t.get("success"),o=t.get("canceled"),l=setTimeout(()=>{e(a==="true"?"/stripe/success":o==="true"?"/stripe/cancel":"/subscription")},3e3);return()=>{clearInterval(i),clearTimeout(l)}},[e,t]),s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Elaborazione Pagamento - SardAI"}),s.jsx("meta",{name:"description",content:"Stiamo elaborando il tuo pagamento. Attendere prego..."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-lg",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(z.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(va,{className:"w-8 h-8 text-white"})}),s.jsxs(q,{className:"text-2xl font-bold text-white mb-2",children:["Elaborazione Pagamento",n]}),s.jsx("p",{className:"text-gray-300",children:"Stiamo processando il tuo pagamento in sicurezza"})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"flex items-center space-x-3 p-3 bg-blue-900/20 rounded-lg border border-blue-500/20",children:[s.jsx(z.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},children:s.jsx(ya,{className:"w-5 h-5 text-blue-400 animate-spin"})}),s.jsx("span",{className:"text-blue-300",children:"Verifica dei dati di pagamento"})]}),s.jsxs(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"flex items-center space-x-3 p-3 bg-yellow-900/20 rounded-lg border border-yellow-500/20",children:[s.jsx(z.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.5},children:s.jsx(G,{className:"w-5 h-5 text-yellow-400"})}),s.jsx("span",{className:"text-yellow-300",children:"Attivazione abbonamento Premium"})]}),s.jsxs(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},className:"flex items-center space-x-3 p-3 bg-green-900/20 rounded-lg border border-green-500/20",children:[s.jsx(z.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:1},children:s.jsx(Ze,{className:"w-5 h-5 text-green-400"})}),s.jsx("span",{className:"text-green-300",children:"Configurazione account"})]})]}),s.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-600",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Ze,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-green-400 font-semibold text-sm",children:"Pagamento Sicuro"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"I tuoi dati di pagamento sono protetti da crittografia SSL e processati in sicurezza tramite Stripe, leader mondiale nei pagamenti online."})]}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[s.jsx(ts,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Tempo di elaborazione: 30-60 secondi"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Non chiudere questa pagina durante l'elaborazione"})]}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Reindirizzamento automatico tra ",countdown," secondi..."]})}),s.jsx("div",{className:"text-center pt-4 border-t border-slate-600",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Problemi con il pagamento?"," ",s.jsxs("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:[s.jsx(Mail,{className:"w-4 h-4 inline mr-1"}),"Contatta il supporto"]})]})})]})]}),s.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Aspetta un attimo, stiamo preparando tutto per te!" ⏳'})})]})})]})}function xO(){var l;const e=he(),[t]=hn(),{toast:n}=Se(),[r,i]=m.useState("");m.useEffect(()=>{const c=t.get("error")||"Si è verificato un errore durante il pagamento";i(decodeURIComponent(c)),n({title:"Errore nel pagamento",description:"Si è verificato un problema durante il processo di pagamento.",variant:"destructive"})},[t,n]);const o=(c=>{const u=c.toLowerCase();return u.includes("card")||u.includes("declined")?{title:"Carta Rifiutata",description:"La tua carta di credito è stata rifiutata. Verifica i dati inseriti o prova con un'altra carta.",suggestions:["Controlla il numero della carta","Verifica la data di scadenza","Controlla il codice CVV","Assicurati di avere fondi sufficienti","Prova con un'altra carta"]}:u.includes("expired")?{title:"Sessione Scaduta",description:"La sessione di pagamento è scaduta. Riprova il processo dall'inizio.",suggestions:["Torna alla pagina abbonamenti","Seleziona nuovamente il piano","Completa il pagamento entro 30 minuti"]}:u.includes("insufficient")?{title:"Fondi Insufficienti",description:"Non ci sono fondi sufficienti sulla carta per completare il pagamento.",suggestions:["Verifica il saldo della carta","Prova con un'altra carta","Contatta la tua banca"]}:{title:"Errore di Pagamento",description:c,suggestions:["Riprova il pagamento","Verifica i dati della carta","Prova con un'altra carta","Contatta il supporto se il problema persiste"]}})(r);return s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Errore Pagamento - SardAI"}),s.jsx("meta",{name:"description",content:"Si è verificato un errore durante il processo di pagamento."})]}),s.jsx("div",{className:"min-h-screen sardinian-pattern flex items-center justify-center p-4",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-20 h-20 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Yt,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-7 h-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-white",children:"SardAI"})]})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsxs(K,{className:"text-center",children:[s.jsx(q,{className:"text-3xl font-bold text-white mb-2",children:o.title}),s.jsx("p",{className:"text-gray-300 text-lg",children:o.description})]}),s.jsxs(V,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-red-300 font-semibold mb-3 flex items-center",children:[s.jsx(Py,{className:"w-5 h-5 mr-2"}),"Cosa Puoi Fare:"]}),s.jsx("ul",{className:"space-y-2 text-red-200 text-sm",children:o.suggestions.map((c,u)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-red-400 mt-1",children:"•"}),s.jsx("span",{children:c})]},u))})]}),s.jsxs("div",{className:"bg-slate-800/30 p-6 rounded-lg border border-slate-600",children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center",children:[s.jsx(va,{className:"w-5 h-5 mr-2"}),"Problemi Comuni:"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white mb-1",children:"Carta Rifiutata"}),s.jsx("p",{children:"Verifica numero, scadenza e CVV"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white mb-1",children:"Fondi Insufficienti"}),s.jsx("p",{children:"Controlla il saldo disponibile"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white mb-1",children:"Carta Scaduta"}),s.jsx("p",{children:"Usa una carta con data valida"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white mb-1",children:"Blocco Banca"}),s.jsx("p",{children:"Contatta la tua banca"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(T,{onClick:()=>e("/subscription"),className:"w-full sardinian-gradient hover:opacity-90 text-lg py-4",children:[s.jsx(dn,{className:"w-5 h-5 mr-2"}),"Riprova il Pagamento"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(T,{onClick:()=>e("/chat"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(We,{className:"w-4 h-4 mr-2"}),"Chat Gratuita"]}),s.jsxs(T,{onClick:()=>e("/dashboard"),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]}),s.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-blue-300 font-semibold mb-3 flex items-center",children:[s.jsx(xr,{className:"w-5 h-5 mr-2"}),"Hai Bisogno di Aiuto?"]}),s.jsx("p",{className:"text-blue-200 text-sm mb-4",children:"Il nostro team di supporto è qui per aiutarti con qualsiasi problema di pagamento."}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xr,{className:"w-4 h-4 text-blue-400"}),s.jsx("a",{href:"mailto:info@sardai.tech",className:"text-blue-400 hover:text-blue-300",children:"info@sardai.tech"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ts,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-200",children:"Risposta entro 24 ore"})]})]})]}),t.get("error_code")&&s.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-lg border border-slate-700",children:[s.jsx("h4",{className:"text-gray-400 font-medium mb-2",children:"Dettagli Tecnici:"}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[s.jsxs("p",{children:["Codice Errore: ",t.get("error_code")]}),s.jsxs("p",{children:["Sessione: ",(l=t.get("session_id"))==null?void 0:l.substring(0,20),"..."]})]})]})]})]}),s.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-center mt-6",children:s.jsx("p",{className:"text-gray-400 text-sm italic",children:'"Madonna mia! Qualcosa è andato storto, ma non ti preoccupare!" 😅'})})]})})]})}function vO(){var h,f,g,w,x,y,p,v,j,b;const e=he();tt();const{subscription:t,loading:n,refetch:r}=ds(),{toast:i}=Se(),[a,o]=m.useState(!1);m.useEffect(()=>{r()},[r]);const l=async()=>{o(!0);try{const{data:S,error:P}=await J.functions.invoke("stripe-manage-subscription",{body:{action:"cancel",subscription_id:t.subscription_id}});if(P)throw P;i({title:"Abbonamento annullato",description:"Il tuo abbonamento verrà cancellato alla fine del periodo corrente."}),r()}catch(S){i({title:"Errore nell'annullamento",description:S.message||"Impossibile annullare l'abbonamento.",variant:"destructive"})}finally{o(!1)}},c=async()=>{try{const{data:S,error:P}=await J.functions.invoke("stripe-manage-subscription",{body:{action:"reactivate",subscription_id:t.subscription_id}});if(P)throw P;i({title:"Abbonamento riattivato! 🎉",description:"Il tuo abbonamento Premium è stato riattivato con successo."}),r()}catch(S){i({title:"Errore nella riattivazione",description:S.message||"Impossibile riattivare l'abbonamento.",variant:"destructive"})}},u=S=>{const P={active:{color:"bg-green-500/20 text-green-400",icon:hr,label:"Attivo"},past_due:{color:"bg-yellow-500/20 text-yellow-400",icon:Yt,label:"Scaduto"},canceled:{color:"bg-red-500/20 text-red-400",icon:Yt,label:"Cancellato"},trialing:{color:"bg-blue-500/20 text-blue-400",icon:ts,label:"Prova"}},_=P[S]||P.active,N=_.icon;return s.jsxs(Ct,{className:`${_.color} border-0`,children:[s.jsx(N,{className:"w-3 h-3 mr-1"}),_.label]})},d=S=>new Date(S*1e3).toLocaleDateString("it-IT",{day:"2-digit",month:"long",year:"numeric"});return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):t!=null&&t.isActive?s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Gestione Abbonamento Premium - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento SardAI Premium, visualizza fatture e modifica impostazioni."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/subscription"),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna agli Abbonamenti"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestione Abbonamento"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:s.jsxs(z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs(F,{className:"sardinian-card premium-glow",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(G,{className:"w-6 h-6 mr-2 text-yellow-400"}),"Il Tuo Abbonamento Premium"]})}),s.jsxs(V,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Piano Attuale"}),s.jsx("p",{className:"text-white text-xl font-semibold",children:((h=t.product)==null?void 0:h.name)||"SardAI Premium"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u(t.subscription_status),t.cancel_at_period_end&&s.jsxs(Ct,{className:"bg-yellow-500/20 text-yellow-400 border-0",children:[s.jsx(Yt,{className:"w-3 h-3 mr-1"}),"In Cancellazione"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Prezzo"}),s.jsxs("p",{className:"text-white text-lg font-medium",children:[(f=t.product)==null?void 0:f.price," ",(w=(g=t.product)==null?void 0:g.currency)==null?void 0:w.toUpperCase()," / ",((x=t.product)==null?void 0:x.interval)==="month"?"mese":"anno"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Prossimo Rinnovo"}),s.jsx("p",{className:"text-white text-lg font-medium",children:t.current_period_end?d(t.current_period_end):"Non disponibile"})]}),t.payment_method_last4&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Metodo di Pagamento"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(va,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-white",children:[(y=t.payment_method_brand)==null?void 0:y.toUpperCase()," •••• ",t.payment_method_last4]})]})]})]})]}),t.cancel_at_period_end&&s.jsxs("div",{className:"mt-6 p-4 bg-yellow-900/30 border border-yellow-500/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Yt,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"text-yellow-400 font-semibold",children:"Abbonamento in Cancellazione"})]}),s.jsxs("p",{className:"text-yellow-200 text-sm",children:["Il tuo abbonamento verrà cancellato il ",d(t.current_period_end),". Potrai continuare a usare le funzionalità Premium fino a quella data."]}),s.jsx(T,{onClick:c,className:"mt-3 sardinian-gradient hover:opacity-90",size:"sm",children:"Riattiva Abbonamento"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(va,{className:"w-5 h-5 mr-2"}),"Fatturazione"]})}),s.jsx(V,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(T,{variant:"outline",className:"w-full justify-start border-white/20 text-white hover:bg-white/10",onClick:()=>{i({title:"🚧 Funzionalità in arrivo!",description:"La gestione delle fatture sarà disponibile presto."})},children:[s.jsx(pf,{className:"w-4 h-4 mr-2"}),"Scarica Fatture"]}),s.jsxs(T,{variant:"outline",className:"w-full justify-start border-white/20 text-white hover:bg-white/10",onClick:()=>{i({title:"🚧 Funzionalità in arrivo!",description:"La modifica del metodo di pagamento sarà disponibile presto."})},children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Modifica Metodo di Pagamento"]})]})})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(wa,{className:"w-5 h-5 mr-2"}),"Gestione Abbonamento"]})}),s.jsx(V,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[t.cancel_at_period_end?s.jsxs(T,{onClick:c,className:"w-full justify-start sardinian-gradient hover:opacity-90",children:[s.jsx(hr,{className:"w-4 h-4 mr-2"}),"Riattiva Abbonamento"]}):s.jsxs(er,{children:[s.jsx(tr,{asChild:!0,children:s.jsxs(T,{variant:"outline",className:"w-full justify-start border-red-500/50 text-red-400 hover:bg-red-500/10",children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Annulla Abbonamento"]})}),s.jsxs(Sn,{className:"sardinian-card",children:[s.jsxs(Cn,{children:[s.jsx(Pn,{children:"Annulla Abbonamento Premium"}),s.jsxs(Tn,{children:["Sei sicuro di voler annullare il tuo abbonamento Premium? Potrai continuare a usare le funzionalità Premium fino al ",d(t.current_period_end),"."]})]}),s.jsxs(_n,{children:[s.jsx(En,{children:"Mantieni Premium"}),s.jsx(nr,{onClick:l,className:"bg-red-600 hover:bg-red-700",disabled:a,children:a?"Annullamento...":"Annulla Abbonamento"})]})]})]}),s.jsxs(T,{variant:"outline",className:"w-full justify-start border-white/20 text-white hover:bg-white/10",onClick:()=>{i({title:"🚧 Funzionalità in arrivo!",description:"Il cambio piano sarà disponibile presto."})},children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Cambia Piano"]})]})})]})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(es,{className:"w-5 h-5 mr-2"}),"Cronologia Fatturazione"]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/30 rounded-lg border border-slate-600",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:s.jsx(hr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:((p=t.product)==null?void 0:p.name)||"SardAI Premium"}),s.jsx("p",{className:"text-gray-400 text-sm",children:d(t.current_period_start||Date.now()/1e3)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white font-medium",children:[(v=t.product)==null?void 0:v.price," ",(b=(j=t.product)==null?void 0:j.currency)==null?void 0:b.toUpperCase()]}),s.jsx(Ct,{className:"bg-green-500/20 text-green-400 border-0 mt-1",children:"Pagato"})]})]}),s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"La cronologia completa delle fatture sarà disponibile presto"})})]})})]}),s.jsxs(F,{className:"sardinian-card",children:[s.jsx(K,{children:s.jsxs(q,{className:"text-white flex items-center",children:[s.jsx(Ze,{className:"w-5 h-5 mr-2"}),"Supporto e Assistenza"]})}),s.jsx(V,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Hai Domande?"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Il nostro team di supporto è qui per aiutarti con qualsiasi domanda sul tuo abbonamento Premium."}),s.jsx(T,{variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-500/10",onClick:()=>window.open("mailto:info@sardai.tech","_blank"),children:"Contatta il Supporto"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-white font-semibold",children:"Informazioni Utili"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsx("p",{children:"• Puoi annullare in qualsiasi momento"}),s.jsx("p",{children:"• Nessun costo di cancellazione"}),s.jsx("p",{children:"• Accesso Premium fino alla scadenza"}),s.jsx("p",{children:"• Fatture inviate via email"})]})]})]})})]})]})})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"Gestione Abbonamento - SardAI"}),s.jsx("meta",{name:"description",content:"Gestisci il tuo abbonamento SardAI Premium."})]}),s.jsxs("div",{className:"min-h-screen sardinian-pattern",children:[s.jsx("header",{className:"glass-effect border-b border-white/10 p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs(T,{variant:"ghost",onClick:()=>e("/subscription"),className:"text-white hover:bg-white/10",children:[s.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Torna agli Abbonamenti"]}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestione Abbonamento"}),s.jsx("div",{className:"w-32"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(F,{className:"sardinian-card text-center",children:s.jsxs(V,{className:"p-8",children:[s.jsx(G,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Nessun Abbonamento Attivo"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Non hai un abbonamento Premium attivo. Scopri tutti i vantaggi!"}),s.jsxs(T,{onClick:()=>e("/subscription"),className:"sardinian-gradient hover:opacity-90",children:[s.jsx(G,{className:"w-4 h-4 mr-2"}),"Diventa Premium"]})]})})})})]})]})}function yO(){var f,g,w,x;const{user:e,profile:t,logout:n}=tt(),r=Cr(),i=he(),[a,o]=m.useState(!1),l=y=>r.pathname===y,c=async()=>{await n(),i("/"),o(!1)},d=[{path:"/",label:"Home",icon:Ty,public:!0},{path:"/premium",label:"Premium",icon:G,public:!0},{path:"/dashboard",label:"Dashboard",icon:We,protected:!0},{path:"/profile",label:"Profilo",icon:Bt,protected:!0},{path:"/subscription",label:"Premium",icon:G,protected:!0,premium:!1},{path:"/admin",label:"Admin",icon:Ze,admin:!0}].filter(y=>y.public?!0:!(y.protected&&!e||y.admin&&(t==null?void 0:t.role)!=="admin"||y.premium===!1&&(t!=null&&t.is_premium))),h=({item:y,mobile:p=!1})=>s.jsxs(gt,{to:y.path,onClick:()=>p&&o(!1),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${l(y.path)?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-white/10"} ${p?"w-full justify-start":""}`,children:[s.jsx(y.icon,{className:"w-4 h-4"}),s.jsx("span",{children:y.label}),y.path==="/subscription"&&!(t!=null&&t.is_premium)&&s.jsx("span",{className:"ml-auto px-2 py-1 text-xs bg-yellow-500 text-black rounded-full",children:"Upgrade"})]});return s.jsx("nav",{className:"glass-effect border-b border-white/10 sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs(gt,{to:"/",className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"SardAI"})]}),s.jsx("div",{className:"hidden md:flex items-center space-x-1",children:d.map(y=>s.jsx(h,{item:y},y.path))}),s.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(zt,{className:"w-8 h-8",children:[s.jsx(Pa,{src:t==null?void 0:t.avatar_url}),s.jsx(Ft,{className:"bg-blue-600 text-white text-sm",children:(g=(f=t==null?void 0:t.full_name)==null?void 0:f.charAt(0))==null?void 0:g.toUpperCase()})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-gray-400 text-xs",children:(t==null?void 0:t.role)==="admin"?"🛡️ Admin":t!=null&&t.is_premium?"👑 Premium":"🆓 Gratuito"})]})]}),s.jsx(T,{variant:"ghost",size:"sm",onClick:c,className:"text-red-400 hover:text-red-300 hover:bg-red-400/10",children:s.jsx(Od,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(T,{variant:"ghost",onClick:()=>i("/login"),className:"text-white hover:bg-white/10",children:"Accedi"}),s.jsx(T,{onClick:()=>i("/register"),className:"sardinian-gradient hover:opacity-90",children:"Registrati"})]})}),s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>o(!a),className:"md:hidden text-white hover:bg-white/10",children:a?s.jsx(ba,{className:"w-5 h-5"}):s.jsx(Zl,{className:"w-5 h-5"})})]}),s.jsx(ER,{children:a&&s.jsx(z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"md:hidden border-t border-white/10 py-4",children:s.jsxs("div",{className:"space-y-2",children:[d.map(y=>s.jsx(h,{item:y,mobile:!0},y.path)),e?s.jsxs("div",{className:"pt-4 border-t border-white/10 mt-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 mb-3",children:[s.jsxs(zt,{className:"w-10 h-10",children:[s.jsx(Pa,{src:t==null?void 0:t.avatar_url}),s.jsx(Ft,{className:"bg-blue-600 text-white",children:(x=(w=t==null?void 0:t.full_name)==null?void 0:w.charAt(0))==null?void 0:x.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-gray-400 text-sm",children:(t==null?void 0:t.role)==="admin"?"🛡️ Admin":t!=null&&t.is_premium?"👑 Premium":"🆓 Gratuito"})]})]}),s.jsxs(T,{variant:"ghost",onClick:c,className:"w-full justify-start text-red-400 hover:text-red-300 hover:bg-red-400/10",children:[s.jsx(Od,{className:"w-4 h-4 mr-2"}),"Logout"]})]}):s.jsxs("div",{className:"pt-4 border-t border-white/10 mt-4 space-y-2",children:[s.jsx(T,{variant:"ghost",onClick:()=>{i("/login"),o(!1)},className:"w-full justify-start text-white hover:bg-white/10",children:"Accedi"}),s.jsx(T,{onClick:()=>{i("/register"),o(!1)},className:"w-full sardinian-gradient hover:opacity-90",children:"Registrati"})]})]})})})]})})}function wO(){return s.jsx("footer",{className:"glass-effect border-t border-white/10 mt-auto",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left",children:[s.jsxs("div",{className:"mb-6 md:mb-0",children:[s.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 sardinian-gradient rounded-lg flex items-center justify-center",children:s.jsx(Ee,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"SardAI"})]}),s.jsxs("p",{className:"text-gray-400 flex items-center justify-center md:justify-start",children:["Fatto con ❤️ in Sardegna • SardAI ",new Date().getFullYear()]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-8 text-gray-300",children:[s.jsx(gt,{to:"/terms",className:"hover:text-white transition-colors",children:"Condizioni di Utilizzo"}),s.jsx(gt,{to:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"}),s.jsx(gt,{to:"/gdpr",className:"hover:text-white transition-colors",children:"GDPR"}),s.jsx("a",{href:"mailto:info@sardai.tech",className:"hover:text-white transition-colors",children:"Contatto"})]})]})})})}function jO(){return s.jsx(hE,{children:s.jsxs(N2,{children:[s.jsxs(le,{children:[s.jsx("title",{children:"SardAI - Assistente Virtuale Sardo"}),s.jsx("meta",{name:"description",content:"L'assistente virtuale che parla sardo. Scopri la cultura sarda attraverso l'intelligenza artificiale con modalità gratuita e premium."}),s.jsx("meta",{name:"keywords",content:"sardegna, sardo, AI, assistente virtuale, chatbot, cultura sarda, logudorese, campidanese"}),s.jsx("meta",{property:"og:title",content:"SardAI - Assistente Virtuale Sardo"}),s.jsx("meta",{property:"og:description",content:"L'assistente virtuale che parla sardo. Scopri la cultura sarda attraverso l'intelligenza artificiale."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://sardai.tech"})]}),s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(yO,{}),s.jsx("main",{className:"flex-grow",children:s.jsxs(p2,{children:[s.jsx(ye,{path:"/",element:s.jsx(AR,{})}),s.jsx(ye,{path:"/login",element:s.jsx(H3,{})}),s.jsx(ye,{path:"/register",element:s.jsx(W3,{})}),s.jsx(ye,{path:"/gdpr",element:s.jsx(aO,{})}),s.jsx(ye,{path:"/terms",element:s.jsx(oO,{})}),s.jsx(ye,{path:"/privacy",element:s.jsx(lO,{})}),s.jsx(ye,{path:"/premium",element:s.jsx(cO,{})}),s.jsx(ye,{path:"/auth/error",element:s.jsx(uO,{})}),s.jsx(ye,{path:"/auth/success",element:s.jsx(dO,{})}),s.jsx(ye,{path:"/auth/reset-password",element:s.jsx(hO,{})}),s.jsx(ye,{path:"/auth/resend-confirmation",element:s.jsx(fO,{})}),s.jsx(ye,{path:"/auth/callback",element:s.jsx(fx,{})}),s.jsx(ye,{path:"/auth/confirm",element:s.jsx(fx,{})}),s.jsx(ye,{path:"/stripe/success",element:s.jsx(mO,{})}),s.jsx(ye,{path:"/stripe/cancel",element:s.jsx(pO,{})}),s.jsx(ye,{path:"/stripe/processing",element:s.jsx(gO,{})}),s.jsx(ye,{path:"/stripe/error",element:s.jsx(xO,{})}),s.jsx(ye,{path:"/stripe/manage",element:s.jsx(Si,{children:s.jsx(vO,{})})}),s.jsx(ye,{path:"/chat",element:s.jsx(Si,{children:s.jsx(gI,{})})}),s.jsx(ye,{path:"/dashboard",element:s.jsx(Si,{children:s.jsx(G3,{})})}),s.jsx(ye,{path:"/profile",element:s.jsx(Si,{children:s.jsx(K3,{})})}),s.jsx(ye,{path:"/subscription",element:s.jsx(Si,{children:s.jsx(q3,{})})}),s.jsx(ye,{path:"/admin",element:s.jsx(sO,{children:s.jsx(rO,{})})}),s.jsx(ye,{path:"*",element:s.jsx(iO,{})})]})}),s.jsx(wO,{})]}),s.jsx(hP,{})]})})}Su.createRoot(document.getElementById("root")).render(s.jsx(Y.StrictMode,{children:s.jsx(jO,{})}));
